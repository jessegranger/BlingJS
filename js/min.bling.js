(function(){var i,u,t,F,C,r,D,G,v,n=Array.prototype.slice,I=Object.prototype.hasOwnProperty,J=function(a,d){function c(){this.constructor=a}for(var b in d)I.call(d,b)&&(a[b]=d[b]);c.prototype=d.prototype;a.prototype=new c;a.__super__=d.prototype;return a},H=function(a,d){return function(){return a.apply(d,arguments)}};!1 in document?alert("This browser is not supported"):(v=console&&console.log?function(){var a;a=1<=arguments.length?n.call(arguments,0):[];return console.log.apply(console,a)}:function(){var a;
a=1<=arguments.length?n.call(arguments,0):[];return alert(a.join(", "))},t=Math.min,u=Math.max,F=Math.sqrt,C=Object.prototype.toString,r=/,* +/,D=/^\s+/,G=/\[object (\w+)\]/,i=function(a,d){var c;d==null&&(d=document);c=Object.Type(a);if(c==="node"||c==="window"||c==="function")c=[a];else if(c==="number")c=Array(a);else if(c==="string")if(a=a.trimLeft(),a[0]==="<")c=[i.HTML.parse(a)];else if(d.querySelectorAll)c=d.querySelectorAll(a);else throw Error("invalid context: "+d+" (type: "+Object.Type(d)+
")");else if(c==="array"||c==="bling"||c==="nodelist")c=a;else if(c==="undefined"||c==="null")c=[];else throw Error("invalid selector: "+a+" (type: "+Object.Type(a)+")");c.constructor=i;c.__proto__=i.fn;c.selector=a;c.context=d;c.length=c.len();return c},i.fn=[],Object.Keys=function(a,d){var c,b,f;d==null&&(d=!1);f=[];b=0;for(c in a)if(d||a.hasOwnProperty(c))f[b++]=c;return f},Object.Extend=function(a,d,c){var b,f,e;if(C.apply(c)==="[object Array]")for(b in c)d[c[b]]!==void 0&&(a[c[b]]=d[c[b]]);else{e=
Object.Keys(d);c=0;for(f=e.length;c<f;c++)b=e[c],a[b]=d[b]}return a},Object.Extend(Object,{Type:function(a){var d;switch(!0){case a===void 0:return"undefined";case a===null:return"null";case Object.IsString(a):return"string";case Object.IsType(a,i):return"bling";case Object.IsType(a,NodeList):return"nodelist";case Object.IsArray(a):return"array";case Object.IsNumber(a):return"number";case Object.IsFragment(a):return"fragment";case Object.IsNode(a):return"node";case Object.IsFunc(a):return"function";
case Object.IsType(a,"RegExp"):return"regexp";case (d=String(a))==="true"||d==="false":return"boolean";case Object.IsError(a):return _error_;case Object.IsObject(a):return"setInterval"in a?"window":"object"}},IsType:function(a,d){return a===null?a===d:a.constructor===d?!0:typeof d==="string"?a.constructor.name===d||C.apply(a).replace(G,"$1")===d:Object.IsType(a.__proto__,d)},IsString:function(a){return a!=null&&(typeof a==="string"||Object.IsType(a,String))},IsNumber:function(a){return a!=null&&Object.IsType(a,
Number)},IsBoolean:function(a){return typeof a==="boolean"},IsFunc:function(a){return a!=null&&(typeof a==="function"||Object.IsType(a,Function))&&a.call!=null},IsNode:function(a){return a!=null&&a.nodeType>0},IsFragment:function(a){return a!=null&&a.nodeType===11},IsArray:function(a){return a!=null&&(Object.ToString(a)==="[object Array]"||Object.IsType(a,Array))},IsBling:function(a){return a!=null&&Object.IsType(a,i)},IsError:function(a){var d;return a!=null&&((d=a.constructor)!=null?d.name:void 0)===
"Error"},IsObject:function(a){return a!=null&&typeof a==="object"},IsDefined:function(a){return a!=null},Unbox:function(a){if(a!=null&&Object.IsObject(a)){if(Object.IsString(a))return a.toString();if(Object.IsNumber(a))return Number(a)}return a},ToString:function(a){return C.apply(a)}}),Object.Extend(Function,{Empty:function(){},Bound:function(a,d,c){var b;c==null&&(c=[]);"bind"in a?(c.splice(0,0,d),b=a.bind.apply(a,c)):b=function(){1<=arguments.length&&n.call(arguments,0);return a.apply(d,c)};b.toString=
function(){return"bound-method of "+d+"."+a.name};return b},Trace:function(a,d,c){var b;c==null&&(c=v);b=function(){var b;b=1<=arguments.length?n.call(arguments,0):[];c(""+(d||"")+(this.name||this)+"."+a.name+"(",b,")");return a.apply(this,b)};c("Function.Trace: "+(d||a.name)+" created.");b.toString=a.toString;return b},NotNull:function(a){return a!==null},IndexFound:function(a){return a>-1},ReduceAnd:function(a){return a&&this},UpperLimit:function(a){return function(d){return t(a,d)}},LowerLimit:function(a){return function(d){return u(a,
d)}},Px:function(a){return function(){return Number.Px(this,a)}}}),Object.Extend(Array,{Coalesce:function(){var a,d,c,b;a=1<=arguments.length?n.call(arguments,0):[];if(Object.IsArray(a[0]))return Array.Coalesce.apply(Array,a[0]);else{c=0;for(b=a.length;c<b;c++)if(d=a[c],d!=null)return d}},Extend:function(a,d){var c,b,f,e;b=a.length;f=0;for(e=d.length;f<e;f++)c=d[f],a[b++]=c;return a}}),Object.Extend(Number,{Px:function(a,d){d==null&&(d=0);return a!=null&&parseInt(a,10)+(d|0)+"px"},AtLeast:function(a){return function(d){return u(parseFloat(d||
0),a)}},AtMost:function(a){return function(d){return t(parseFloat(d||0),a)}}}),Object.Extend(String,{PadLeft:function(a,d,c){for(c==null&&(c=" ");a.length<d;)a=c+a;return a},PadRight:function(a,d,c){for(c==null&&(c=" ");a.length<d;)a+=c;return a},Splice:function(a,d,c,b){var f;f=a.length;c<0&&(c+=f);d<0&&(d+=f);return a.substring(0,d)+b+a.substring(c)},Checksum:function(a){var d,c,b;d=c=0;for(b=a.length;0<=b?d<b:d>b;0<=b?d++:d--)c+=a.charCodeAt(d);return c}}),Object.Extend(Event,{Cancel:function(a){a.stopPropagation();
a.preventDefault();a.cancelBubble=!0;return a.returnValue=!1},Prevent:function(a){return a.preventDefault()},Stop:function(a){a.stopPropagation();return a.cancelBubble=!0}}),function(a){a.plugins=[];a.plugin=function(d){var c,b;try{b=d.call(a,a);c=d.name||b.name;if(!c)throw Error("plugin requires a 'name'");a.plugins.push(c);a.plugins[c]=b;delete b.name;b[i.symbol]&&(Object.Extend(i,b[i.symbol]),delete b[i.symbol]);return Object.Extend(i.fn,b)}catch(f){return console.log("failed to load plugin",f)}};
a.plugin(function(){var d;d=null;i.__defineSetter__("symbol",function(c){d in window&&delete window[d];d=c;return window[c]=i});i.__defineGetter__("symbol",function(){return d});i.symbol="$";window.Bling=a=i;return{name:"Symbol"}});a.plugin(function(){var a,c;D=/^\s+/;String.prototype.trimLeft=Array.Coalesce(String.prototype.trimLeft,function(){return this.replace(D,"")});String.prototype.split=Array.Coalesce(String.prototype.split,function(b){var c,a,g,h;c=[];for(a=h=0;(g=this.indexOf(b,a))>-1;)c[h++]=
this.substring(a+1,g+1),a=g+1;return c});Array.prototype.join=Array.Coalesce(Array.prototype.join,function(b){var c,a;b==null&&(b="");c=this.length;if(c===0)return"";for(a=this[c-1];--c>0;)a=this[c-1]+b+a;return a});Element.prototype.matchesSelector=Array.Coalesce(Element.prototype.webkitMatchesSelector,Element.prototype.mozMatchesSelector,Element.prototype.matchesSelector);c=Element.prototype.toString;Element.prototype.toString=function(b){return b?(b=this.nodeName.toLowerCase(),this.id!=null?b+=
"#"+this.id:this.className!=null&&(b+="."+this.className.split(" ").join(".")),b):c.apply(this)};if(Element.prototype.cloneNode.length===0)a=Element.prototype.cloneNode,Element.prototype.cloneNode=function(b){var c,e,g,h;b==null&&(b=!1);c=a.call(this);if(b){h=this.childNodes;e=0;for(g=h.length;e<g;e++)b=h[e],c.appendChild(b.cloneNode(!0))}return c};return{name:"Compat"}});a.plugin(function(){var d;d=new (function(){function c(){var b;b=H(function(){if(this.length>0)return this.shift()()},this);this.schedule=
H(function(c,a){var g,h;if(!Object.IsFunc(c))throw Error("function expected, got: "+typeof c);h=this.length;c.order=a+(new Date).getTime();if(h===0||c.order>this[h-1].order)this[h]=c;else for(g=0;0<=h?g<h:g>h;0<=h?g++:g--)if(this[g].order>c.order){this.splice(g,0,c);break}setTimeout(b,a);return this},this)}J(c,Array);return c}());return{name:"Core",eq:function(c){var b;b=a([this[c]]);b.context=this;return b.selector=function(){return b.context.eq(c)}},each:function(c){var b,a,d;a=0;for(d=this.length;a<
d;a++)b=this[a],c.call(b,b);return this},map:function(c){var b,f,d,g;b=a();b.context=this;b.selector=function(){return b.context.map(c)};d=this.len();for(f=0;0<=d?f<d:f>d;0<=d?f++:f--){g=this[f];try{b[f]=c.call(g,g)}catch(h){b[f]=h}}return b},reduce:function(c,b){var a,d;a=b;d=this;b==null&&(a=this[0],d=this.skip(1));d.each(function(){return a=c.call(this,a,this)});return a},union:function(c,b){var f,d,g,h;g=a();h=f=d=0;g.context=this;for(g.selector=function(){return g.context.union(c,b)};h=this[d++];)g.contains(h,
b)||(g[f++]=h);for(d=0;h=c[d++];)g.contains(h,b)||(g[f++]=h);return g},intersect:function(c){var b,f,d,g,h,k;k=a();d=0;g=this.len();h=Object.IsFunc(c.len)?c.len():c.length;k.context=this;k.selector=function(){return k.context.intersect(c)};for(b=0;0<=g?b<g:b>g;0<=g?b++:b--)for(f=0;0<=h?f<h:f>h;0<=h?f++:f--)if(this[b]===c[f]){k[d++]=this[b];break}return k},distinct:function(c){return this.union(this,c)},contains:function(c,b){var a,d,g;d=0;for(g=this.length;d<g;d++)if(a=this[d],b&&a===c||!b&&a===c)return!0;
return!1},count:function(c,b){var a;if(c===void 0)return this.len();a=0;this.each(function(d){if(b&&d===c||!b&&d===c)return a++});return a},zip:function(){var c,b,f,d,g,h,k,p;c=1<=arguments.length?n.call(arguments,0):[];h=c.length;switch(h){case 0:return a();case 1:return _zipper_.call(this,c[0]);default:p={};k=this.len();g=a();for(b=f=0;0<=h?b<h:b>h;0<=h?b++:b--)p[c[b]]=_zipper_.call(this,c[b]);for(b=0;0<=k?b<k:b>k;0<=k?b++:b--){c={};for(d in p)c[d]=p[d].shift();g[f++]=c}return g}},zap:function(c,
b){var a;a=c.indexOf(".");return a>-1?this.zip(c.substr(0,a)).zap(c.substr(a+1),b):Object.IsArray(b)?this.each(function(){return this[c]=b[++a%b.length]}):this.each(function(){return this[c]=b})},zipzapmap:function(c,a){var d;d=this.zip(c);d=d.map(a);return this.zap(c,d)},take:function(c){var b,d,c=t(c|0,this.len());b=a();b.context=this;b.selector=function(){return b.context.take(c)};for(d=0;0<=c?d<c:d>c;0<=c?d++:d--)b[d]=this[d];return b},skip:function(c){var b,d,e;c==null&&(c=0);c=t(this.len(),
u(0,c|0));e=this.len()-c;b=a();b.context=this;b.selector=function(){return b.context.skip(c)};for(d=0;0<=e?d<e:d>e;0<=e?d++:d--)b[d]=this[d+c];return b},first:function(a){a==null&&(a=1);return a===1?this[0]:this.take(a)},last:function(a){a==null&&(a=1);return a===1?this[this.len()-1]:this.skip(this.len()-a)},slice:function(c,b){var d,e,g;c==null&&(c=0);b==null&&(b=this.len());g=0;e=this.len();c<0&&(c+=e);b<0&&(b+=e);d=a();d.context=this;d.selector=function(){return d.context.slice(c,b)};for(e=c;c<=
b?e<b:e>b;c<=b?e++:e--)d[g++]=this[e];return d},concat:function(a){var b,d,e;b=this.len()-1;d=-1;for(e=Object.IsFunc(a.len)?a.len():a.length;d<e-1;)this[++b]=a[++d];return this},push:function(a){Array.prototype.push.call(this,a);return this},filter:function(c){var b,d,e,g,h,k;b=a();b.context=this;b.selector=function(){return b.context.filter(c)};switch(Object.Type(c)){case "string":d=function(a){return a.matchesSelector(c)};break;case "regexp":d=function(a){return c.test(a)};break;case "function":d=
c;break;default:throw Error("unsupported type passed to filter: "+Object.Type(c));}h=g=0;for(k=this.length;h<k;h++)e=this[h],d.call(e,e)&&(b[g++]=e);return b},test:function(a){return this.map(function(){return a.test(this)})},matches:function(a){return this.zip("matchesSelector").call(a)},querySelectorAll:function(c){return this.filter("*").reduce(function(a,d){return Array.Extend(a,d.querySelectorAll(c))},a())},weave:function(c){var b,d,e,g;g=this.len();e=c.len();d=g-1;b=a();b.context=this;b.selector=
function(){return b.context.weave(c)};for(d=g-=1;g<=0?d<=0:d>=0;g<=0?d++:d--)b[d*2+1]=this[d];for(d=0;0<=e?d<e:d>e;0<=e?d++:d--)b[d*2]=c[d];return b},fold:function(c){var b,d,e,g,h;g=this.len();e=0;b=a();b.context=this;b.selector=function(){return b.context.fold(c)};d=0;for(h=g-1;0<=h?d<h:d>h;d+=2)b[e++]=c.call(this,this[d],this[d+1]);g%2===1&&(b[e++]=c.call(this,this[g-1],void 0));return b},flatten:function(){var c,b,d,e,g,h,k;c=a();k=this.len();h=0;c.context=this;c.selector=function(){return c.context.flatten()};
for(e=0;0<=k?e<k:e>k;0<=k?e++:e--){b=this[e];d=Object.IsFunc(b.len)?b.len():b.length;for(g=0;0<=d?g<d:g>d;0<=d?g++:g--)c[h++]=b[g]}return c},call:function(){return this.apply(null,arguments)},apply:function(a,b){return this.map(function(){return Object.IsFunc(this)?this.apply(a,b):this})},toString:function(){return a.symbol+"(["+this.map(function(){switch(this){case void 0:return"undefined";case null:return"null";case window:return"window";default:return this.toString().replace(_object_re_,_1_)}}).join(", ")+
"])"},delay:function(a,b){b&&d.schedule(Function.Bound(b,this),a);return this},log:function(a){var b;b=this.len();a?v(a,this,b+" items"):v(this,b+" items");return this},len:function(){var a;for(a=this.length;this[a]!==void 0;)a++;for(;a>-1&&this[a]===void 0;)a--;return a+1}}});a.plugin(function(){var d,c,b,f,e;c=function(a,b){return a.parentNode.insertBefore(b,a)};d=function(a,b){return a.parentNode.insertBefore(b,a.nextSibling)};e=function(b){switch(Object.Type(b)){case "fragment":return b;case "node":return b;
case "bling":return b.toFragment();case "string":return a(b).toFragment();case "function":return a(b.toString()).toFragment();default:throw Error("toNode called with invalid argument: "+b+" (type: "+Object.Type(b)+")");}};b=null;f=function(a){return function(){return window.getComputedStyle(this,null).getPropertyValue(a)}};return{name:"Html",$:{HTML:{parse:function(a){var b,c,d,l;l=document.createElement("div");l.innerHTML=a;a=l.childNodes;d=a.length;if(d===1)return l.removeChild(a[0]);b=document.createDocumentFragment();
for(c=0;0<=d?c<d:c>d;0<=d?c++:c--)b.appendChild(l.removeChild(a[0]));return b},stringify:function(a){var b,c;switch(Object.Type(a)){case "string":return a;case "node":return a=a.cloneNode(!0),b=document.createElement("div"),b.appendChild(a),c=b.innerHTML,b.removeChild(a),delete a,c}},escape:function(c){b||(b=a("<div>&nbsp;</div>").child(0));c=b.zap("data",c).zip("parentNode.innerHTML").first();b.zap("data",_empty_);return c}}},html:function(a){switch(Object.Type(a)){case "undefined":return this.zip("innerHTML");
case "string":return this.zap("innerHTML",a);case "bling":return this.html(a.toFragment());case "node":return this.each(function(){var b;this.replaceChild(this.childNodes[0],a);for(b=[];this.childNodes.length>1;)b.push(this.removeChild(this.childNodes[1]));return b})}},append:function(a){var b,a=e(a);b=this.zip("appendChild");b.take(1).call(a);b.skip(1).each(function(b){return b(a.cloneNode(!0))});return this},appendTo:function(b){a(b).append(this);return this},prepend:function(a){a!=null&&(a=e(a),
this.take(1).each(function(){return c(this.childNodes[0],a)}),this.skip(1).each(function(){return c(this.childNodes[0],a.cloneNode(!0))}));return this},prependTo:function(b){b!=null&&a(b).prepend(this);return this},before:function(a){a!=null&&(a=e(a),this.take(1).each(function(){return c(this,a)}),this.skip(1).each(function(){return c(this,a.cloneNode(!0))}));return this},after:function(a){a!=null&&(a=e(a),this.take(1).each(function(){return d(this,a)}),this.skip(1).each(function(){return d(this,
a.cloneNode(!0))}));return this},wrap:function(a){a=e(a);if(Object.IsFragment(a))throw Error("cannot wrap with a fragment");return this.map(function(b){var c,d;if(Object.IsFragment(b))a.appendChild(b);else if(Object.IsNode(b))(d=b.parentNode)?(c=document.createElement("dummy"),a.appendChild(d.replaceChild(c,b)),d.replaceChild(a,c)):a.appendChild(b);return b})},unwrap:function(){return this.each(function(){if(this.parentNode&&this.parentNode.parentNode)return this.parentNode.parentNode.replaceChild(this,
this.parentNode)})},replace:function(b){var c,d,b=e(b);c=a();d=0;this.take(1).each(function(){if(this.parentNode)return this.parentNode.replaceChild(b,this),c[d++]=b});this.skip(1).each(function(){var a;if(this.parentNode)return a=b.cloneNode(!0),this.parentNode.replaceChild(a,this),c[d++]=a});return c},attr:function(a,b){switch(b){case void 0:return this.zip("getAttribute").call(a,b);case null:return this.zip("removeAttribute").call(a,b);default:return this.zip("setAttribute").call(a,b),this}},addClass:function(a){return this.removeClass(a).each(function(){var b;
b=this.className.split(" ").filter(function(a){return a!==""});b.push(a);return this.className=b.join(" ")})},removeClass:function(a){var b;b=function(b){return b!==a};return this.each(function(){return this.className=this.className.split(" ").filter(b).join(" ")})},toggleClass:function(a){var b;b=function(b){return b!==a};return this.each(function(){var c;c=this.className.split(" ");return c.indexOf(a)>-1?this.className=c.filter(b).join(" "):(c.push(a),this.className=c.join(" "))})},hasClass:function(a){return this.zip("className.split").call(" ").zip("indexOf").call(a).map(Function.IndexFound)},
text:function(a){return a!=null?this.zap("textContent",a):this.zip("textContent")},val:function(a){return a!=null?this.zap("value",a):this.zip("value")},css:function(a,b){var c,d,l,o;if(b!=null||Object.IsObject(a)){o=this.zip("style.setProperty");l=o.len();if(Object.IsObject(a))for(c in a)o.call(c,a[c],"");else if(Object.IsString(b))o.call(a,b,"");else if(Object.IsArray(b)){d=u(b.length,l);for(c=0;0<=d?c<d:c>d;0<=d?c++:c--)o[c%l](a,b[c%d],"")}return this}else return c=this.map(f(a)),d=this.zip("style").zip(a),
d.weave(c).fold(function(a,b){return a||b})},defaultCss:function(b,c){var d,p,l;p=this.selector;l="";if(Object.IsString(b))if(Object.IsString(c))l+=""+p+" { "+b+": "+c+" } ";else throw Error("defaultCss requires a value with a string key");else if(Object.IsObject(b)){l+=""+p+" { ";for(d in b)l+=""+d+": "+b[d]+"; ";l+="} "}a.synth("style").text(l).appendTo("head");return this},empty:function(){return this.html("")},rect:function(){return this.zip("getBoundingClientRect").call()},width:function(a){return a===
null?this.rect().zip("width"):this.css("width",a)},height:function(a){return a===null?this.rect().zip("height"):this.css("height",a)},top:function(a){return a===null?this.rect().zip("top"):this.css("top",a)},left:function(a){return a===null?this.rect().zip("left"):this.css("left",a)},bottom:function(a){return a===null?this.rect().zip("bottom"):this.css("bottom",a)},right:function(a){return a===null?this.rect().zip("right"):this.css("right",a)},position:function(a,b){return a===null?this.rect():b===
null?this.css("left",Number.Px(a)):this.css({top:Number.Px(b),left:Number.Px(a)})},center:function(b){var c,d,p;b==null&&(b="viewport");c=document.body;d=c.scrollTop+c.clientHeight/2;p=c.scrollLeft+c.clientWidth/2;return this.each(function(){var c,h,e;h=a(this);c=h.height().floats().first();e=h.width().floats().first();e=b==="viewport"||b==="horizontal"?p-e/2:NaN;c=b==="viewport"||b==="vertical"?d-c/2:NaN;return h.css({position:"absolute",left:Number.Px(e),top:Number.Px(c)})})},scrollToCenter:function(){document.body.scrollTop=
this.zip("offsetTop")[0]-window.innerHeight/2;return this},child:function(a){return this.zip("childNodes").map(function(){var b;b=a;b<0&&(b+=this.length);return this[b]})},children:function(){return this.map(function(){return a(this.childNodes,this)})},parent:function(){return this.zip("parentNode")},parents:function(){return this.map(function(){var b,c,d;b=a();c=0;for(d=this;d=d.parentNode;)b[c++]=d;return b})},prev:function(){return this.map(function(){var b,c,d;b=a();c=0;for(d=this;d=d.previousSibling;)b[c++]=
d;return b})},next:function(){return this.map(function(){var b,c,d;b=a();c=0;for(d=this;d=d.nextSibling;)b[c++]=d;return b})},remove:function(){return this.each(function(){if(this.parentNode)return this.parentNode.removeChild(this)})},find:function(b){return this.filter("*").map(function(){return a(b,this)}).flatten()},clone:function(a){a==null&&(a=!0);return this.map(function(){return Object.IsNode(this)?this.cloneNode(a):null})},toFragment:function(){var a,b;return this.len()>1?(b=document.createDocumentFragment(),
a=Function.Bound(b.appendChild,b),this.map(e).map(a),b):e(this[0])}}});a.plugin(function(){return{name:"Maths",floats:function(){return this.map(parseFloat)},ints:function(){return this.map(function(){return parseInt(this,10)})},px:function(a){a==null&&(a=0);return this.ints().map(Function.Px(a))},min:function(){return this.reduce(function(a){return t(this,a)})},max:function(){return this.reduce(function(a){return u(this,a)})},average:function(){return this.sum()/this.len()},sum:function(){return this.reduce(function(a){return a+
this})},squares:function(){return this.map(function(){return this*this})},magnitude:function(){return F(this.floats().squares().sum())},scale:function(a){return this.map(function(){return a*this})},normalize:function(){return this.scale(1/this.magnitude())}}});a.plugin(function(){var d,c,b,f,e,g,h;d=function(a){return function(b){b==null&&(b={});return Object.IsFunc(b)?this.bind(a,b):this.trigger(a,b)}};f=function(b,c,d,o,h){return a(c).bind(d,h).each(function(){var a;a=this.__alive__||(this.__alive__=
{});a=a[b]||(a[b]={});return(a[d]||(a[d]={}))[o]=h})};h=function(b,c,d,o){var h;h=a(c);return h.each(function(){var a;a=this.__alive__||(this.__alive__={});a=a[b]||(a[b]={});a=a[d]||(a[d]={});h.unbind(d,a[o]);return delete a[o]})};c=b=0;g=function(){if(!b++)return a(document).trigger("ready").unbind("ready"),typeof document.removeEventListener==="function"&&document.removeEventListener("DOMContentLoaded",g,!1),typeof window.removeEventListener==="function"?window.removeEventListener("load",g,!1):
void 0};c++||(typeof document.addEventListener==="function"&&document.addEventListener("DOMContentLoaded",g,!1),typeof window.addEventListener==="function"&&window.addEventListener("load",g,!1));e={name:"Events",bind:function(a,b){var c,d;c=(a||"").split(r);d=function(a){e=b.apply(this,arguments);e===!1&&Event.Prevent(a);return e};return this.each(function(){var a,b,p,k;k=[];b=0;for(p=c.length;b<p;b++)a=c[b],k.push(this.addEventListener(a,d,!1));return k})},unbind:function(a,b){var c;c=(a||"").split(r);
return this.each(function(){var a,d,k,h;h=[];d=0;for(k=c.length;d<k;d++)a=c[d],h.push(this.removeEventListener(a,b,null));return h})},once:function(a,b){var c,d,h,e,f;c=(a||"").split(r);f=[];h=0;for(e=c.length;h<e;h++)d=c[h],f.push(this.bind(d,function(a){b.call(this,a);return this.removeEventListener(a.type,arguments.callee,null)}));return f},cycle:function(){var a,b,c,d,h,e,f;a=arguments[0];c=2<=arguments.length?n.call(arguments,1):[];a=(a||"").split(r);h=c.length;b=function(){var a;a=0;return function(b){c[a].call(this,
b);return a=++a%h}};e=0;for(f=a.length;e<f;e++)d=a[e],this.bind(d,b());return this},trigger:function(a,b){var c,d,h,e,f;b==null&&(b={});h=(a||"").split(r);b=Object.Extend({bubbles:!0,cancelable:!0},b);e=0;for(f=h.length;e<f;e++){d=h[e];if(d==="click"||d==="mousemove"||d==="mousedown"||d==="mouseup"||d==="mouseover"||d==="mouseout")c=document.createEvent("MouseEvents"),b=Object.Extend({detail:1,screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:null},
b),c.initMouseEvent(d,b.bubbles,b.cancelable,window,b.detail,b.screenX,b.screenY,b.clientX,b.clientY,b.ctrlKey,b.altKey,b.shiftKey,b.metaKey,b.button,b.relatedTarget);else if(d==="blur"||d==="focus"||d==="reset"||d==="submit"||d==="abort"||d==="change"||d==="load"||d==="unload")c=document.createEvent("UIEvents"),c.initUIEvent(d,b.bubbles,b.cancelable,window,1);else if(d==="touchstart"||d==="touchmove"||d==="touchend"||d==="touchcancel")c=document.createEvent("TouchEvents"),b=Object.Extend({detail:1,
screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,touches:[],targetTouches:[],changedTouches:[],scale:1,rotation:0},b),c.initTouchEvent(d,b.bubbles,b.cancelable,window,b.detail,b.screenX,b.screenY,b.clientX,b.clientY,b.ctrlKey,b.altKey,b.shiftKey,b.metaKey,b.touches,b.targetTouches,b.changedTouches,b.scale,b.rotation);else if(d==="gesturestart"||d==="gestureend"||d==="gesturecancel")c=document.createEvent("GestureEvents"),b=Object.Extend({detail:1,screenX:0,screenY:0,
clientX:0,clientY:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,target:null,scale:1,rotation:0},b),c.initGestureEvent(d,b.bubbles,b.cancelable,window,b.detail,b.screenX,b.screenY,b.clientX,b.clientY,b.ctrlKey,b.altKey,b.shiftKey,b.metaKey,b.target,b.scale,b.rotation);else{c=document.createEvent("Events");c.initEvent(d,b.bubbles,b.cancelable);try{c=Object.Extend(c,b)}catch(g){}}if(c)try{this.each(function(){return this.dispatchEvent(c)})}catch(m){v("dispatchEvent error:",m)}}return this},live:function(b,
c){var d,h;h=this.selector;d=this.context;f(h,d,b,c,function(b){return a(h,d).intersect(a(b.target).parents().first().union(a(b.target))).each(function(){b.target=this;return c.call(this,b)})});return this},die:function(b,c){var d,e;e=this.selector;d=this.context;e=h(e,d,b,c);a(d).unbind(b,e);return this},liveCycle:function(){var a,b,c;a=arguments[0];b=2<=arguments.length?n.call(arguments,1):[];c=0;return this.live(a,function(a){b[c].call(this,a);return c=++c%b.length})},click:function(a){a==null&&
(a={});this.css("cursor").intersect(["auto",""]).len()>0&&this.css("cursor","pointer");return Object.IsFunc(a)?this.bind("click",a):this.trigger("click",a)},ready:function(a){a==null&&(a={});return Object.IsFunc(a)?b?a.call(this):this.bind("ready",a):this.trigger("ready",a)}};["mousemove","mousedown","mouseup","mouseover","mouseout","blur","focus","load","unload","reset","submit","keyup","keydown","change","abort","cut","copy","paste","selection","drag","drop","orientationchange","touchstart","touchmove",
"touchend","touchcancel","gesturestart","gestureend","gesturecancel","hashchange"].forEach(function(a){return e[a]=d(a)});return e});a.plugin(function(){var d,c,b,f,e,g,h;c={slow:700,medium:500,normal:300,fast:100,instant:0,now:0};d=/(?:scale(?:3d)*|translate(?:[XYZ]|3d)*|rotate(?:[XYZ]|3d)*)/;b=document.createElement("div").style;"WebkitTransform"in b?(f="-webkit-transform",g="-webkit-transition-property",e="-webkit-transition-duration",h="-webkit-transition-timing-function"):"MozTransform"in b?
(f="-moz-transform",g="-moz-transition-property",e="-moz-transition-duration",h="-moz-transition-timing-function"):"OTransform"in b&&(f="-o-transform",g="-o-transition-property",e="-o-transition-duration",h="-o-transition-timing-function");delete b;return{name:"Transform",$:{duration:function(a){var b;b=c[a];return b!=null?b:parseFloat(a)}},transform:function(b,c,l,o){var x,y,j,i,m,q;Object.IsFunc(c)?(o=c,l=c=null):Object.IsFunc(l)&&(o=l,l=null);c==null&&(c="normal");l||(l="ease");x=a.duration(c)+
"ms";m=[];i=0;q="";c={};for(y in b)d.test(y)?(j=b[y],j.join?j=a(j).px().join(", "):j.toString&&(j=j.toString()),q+=" "+y+"("+j+")"):c[y]=b[y];for(y in c)m[i++]=y;q&&(m[i++]=f);c[g]=m.join(", ");c[e]=m.map(function(){return x}).join(", ");c[h]=m.map(function(){return l}).join(", ");q&&(c[f]=q);this.css(c);return this.delay(x,o)},hide:function(a){return this.each(function(){if(this.style){this._display="";if(this.style.display===!1)this._display=this.syle.display;return this.style.display="none"}}).trigger("hide").delay(50,
a)},show:function(a){return this.each(function(){if(this.style)return this.style.display=this._display,delete this._display}).trigger("show").delay(50,a)},toggle:function(b){return this.weave(this.css("display")).fold(function(b,c){b==="none"?(c.style.display=c._display||"",delete c._display,a(c).trigger("show")):(c._display=b,c.style.display="none",a(c).trigger("hide"));return c}).delay(50,b)},fadeIn:function(a,b){return this.css("opacity","0.0").show(function(){return this.transform({opacity:"1.0",
translate3d:[0,0,0]},a,b)})},fadeOut:function(a,b,c,d){c==null&&(c=0);d==null&&(d=0);return this.transform({opacity:"0.0",translate3d:[c,d,0]},a,function(){return this.hide(b)})},fadeLeft:function(a,b){return this.fadeOut(a,b,"-"+this.width().first(),0)},fadeRight:function(a,b){return this.fadeOut(a,b,this.width().first(),0)},fadeUp:function(a,b){return this.fadeOut(a,b,0,"-"+this.height().first())},fadeDown:function(a,b){return this.fadeOut(a,b,0,this.height().first())}}});a.plugin(function(){var d;
d=function(a){var b,d,e;e=[];d=0;a=JSON.parse(JSON.stringify(a));for(b in a)e[d++]=""+b+"="+escape(a[b]);return e.join("&")};return{name:"Http",$:{http:function(c,b){var f;b==null&&(b={});f=new XMLHttpRequest;Object.IsFunc(b)&&(b={success:Function.Bound(b,f)});b=Object.Extend({method:"GET",data:null,state:Function.Empty,success:Function.Empty,error:Function.Empty,async:!0,timeout:0,withCredentials:!1,followRedirects:!1,asBlob:!1},b);b.state=Function.Bound(b.state,f);b.success=Function.Bound(b.success,
f);b.error=Function.Bound(b.error,f);if(b.data&&b.method==="GET")c+="?"+d(b.data);else if(b.data&&b.method==="POST")b.data=d(b.data);f.open(b.method,c,b.async);f.withCredentials=b.withCredentials;f.asBlob=b.asBlob;f.timeout=b.timeout;f.followRedirects=b.followRedirects;f.onreadystatechange=function(){b.state&&b.state();if(f.readyState===4)return f.status===200?b.success(f.responseText):b.error(f.status,f.statusText)};f.send(b.data);return a([f])},post:function(c,b){b==null&&(b={});Object.IsFunc(b)&&
(b={success:b});b.method="POST";return a.http(c,b)},get:function(c,b){b==null&&(b={});Object.IsFunc(b)&&(b={success:b});b.method="GET";return a.http(c,b)}}}});a.plugin(function(){var d,c,b,f,e,g;b=function(a,b,c,d,e){var f,g;f=1;if(e===null||e===-1)e=a.length;for(g=d;d<=e?g<e:g>e;d<=e?g++:g--)if(a[g]===c?f+=1:a[g]===b&&(f-=1),f===0)return g;return-1};g=/([0-9#0+-]*)\.*([0-9#+-]*)([diouxXeEfFgGcrsqm])((?:.|\n)*)/;d=/%[\(\/]/;c=function(a){var c,e,f,o,x,i,j,a=a.split(d);x=a.length;j=[a[0]];for(e=f=
1;1<=x?e<x:e>x;1<=x?e++:e--){c=b(a[e],")","(",0,-1);if(c===-1)return"Template syntax error: unmatched '%(' starting at: "+a[e].substring(0,15);o=a[e].substring(0,c);i=a[e].substring(c);c=g.exec(i);if(c===null)return"Template syntax error: invalid type specifier starting at '"+i+"'";i=c[4];j[f++]=o;j[f++]=c[1]|0;j[f++]=c[2]|0;j[f++]=c[3];j[f++]=i}return j};c.cache={};f=function(a,b){var d,e,f,g,i,j,E,m,q,s,n;d=c.cache[a];d===null&&(d=c.cache[a]=c(a));j=[d[0]];g=1;e=d.length;f=1;for(n=e-5;1<=n?f<=n:
f>=n;f+=5){m=d.slice(f,f+4+1||9E9);i=m[0];E=m[1];e=m[2];q=m[3];m=m[4];s=b[i];s==null&&(s="missing value: "+i);switch(q){case "d":j[g++]=""+parseInt(s,10);break;case "f":j[g++]=parseFloat(s).toFixed(e);break;case "s":j[g++]=""+s;break;default:j[g++]=""+s}E>0&&(j[g]=String.PadLeft(j[g],E));j[g++]=m}return j.join("")};e=function(b){var c,d,e,f,g,i,j,n,m,q,s,u,t,z,w,r,v,A,B;w=null;v=t=j=d=B=A="";e={};z=1;r=a([]);r.selector=b;s=function(){var b;b=a.HTML.parse(A);w?w.appendChild(b):r.push(b);A="";return 1};
n=function(){var a,b;b=document.createElement(v);b.id=t||null;b.className=j||null;for(a in e)b.setAttribute(a,e[a]);w?w.appendChild(b):r.push(b);w=b;v=t=j=d=B=A="";e={};return 1};m=function(){n();w=null;return 1};q=function(){n();if(w)w=w.parentNode;return 1};g=function(){j.length>0&&(j+=" ");return 3};f=function(){return 4};u=function(){e[d]=B;d=B="";return 1};i=function(){return 2};c=function(a){A+=a;return 1};g={TAGMODE:{'"':function(){return 6},"'":function(){return 7},"#":i,".":g,"[":f,"+":q,
" ":n,",":m,def:function(a){v+=a;return 1}},IDMODE:{".":g,"[":f,"+":q," ":n,",":m,def:function(a){t+=a;return 1}},CLSMODE:{"#":i,".":g,"[":f,"+":q," ":n,",":m,def:function(a){j+=a;return 1}},ATTRMODE:{"=":function(){return 5},"]":u,def:function(a){d+=a;return 1}},VALMODE:{"]":u,def:function(a){B+=a;return 1}},DTEXTMODE:{'"':s,def:c},STEXTMODE:{"'":s,def:c}};for(f=0;c=b[f++];)z=g[z],z=c in z?z[c](c):z.def(c);tagname.length>0&&n();A.length>0&&s();return r};return{name:"Template",$:{render:f,synth:e},
template:function(b){this.render=function(c){return f(this.map(a.HTML.stringify).join(""),Object.Extend(b,c))};return this.remove()},render:function(b){return f(this.map(a.HTML.stringify).join(""),b)},synth:function(a){return e(a).appendTo(this)}}});return a}(i))}).call(this);
