(function(f){return f.plugin(function(){var f,e,d;e={};d=function(a,b){return e[a]=b};f=function(a){return e[a.TYPE]};Object.Type.extend("unknown",{compact:function(a){return Object.String(a)}});Object.Type.extend("string",{compact:function(a){return a}});Object.Type.extend("number",{compact:function(a){return Object.String(a)}});Object.Type.extend("array",{compact:function(a){var b,c,g,h;h=[];c=0;for(g=a.length;c<g;c++)b=a[c],h.push(Object.Compact(b));return h.join("")}});Object.Type.extend("bling",
{compact:function(a){return a.map(Object.Compact).join("")}});Object.Type.extend("undefined",{compact:function(){return""}});Object.Type.extend("null",{compact:function(){return""}});Object.Type.extend("object",{compact:function(a){var b;return Object.Compact(null!=(b=f(a))?b.prune.call(a,a):void 0)}});Object.Compact=function(a){var b;return null!=(b=Object.Type.lookup(a))?b.compact(a):void 0};Object.Extend(Object.Compact,{register:d,lookup:f});d("page",{prune:function(a){return["<!DOCTYPE html><html><head>",
a.HEAD,"</head><body>",a.BODY,"</body></html>"]}});d("text",{prune:function(a){return a.EN}});d("link",{prune:function(a){var b,c,g,h,i;b=["<a"];i=["href","name","target"];g=0;for(h=i.length;g<h;g++)c=i[g],c in a&&Array.Extend(b,[" ",c,"='",a[c],"'"]);Array.Extend(b,[">",a.CONTENT,"</a>"]);return b}});"<!DOCTYPE html><html><head></head><body>Hello World</body></html>"===Object.Compact({TYPE:"page",HEAD:[],BODY:{TYPE:"text",EN:"Hello World"}});return{name:"Compact"}})})(Bling);
(function(f){return f.plugin(function(){var j,e;j=function(d,a){return Object.Extend(document.createElement(d),a)};e=function(d,a){var b,c,g;b=g=null;c=j(d,Object.Extend(a,{"onload!":function(){if(null!=g)return f.publish(g)}}));f("head").delay(10,function(){var a=this;return null!=b?f.subscribe(b,function(){return a.append(c)}):this.append(c)});c=f(c);return Object.Extend(c,{depends:function(a){b=d+"-"+a;return c},provides:function(a){g=d+"-"+a;return c}})};return{name:"LazyLoader",$:{script:function(d){return e("script",
{"src!":d})},style:function(d){return e("link",{"href!":d,"rel!":"stylesheet"})}}}})})(Bling);
(function(f){return f.plugin(function(){var f,e,d;e={};d=function(a,b){return e[a]=b};f=function(a){return e[a.TYPE]};Object.Type.extend("unknown",{compact:function(a){return Object.String(a)}});Object.Type.extend("string",{compact:function(a){return a}});Object.Type.extend("number",{compact:function(a){return Object.String(a)}});Object.Type.extend("array",{compact:function(a){var b,c,g,h;h=[];c=0;for(g=a.length;c<g;c++)b=a[c],h.push(Object.Compact(b));return h.join("")}});Object.Type.extend("bling",
{compact:function(a){return a.map(Object.Compact).join("")}});Object.Type.extend("undefined",{compact:function(){return""}});Object.Type.extend("null",{compact:function(){return""}});Object.Type.extend("object",{compact:function(a){var b;return Object.Compact(null!=(b=f(a))?b.prune.call(a,a):void 0)}});Object.Compact=function(a){var b;return null!=(b=Object.Type.lookup(a))?b.compact(a):void 0};Object.Extend(Object.Compact,{register:d,lookup:f});d("page",{prune:function(a){return["<!DOCTYPE html><html><head>",
a.HEAD,"</head><body>",a.BODY,"</body></html>"]}});d("text",{prune:function(a){return a.EN}});d("link",{prune:function(a){var b,c,g,h,i;b=["<a"];i=["href","name","target"];g=0;for(h=i.length;g<h;g++)c=i[g],c in a&&Array.Extend(b,[" ",c,"='",a[c],"'"]);Array.Extend(b,[">",a.CONTENT,"</a>"]);return b}});"<!DOCTYPE html><html><head></head><body>Hello World</body></html>"===Object.Compact({TYPE:"page",HEAD:[],BODY:{TYPE:"text",EN:"Hello World"}});return{name:"Compact"}})})(Bling);
(function(f){return f.plugin(function(){var j,e;j=function(d,a){return Object.Extend(document.createElement(d),a)};e=function(d,a){var b,c,g;b=g=null;c=j(d,Object.Extend(a,{"onload!":function(){if(null!=g)return f.publish(g)}}));f("head").delay(10,function(){var a=this;return null!=b?f.subscribe(b,function(){return a.append(c)}):this.append(c)});c=f(c);return Object.Extend(c,{depends:function(a){b=d+"-"+a;return c},provides:function(a){g=d+"-"+a;return c}})};return{name:"LazyLoader",$:{script:function(d){return e("script",
{"src!":d})},style:function(d){return e("link",{"href!":d,"rel!":"stylesheet"})}}}})})(Bling);
(function(f){return f.plugin(function(){var j,e,d,a,b,c,g,h,i,l,q,m,o,n,k,s;q=/!==|!=|!|\#|\%|\%=|\&|\&\&|\&\&=|&=|\*|\*=|\+|\+=|-|-=|->|\.{1,3}|\/|\/=|:|::|;|<<=|<<|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\?|@|\[|\]|}|{|\^|\^=|\^\^|\^\^=|\|=|\|\|=|\|\||\||~/g;i=/\b[Ff]unction\b|\bvar\b|\.prototype\b|\.__proto__\b|\bString\b|\bArray\b|\bNumber\b|\bObject\b|\bbreak\b|\bcase\b|\bcontinue\b|\bdelete\b|\bdo\b|\bif\b|\belse\b|\bfinally\b|\binstanceof\b|\breturn\b|\bthrow\b|\btry\b|\btypeof\b|\btrue\b|\bfalse\b/g;j=
/\d+\.*\d*/g;e=/\$(\(|\.)/g;s=/\t/g;o=/\/\/.*?(?:\n|$)/;l=/\/\*(?:.|\n)*?\*\//;a=function(a){return a?"<span class='com'>"+a+"</span>":""};m=function(a){return a?"<span class='str'>"+a+"</span>":""};c=function(a,b){var h,g;h=a.indexOf('"',b);g=a.indexOf("'",b);-1===h&&(h=a.length);-1===g&&(g=a.length);return h===g?[null,-1]:h<g?['"',h]:["'",g]};d=function(a,b,h){for(b=a.indexOf(h,b);"\\"===a.charAt(b-1)&&0<b&&b<a.length;)b=a.indexOf(h,b+1);return b};k=function(a){var b,h,g,i,l;b=0;g=a.length;l=[];
if(!Object.IsString(a))if(Object.IsFunction(a.toString))a=a.toString(),g=a.length;else throw TypeError("invalid string argument to split_quoted");for(;b<g;){i=c(a,b);h=i[1];if(-1===h){l.push(a.substring(b));break}l.push(a.substring(b,h));b=d(a,h+1,i[0]);if(-1===b)throw Error("unclosed quote: "+i[0]+" starting at "+h);l.push(a.substring(h,b+1));b+=1}return l};b=function(a){var b;b=a.match(o);a=a.match(l);return b===a?[-1,null]:null===b&&null!==a?[a.index,a[0]]:null!==b&&null===a?[b.index,b[0]]:a.index<
b.index?[a.index,a[0]]:[b.index,b[0]]};n=function(a){var h,g,i,c,l,d;l=[];h=0;for(i=a.length;h<i;)if(d=a.substring(h),c=b(d),g=c[0],-1<g)l.push(d.substring(0,g)),l.push(c[1]),h+=g+c[1].length;else{l.push(d);break}return l};g=function(a,b){return a.replace(q,"<span class='opr'>$&</span>").replace(j,"<span class='num'>$&</span>").replace(i,"<span class='kwd'>$&</span>").replace(e,"<span class='bln'>$$</span>$1").replace(s,"&nbsp;&nbsp;")+m(b)};h=function(b,h){return f(k(b)).fold(g).join("")+a(h)};return{name:"PrettyPrint",
$:{prettyPrint:function(a,b){var g,i;Object.IsFunction(a)&&(a=a.toString());if(!Object.IsString(a))throw TypeError("prettyPrint requires a function or string to format, not '"+Object.Type(a)+"'");if(0===f("style#prettyPrint").length){i="code.pp .bln { font-size: 17px; } ";b=Object.Extend({opr:"#880",str:"#008",com:"#080",kwd:"#088",num:"#808",bln:"#800"},b);for(g in b)i+="code.pp ."+g+" { color: "+b[g]+"; } ";f.synth("style#prettyPrint").text(i).appendTo("head")}return"<code class='pp'>"+f(n(a)).fold(h).join("")+
"</code>"}}}})})(Bling);
(function(){var f=Object.prototype.hasOwnProperty,j=function(e,d){function a(){this.constructor=e}for(var b in d)f.call(d,b)&&(e[b]=d[b]);a.prototype=d.prototype;e.prototype=new a;e.__super__=d.prototype;return e};(function(e){e.plugin(function(){return{name:"StateMachine",$:{StateMachine:function(){function d(a){this.reset();this.table=a;Object.defineProperty(this,"modeline",{get:this.table[this._mode]});Object.defineProperty(this,"mode",{set:function(a){var c;this._lastMode=this._mode;this._mode=
a;if(this._mode!==this._lastMode&&null!=this.modeline&&"enter"in this.modeline)for(c=this.modeline.enter.call(this);Object.IsFunction(c);)c=c.call(this);return a},get:function(){return this._mode}})}d.prototype.reset=function(){return this._lastMode=this._mode=null};d.prototype.GO=function(a){return function(){return this.mode=a}};d.GO=function(a){return function(){return this.mode=a}};d.prototype.run=function(a){var b,c,g,h,i,l;h=this.mode=0;for(i=a.length;h<i;h++){b=a[h];g=this.modeline;null==g?
c=null:b in g?c=g[b]:"def"in g&&(c=g.def);for(;Object.IsFunction(c);)c=c.call(this,b)}if(Object.IsFunction(null!=(l=this.modeline)?l.eof:void 0))c=this.modeline.eof.call(this);for(;Object.IsFunction(c);)c=c.call(this);this.reset();return this};return d}()}}});return e.plugin(function(){var d;d=function(){function a(){a.__super__.constructor.call(this,a.STATE_TABLE);this.fragment=this.parent=document.createDocumentFragment()}j(a,e.StateMachine);a.STATE_TABLE=[{enter:function(){this.tag=this.id=this.cls=
this.attr=this.val=this.text="";this.attrs={};return this.GO(1)}},{'"':a.GO(6),"'":a.GO(7),"#":a.GO(2),".":a.GO(3),"[":a.GO(4)," ":a.GO(9),"+":a.GO(11),",":a.GO(10),def:function(a){return this.tag+=a},eof:a.GO(13)},{".":a.GO(3),"[":a.GO(4)," ":a.GO(9),"+":a.GO(11),",":a.GO(10),def:function(a){return this.id+=a},eof:a.GO(13)},{enter:function(){if(0<this.cls.length)return this.cls+=" "},"#":a.GO(2),".":a.GO(3),"[":a.GO(4)," ":a.GO(9),"+":a.GO(11),",":a.GO(10),def:function(a){return this.cls+=a},eof:a.GO(13)},
{"=":a.GO(5),"]":function(){this.attrs[this.attr]=this.val;return this.GO(1)},def:function(a){return this.attr+=a},eof:a.GO(12)},{"]":function(){this.attrs[this.attr]=this.val;return this.GO(1)},def:function(a){return this.val+=a},eof:a.GO(12)},{'"':a.GO(8),def:function(a){return this.text+=a},eof:a.GO(12)},{"'":a.GO(8),def:function(a){return this.text+=a},eof:a.GO(12)},{enter:function(){this.emitText();return this.GO(0)}},{enter:function(){this.emitNode();return this.GO(0)}},{enter:function(){this.emitNode();
this.parent=null;return this.GO(0)}},{enter:function(){var a;this.emitNode();this.parent=null!=(a=this.parent)?a.parentNode:void 0;return this.GO(0)}},{enter:function(){return e.log("Error in synth expression: "+this.input)}},{enter:function(){this.tag.length&&this.emitNode();if(this.text.length)return this.emitText()}}];a.prototype.emitNode=function(){var a,c;c=document.createElement(this.tag);c.id=this.id||null;c.className=this.cls||null;for(a in this.attrs)c.setAttribute(a,this.attrs[a]);this.parent.appendChild(c);
return this.parent=c};a.prototype.emitText=function(){this.parent.appendChild(e.HTML.parse(this.text));return this.text=""};return a}();return{name:"Synth",$:{synth:function(a){var b;b=new d;b.run(a);return 1===b.fragment.childNodes.length?e(b.fragment.childNodes[0]):e(b.fragment)}}}})})(Bling)}).call(this);
(function(){var f=Object.prototype.hasOwnProperty,j=function(e,d){function a(){this.constructor=e}for(var b in d)f.call(d,b)&&(e[b]=d[b]);a.prototype=d.prototype;e.prototype=new a;e.__super__=d.prototype;return e};(function(e){var d,a;d={};e.plugin(function(){var a,c;a=null;d={};c={register_engine:function(g,h){d[g]=h;if(null==a)return a=g},render:function(g,h){if(a in d)return d[a](g,h)}};c.__defineSetter__("engine",function(g){if(!g in d)throw Error("invalid template engine: "+g+" not one of "+
Object.Keys(d));return a=g});c.__defineGetter__("engine",function(){return a});return{name:"Template",$:{template:c}}});e.template.register_engine("null",function(){return function(a){return a}}());a=function(a,c,g,h,i){var l,d,e;null==i&&(i=-1);l=1;0>i&&(i=a.length+1+i);for(d=h;h<=i?d<i:d>i;h<=i?d++:d--)if(e=a[d],e===g?l+=1:e===c&&(l-=1),0===l)return d;return-1};e.template.register_engine("pythonic",function(){var b,c,g;g=/([0-9#0+-]*)\.*([0-9#+-]*)([diouxXeEfFgGcrsqm])((?:.|\n)*)/;b=/%[\(\/]/;c=
function(h){var i,c,d,e,f,n,k,h=h.split(b);f=h.length;k=[h[0]];for(c=d=1;1<=f?c<f:c>f;1<=f?c++:c--){i=a(h[c],")","(",0,-1);if(-1===i)return"Template syntax error: unmatched '%(' starting at: "+h[c].substring(0,15);e=h[c].substring(0,i);n=h[c].substring(i);i=g.exec(n);if(null===i)return"Template syntax error: invalid type specifier starting at '"+n+"'";n=i[4];k[d++]=e;k[d++]=i[1]|0;k[d++]=i[2]|0;k[d++]=i[3];k[d++]=n}return k};c.cache={};return function(a,b){var g,d,e,f,n,k,j,p,t,r,u;g=c.cache[a];null==
g&&(g=c.cache[a]=c(a));k=[g[0]];f=1;d=g.length;e=1;for(u=d-5;e<=u;e+=5){p=g.slice(e,e+4+1||9E9);n=p[0];j=p[1];d=p[2];t=p[3];p=p[4];r=b[n];null==r&&(r="missing value: "+n);switch(t){case "d":k[f++]=""+parseInt(r,10);break;case "f":k[f++]=parseFloat(r).toFixed(d);break;case "s":k[f++]=""+r;break;default:k[f++]=""+r}0<j&&(k[f]=String.PadLeft(k[f],j));k[f++]=p}return k.join("")}}());return e.template.register_engine("js-eval",function(){(function(){function a(){a.__super__.constructor.apply(this,arguments)}
j(a,e.StateMachine);a.STATE_TABLE=[{enter:function(){this.data=[];return this.GO(1)}},{}];return a})();return function(a){return a}}())})(Bling)}).call(this);
(function(f){return f.plugin(function(){var j,e,d;d=function(a){var b,c,g,h;b=a.indexOf(":");if(0<b)return g=parseInt(a.slice(0,b),10),c=a.slice(b+1,b+1+g),h=a[b+1+g],a=a.slice(b+g+2),c=function(){switch(h){case "#":return Number(c);case "'":return""+c;case "!":return"true"===c;case "~":return null;case "]":return j(c);case "}":return e(c)}}(),[c,a]};j=function(a){var b,c;for(b=[];0<a.length;)a=d(a),c=a[0],a=a[1],b.push(c);return b};e=function(a){var b,c,g;for(b={};0<a.length;)g=d(a),c=g[0],a=g[1],
a=d(a),g=a[0],a=a[1],b[c]=g;return b};return{name:"TNET",$:{TNET:{stringify:function(a){var b,c,g;g=function(){switch(Object.Type(a)){case "number":return[""+a,"#"];case "string":return[a,"'"];case "function":return[""+a,"'"];case "boolean":return[""+!!a,"!"];case "null":return["","~"];case "undefined":return["","~"];case "array":return[function(){var b,g,d;d=[];b=0;for(g=a.length;b<g;b++)c=a[b],d.push(f.TNET.stringify(c));return d}().join(""),"]"];case "object":return[function(){var b;b=[];for(c in a)b.push(f.TNET.stringify(c)+
f.TNET.stringify(a[c]));return b}().join(""),"}"]}}();b=g[0];return(b.length|0)+":"+b+g[1]},parse:function(a){var b;return null!=(b=d(a))?b[0]:void 0}}}}})})(Bling);
(function(f){return f.plugin(function(){var j,e,d,a,b,c;e=function(a,b){var c,b=Object.Extend({autoOpen:!1,draggable:!0},b);c=f(a).addClass("dialog");b.draggable&&c.draggable();b.autoOpen&&c.show().center();c.find("button.close, .close-button").bind("click touchstart",function(){c.hide();return!1});return c};d=function(a,b){var c,d,e,m,o,b=Object.Extend({handleCSS:{}},b);b.handleCSS=Object.Extend({position:"absolute",top:"0px",left:"0px",width:"100%",height:"6px"},b.handleCSS);c=f(a);e=!1;m=o=0;d=
f.synth("div.handle").defaultCss({background:"-webkit-gradient(linear, 50% 0%, 50% 100%, from(#eee), color-stop(0.25, #bbb), color-stop(0.3, #eee), color-stop(0.5, #eee), to(#bbb))",height:"6px","border-radius":"3px",cursor:"move"}.css(b.handleCSS.bind("mousedown, touchstart",function(a){e=!0;m||(m=a.pageX);o||(o=a.pageY);return!1})));f(document.bind("mousemove, touchmove",function(a){var b;if(e)return b=a.pageX-m,a=a.pageY-o,c.transform({translate:[b,a]},0).trigger("drag",{dragObject:c}),!1})).bind("mouseup, touchend",
function(){var a;if(e)return e=!1,a=d.position()[0],f(document.elementFromPoint(a.left,a.top-1).trigger("drop",{dropObject:c}))});return c.addClass("draggable").css({position:"relative","padding-top":c.css("padding-top").map(Number.AtLeast(parseInt(b.handleCSS.height,10))).px().first()}.append(d))};a=function(a,b){var c,d,e,m,b=Object.Extend({change:Function.Empty,backgroundColor:"#fff",barColor:"rgba(0,128,0,0.5)",textColor:"white",reset:!1},b);c=f(a).addClass("progress-bar");m=0;b.reset&&(d=c.css("background").first(),
e=c.css("color").first());return c.zap("updateProgress",function(a){for(;1<a;)a/=100;m=a;1===a&&b.reset?c.css("background",d).css("color",e):c.css({background:"-webkit-gradient(linear, 0 0, "+parseInt(100*a)+"% 0, color-stop(0, "+b.barColor+"), color-stop(0.98, "+b.barColor+"), color-stop(1.0, "+b.backgroundColor+"))",color:b.textColor});if(Object.IsFunc(b.change))return b.change(m)})};j=function(a,b){var c,d,b=Object.Extend({exclusive:!1,sticky:!1},b);d=f(a).addClass("accordion");c=function(a){var c,
g,i,a=f(a).children().first().filter("*");if(2!==a.len())throw Exception("accordion row requires 2 elements, not "+a.len());i=a.eq(0).addClass("title");c=a.eq(1).addClass("body").hide();g=!1;return i.click(function(){b.exclusive&&d.find(".body").hide();if(g){if(b.sticky)return c.show().addClass("visible"),i.addClass("selected").trigger("select"),g=!0;c.hide().removeClass("visible");i.removeClass("selected").trigger("deselect");return g=!1}c.show().addClass("visible");i.addClass("selected").trigger("select");
return g=!0})};d.bind("DOMNodeInserted",function(a){var b;b=d.children().first().filter("*");a=f(a.target).parents().first();return c(a.intersect(b))});d.children().first().filter("*").map(c);return d};c=function(a){var b,c,d;c=f(a).css({position:"relative",top:"0px",left:"0px"}.hide().map(f));b=0;c[b].show();c.next=function(){c[b].hide();b=++b%nn;return c[b].show()};c.activate=function(a){c[b].hide();b=a;return c[a].show()};a=0;for(d=c.len();0<=d?a<d:a>d;0<=d?a++:a--)c[a].zap("_viewIndex",a.zap("activate",
function(){return c.activate(this._viewIndex)}));return c};b=function(a,b){var c,d,e;e=f(a);b=f(b).viewStack();d=e.len();for(c=0;0<=d?c<=d:c>=d;0<=d?c++:c--)e._tabIndex=c;f(e[0]).addClass("active");return e.click(function(){e.removeClass("active");b.activate(this._tabIndex);return f(this).addClass("active")})};return{name:"UI",$:{UI:{Draggable:d,ProgressBar:a,ViewStack:c,Tabs:b,Accordion:j}},dialog:function(a){return e(this,a)},progressBar:function(b){return a(this,b)},viewStack:function(a){return c(this,
a)},tabs:function(a){return b(this,a)},accordion:function(a){return j(this,a)},draggable:function(a){return d(this,a)}}})})(Bling);
(function(f){return f.plugin(function(){var f,e,d;e={};d=function(a,b){return e[a]=b};f=function(a){return e[a.TYPE]};Object.Type.extend("unknown",{compact:function(a){return Object.String(a)}});Object.Type.extend("string",{compact:function(a){return a}});Object.Type.extend("number",{compact:function(a){return Object.String(a)}});Object.Type.extend("array",{compact:function(a){var b,c,g,h;h=[];c=0;for(g=a.length;c<g;c++)b=a[c],h.push(Object.Compact(b));return h.join("")}});Object.Type.extend("bling",
{compact:function(a){return a.map(Object.Compact).join("")}});Object.Type.extend("undefined",{compact:function(){return""}});Object.Type.extend("null",{compact:function(){return""}});Object.Type.extend("object",{compact:function(a){var b;return Object.Compact(null!=(b=f(a))?b.prune.call(a,a):void 0)}});Object.Compact=function(a){var b;return null!=(b=Object.Type.lookup(a))?b.compact(a):void 0};Object.Extend(Object.Compact,{register:d,lookup:f});d("page",{prune:function(a){return["<!DOCTYPE html><html><head>",
a.HEAD,"</head><body>",a.BODY,"</body></html>"]}});d("text",{prune:function(a){return a.EN}});d("link",{prune:function(a){var b,c,g,h,d;b=["<a"];d=["href","name","target"];g=0;for(h=d.length;g<h;g++)c=d[g],c in a&&Array.Extend(b,[" ",c,"='",a[c],"'"]);Array.Extend(b,[">",a.CONTENT,"</a>"]);return b}});"<!DOCTYPE html><html><head></head><body>Hello World</body></html>"===Object.Compact({TYPE:"page",HEAD:[],BODY:{TYPE:"text",EN:"Hello World"}});return{name:"Compact"}})})(Bling);
(function(f){return f.plugin(function(){var j,e,d,a,b,c,g,h,i,l,q,m,o,n,k,s;q=/!==|!=|!|\#|\%|\%=|\&|\&\&|\&\&=|&=|\*|\*=|\+|\+=|-|-=|->|\.{1,3}|\/|\/=|:|::|;|<<=|<<|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\?|@|\[|\]|}|{|\^|\^=|\^\^|\^\^=|\|=|\|\|=|\|\||\||~/g;i=/\b[Ff]unction\b|\bvar\b|\.prototype\b|\.__proto__\b|\bString\b|\bArray\b|\bNumber\b|\bObject\b|\bbreak\b|\bcase\b|\bcontinue\b|\bdelete\b|\bdo\b|\bif\b|\belse\b|\bfinally\b|\binstanceof\b|\breturn\b|\bthrow\b|\btry\b|\btypeof\b|\btrue\b|\bfalse\b/g;
j=/\d+\.*\d*/g;e=/\$(\(|\.)/g;s=/\t/g;o=/\/\/.*?(?:\n|$)/;l=/\/\*(?:.|\n)*?\*\//;a=function(a){return a?"<span class='com'>"+a+"</span>":""};m=function(a){return a?"<span class='str'>"+a+"</span>":""};c=function(a,b){var c,g;c=a.indexOf('"',b);g=a.indexOf("'",b);-1===c&&(c=a.length);-1===g&&(g=a.length);return c===g?[null,-1]:c<g?['"',c]:["'",g]};d=function(a,b,c){for(b=a.indexOf(c,b);"\\"===a.charAt(b-1)&&0<b&&b<a.length;)b=a.indexOf(c,b+1);return b};k=function(a){var b,g,h,i,e;b=0;h=a.length;e=
[];if(!Object.IsString(a))if(Object.IsFunction(a.toString))a=a.toString(),h=a.length;else throw TypeError("invalid string argument to split_quoted");for(;b<h;){i=c(a,b);g=i[1];if(-1===g){e.push(a.substring(b));break}e.push(a.substring(b,g));b=d(a,g+1,i[0]);if(-1===b)throw Error("unclosed quote: "+i[0]+" starting at "+g);e.push(a.substring(g,b+1));b+=1}return e};b=function(a){var b;b=a.match(o);a=a.match(l);return b===a?[-1,null]:null===b&&null!==a?[a.index,a[0]]:null!==b&&null===a?[b.index,b[0]]:
a.index<b.index?[a.index,a[0]]:[b.index,b[0]]};n=function(a){var c,g,h,d,i,e;i=[];c=0;for(h=a.length;c<h;)if(e=a.substring(c),d=b(e),g=d[0],-1<g)i.push(e.substring(0,g)),i.push(d[1]),c+=g+d[1].length;else{i.push(e);break}return i};g=function(a,b){return a.replace(q,"<span class='opr'>$&</span>").replace(j,"<span class='num'>$&</span>").replace(i,"<span class='kwd'>$&</span>").replace(e,"<span class='bln'>$$</span>$1").replace(s,"&nbsp;&nbsp;")+m(b)};h=function(b,c){return f(k(b)).fold(g).join("")+
a(c)};return{name:"PrettyPrint",$:{prettyPrint:function(a,b){var c,g;Object.IsFunction(a)&&(a=a.toString());if(!Object.IsString(a))throw TypeError("prettyPrint requires a function or string to format, not '"+Object.Type(a)+"'");if(0===f("style#prettyPrint").length){g="code.pp .bln { font-size: 17px; } ";b=Object.Extend({opr:"#880",str:"#008",com:"#080",kwd:"#088",num:"#808",bln:"#800"},b);for(c in b)g+="code.pp ."+c+" { color: "+b[c]+"; } ";f.synth("style#prettyPrint").text(g).appendTo("head")}return"<code class='pp'>"+
f(n(a)).fold(h).join("")+"</code>"}}}})})(Bling);
(function(){var f=Object.prototype.hasOwnProperty,j=function(e,d){function a(){this.constructor=e}for(var b in d)f.call(d,b)&&(e[b]=d[b]);a.prototype=d.prototype;e.prototype=new a;e.__super__=d.prototype;return e};(function(e){e.plugin(function(){return{name:"StateMachine",$:{StateMachine:function(){function d(a){this.reset();this.table=a;Object.defineProperty(this,"modeline",{get:this.table[this._mode]});Object.defineProperty(this,"mode",{set:function(a){var c;this._lastMode=this._mode;this._mode=
a;if(this._mode!==this._lastMode&&null!=this.modeline&&"enter"in this.modeline)for(c=this.modeline.enter.call(this);Object.IsFunction(c);)c=c.call(this);return a},get:function(){return this._mode}})}d.prototype.reset=function(){return this._lastMode=this._mode=null};d.prototype.GO=function(a){return function(){return this.mode=a}};d.GO=function(a){return function(){return this.mode=a}};d.prototype.run=function(a){var b,c,g,h,d,e;h=this.mode=0;for(d=a.length;h<d;h++){b=a[h];g=this.modeline;null==g?
c=null:b in g?c=g[b]:"def"in g&&(c=g.def);for(;Object.IsFunction(c);)c=c.call(this,b)}if(Object.IsFunction(null!=(e=this.modeline)?e.eof:void 0))c=this.modeline.eof.call(this);for(;Object.IsFunction(c);)c=c.call(this);this.reset();return this};return d}()}}});return e.plugin(function(){var d;d=function(){function a(){a.__super__.constructor.call(this,a.STATE_TABLE);this.fragment=this.parent=document.createDocumentFragment()}j(a,e.StateMachine);a.STATE_TABLE=[{enter:function(){this.tag=this.id=this.cls=
this.attr=this.val=this.text="";this.attrs={};return this.GO(1)}},{'"':a.GO(6),"'":a.GO(7),"#":a.GO(2),".":a.GO(3),"[":a.GO(4)," ":a.GO(9),"+":a.GO(11),",":a.GO(10),def:function(a){return this.tag+=a},eof:a.GO(13)},{".":a.GO(3),"[":a.GO(4)," ":a.GO(9),"+":a.GO(11),",":a.GO(10),def:function(a){return this.id+=a},eof:a.GO(13)},{enter:function(){if(0<this.cls.length)return this.cls+=" "},"#":a.GO(2),".":a.GO(3),"[":a.GO(4)," ":a.GO(9),"+":a.GO(11),",":a.GO(10),def:function(a){return this.cls+=a},eof:a.GO(13)},
{"=":a.GO(5),"]":function(){this.attrs[this.attr]=this.val;return this.GO(1)},def:function(a){return this.attr+=a},eof:a.GO(12)},{"]":function(){this.attrs[this.attr]=this.val;return this.GO(1)},def:function(a){return this.val+=a},eof:a.GO(12)},{'"':a.GO(8),def:function(a){return this.text+=a},eof:a.GO(12)},{"'":a.GO(8),def:function(a){return this.text+=a},eof:a.GO(12)},{enter:function(){this.emitText();return this.GO(0)}},{enter:function(){this.emitNode();return this.GO(0)}},{enter:function(){this.emitNode();
this.parent=null;return this.GO(0)}},{enter:function(){var a;this.emitNode();this.parent=null!=(a=this.parent)?a.parentNode:void 0;return this.GO(0)}},{enter:function(){return e.log("Error in synth expression: "+this.input)}},{enter:function(){this.tag.length&&this.emitNode();if(this.text.length)return this.emitText()}}];a.prototype.emitNode=function(){var a,c;c=document.createElement(this.tag);c.id=this.id||null;c.className=this.cls||null;for(a in this.attrs)c.setAttribute(a,this.attrs[a]);this.parent.appendChild(c);
return this.parent=c};a.prototype.emitText=function(){this.parent.appendChild(e.HTML.parse(this.text));return this.text=""};return a}();return{name:"Synth",$:{synth:function(a){var b;b=new d;b.run(a);return 1===b.fragment.childNodes.length?e(b.fragment.childNodes[0]):e(b.fragment)}}}})})(Bling)}).call(this);
(function(){var f=Object.prototype.hasOwnProperty,j=function(e,d){function a(){this.constructor=e}for(var b in d)f.call(d,b)&&(e[b]=d[b]);a.prototype=d.prototype;e.prototype=new a;e.__super__=d.prototype;return e};(function(e){var d,a;d={};e.plugin(function(){var a,c;a=null;d={};c={register_engine:function(c,h){d[c]=h;if(null==a)return a=c},render:function(c,h){if(a in d)return d[a](c,h)}};c.__defineSetter__("engine",function(c){if(!c in d)throw Error("invalid template engine: "+c+" not one of "+
Object.Keys(d));return a=c});c.__defineGetter__("engine",function(){return a});return{name:"Template",$:{template:c}}});e.template.register_engine("null",function(){return function(a){return a}}());a=function(a,c,g,h,d){var e,f,m;null==d&&(d=-1);e=1;0>d&&(d=a.length+1+d);for(f=h;h<=d?f<d:f>d;h<=d?f++:f--)if(m=a[f],m===g?e+=1:m===c&&(e-=1),0===e)return f;return-1};e.template.register_engine("pythonic",function(){var b,c,g;g=/([0-9#0+-]*)\.*([0-9#+-]*)([diouxXeEfFgGcrsqm])((?:.|\n)*)/;b=/%[\(\/]/;c=
function(c){var d,e,f,m,o,n,k,c=c.split(b);o=c.length;k=[c[0]];for(e=f=1;1<=o?e<o:e>o;1<=o?e++:e--){d=a(c[e],")","(",0,-1);if(-1===d)return"Template syntax error: unmatched '%(' starting at: "+c[e].substring(0,15);m=c[e].substring(0,d);n=c[e].substring(d);d=g.exec(n);if(null===d)return"Template syntax error: invalid type specifier starting at '"+n+"'";n=d[4];k[f++]=m;k[f++]=d[1]|0;k[f++]=d[2]|0;k[f++]=d[3];k[f++]=n}return k};c.cache={};return function(a,b){var g,d,e,f,n,k,j,p,t,r,u;g=c.cache[a];null==
g&&(g=c.cache[a]=c(a));k=[g[0]];f=1;d=g.length;e=1;for(u=d-5;e<=u;e+=5){p=g.slice(e,e+4+1||9E9);n=p[0];j=p[1];d=p[2];t=p[3];p=p[4];r=b[n];null==r&&(r="missing value: "+n);switch(t){case "d":k[f++]=""+parseInt(r,10);break;case "f":k[f++]=parseFloat(r).toFixed(d);break;case "s":k[f++]=""+r;break;default:k[f++]=""+r}0<j&&(k[f]=String.PadLeft(k[f],j));k[f++]=p}return k.join("")}}());return e.template.register_engine("js-eval",function(){(function(){function a(){a.__super__.constructor.apply(this,arguments)}
j(a,e.StateMachine);a.STATE_TABLE=[{enter:function(){this.data=[];return this.GO(1)}},{}];return a})();return function(a){return a}}())})(Bling)}).call(this);
(function(f){return f.plugin(function(){var j,e,d;d=function(a){var b,c,g,d;b=a.indexOf(":");if(0<b)return g=parseInt(a.slice(0,b),10),c=a.slice(b+1,b+1+g),d=a[b+1+g],a=a.slice(b+g+2),c=function(){switch(d){case "#":return Number(c);case "'":return""+c;case "!":return"true"===c;case "~":return null;case "]":return j(c);case "}":return e(c)}}(),[c,a]};j=function(a){var b,c;for(b=[];0<a.length;)a=d(a),c=a[0],a=a[1],b.push(c);return b};e=function(a){var b,c,g;for(b={};0<a.length;)g=d(a),c=g[0],a=g[1],
a=d(a),g=a[0],a=a[1],b[c]=g;return b};return{name:"TNET",$:{TNET:{stringify:function(a){var b,c,g;g=function(){switch(Object.Type(a)){case "number":return[""+a,"#"];case "string":return[a,"'"];case "function":return[""+a,"'"];case "boolean":return[""+!!a,"!"];case "null":return["","~"];case "undefined":return["","~"];case "array":return[function(){var b,g,d;d=[];b=0;for(g=a.length;b<g;b++)c=a[b],d.push(f.TNET.stringify(c));return d}().join(""),"]"];case "object":return[function(){var b;b=[];for(c in a)b.push(f.TNET.stringify(c)+
f.TNET.stringify(a[c]));return b}().join(""),"}"]}}();b=g[0];return(b.length|0)+":"+b+g[1]},parse:function(a){var b;return null!=(b=d(a))?b[0]:void 0}}}}})})(Bling);
(function(f){return f.plugin(function(){var j,e,d,a,b,c;e=function(a,b){var c,b=Object.Extend({autoOpen:!1,draggable:!0},b);c=f(a).addClass("dialog");b.draggable&&c.draggable();b.autoOpen&&c.show().center();c.find("button.close, .close-button").bind("click touchstart",function(){c.hide();return!1});return c};d=function(a,b){var c,d,e,m,o,b=Object.Extend({handleCSS:{}},b);b.handleCSS=Object.Extend({position:"absolute",top:"0px",left:"0px",width:"100%",height:"6px"},b.handleCSS);c=f(a);e=!1;m=o=0;d=
f.synth("div.handle").defaultCss({background:"-webkit-gradient(linear, 50% 0%, 50% 100%, from(#eee), color-stop(0.25, #bbb), color-stop(0.3, #eee), color-stop(0.5, #eee), to(#bbb))",height:"6px","border-radius":"3px",cursor:"move"}.css(b.handleCSS.bind("mousedown, touchstart",function(a){e=!0;m||(m=a.pageX);o||(o=a.pageY);return!1})));f(document.bind("mousemove, touchmove",function(a){var b;if(e)return b=a.pageX-m,a=a.pageY-o,c.transform({translate:[b,a]},0).trigger("drag",{dragObject:c}),!1})).bind("mouseup, touchend",
function(){var a;if(e)return e=!1,a=d.position()[0],f(document.elementFromPoint(a.left,a.top-1).trigger("drop",{dropObject:c}))});return c.addClass("draggable").css({position:"relative","padding-top":c.css("padding-top").map(Number.AtLeast(parseInt(b.handleCSS.height,10))).px().first()}.append(d))};a=function(a,b){var c,d,e,m,b=Object.Extend({change:Function.Empty,backgroundColor:"#fff",barColor:"rgba(0,128,0,0.5)",textColor:"white",reset:!1},b);c=f(a).addClass("progress-bar");m=0;b.reset&&(d=c.css("background").first(),
e=c.css("color").first());return c.zap("updateProgress",function(a){for(;1<a;)a/=100;m=a;1===a&&b.reset?c.css("background",d).css("color",e):c.css({background:"-webkit-gradient(linear, 0 0, "+parseInt(100*a)+"% 0, color-stop(0, "+b.barColor+"), color-stop(0.98, "+b.barColor+"), color-stop(1.0, "+b.backgroundColor+"))",color:b.textColor});if(Object.IsFunc(b.change))return b.change(m)})};j=function(a,b){var c,d,b=Object.Extend({exclusive:!1,sticky:!1},b);d=f(a).addClass("accordion");c=function(a){var c,
g,e,a=f(a).children().first().filter("*");if(2!==a.len())throw Exception("accordion row requires 2 elements, not "+a.len());e=a.eq(0).addClass("title");c=a.eq(1).addClass("body").hide();g=!1;return e.click(function(){b.exclusive&&d.find(".body").hide();if(g){if(b.sticky)return c.show().addClass("visible"),e.addClass("selected").trigger("select"),g=!0;c.hide().removeClass("visible");e.removeClass("selected").trigger("deselect");return g=!1}c.show().addClass("visible");e.addClass("selected").trigger("select");
return g=!0})};d.bind("DOMNodeInserted",function(a){var b;b=d.children().first().filter("*");a=f(a.target).parents().first();return c(a.intersect(b))});d.children().first().filter("*").map(c);return d};c=function(a){var b,c,d;c=f(a).css({position:"relative",top:"0px",left:"0px"}.hide().map(f));b=0;c[b].show();c.next=function(){c[b].hide();b=++b%nn;return c[b].show()};c.activate=function(a){c[b].hide();b=a;return c[a].show()};a=0;for(d=c.len();0<=d?a<d:a>d;0<=d?a++:a--)c[a].zap("_viewIndex",a.zap("activate",
function(){return c.activate(this._viewIndex)}));return c};b=function(a,b){var c,d,e;e=f(a);b=f(b).viewStack();d=e.len();for(c=0;0<=d?c<=d:c>=d;0<=d?c++:c--)e._tabIndex=c;f(e[0]).addClass("active");return e.click(function(){e.removeClass("active");b.activate(this._tabIndex);return f(this).addClass("active")})};return{name:"UI",$:{UI:{Draggable:d,ProgressBar:a,ViewStack:c,Tabs:b,Accordion:j}},dialog:function(a){return e(this,a)},progressBar:function(b){return a(this,b)},viewStack:function(a){return c(this,
a)},tabs:function(a){return b(this,a)},accordion:function(a){return j(this,a)},draggable:function(a){return d(this,a)}}})})(Bling);
(function(f){return f.plugin(function(){var j,e,d,a,b,c,g,h,i,l,q,m,o,n,k,s;q=/!==|!=|!|\#|\%|\%=|\&|\&\&|\&\&=|&=|\*|\*=|\+|\+=|-|-=|->|\.{1,3}|\/|\/=|:|::|;|<<=|<<|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\?|@|\[|\]|}|{|\^|\^=|\^\^|\^\^=|\|=|\|\|=|\|\||\||~/g;i=/\b[Ff]unction\b|\bvar\b|\.prototype\b|\.__proto__\b|\bString\b|\bArray\b|\bNumber\b|\bObject\b|\bbreak\b|\bcase\b|\bcontinue\b|\bdelete\b|\bdo\b|\bif\b|\belse\b|\bfinally\b|\binstanceof\b|\breturn\b|\bthrow\b|\btry\b|\btypeof\b|\btrue\b|\bfalse\b/g;j=
/\d+\.*\d*/g;e=/\$(\(|\.)/g;s=/\t/g;o=/\/\/.*?(?:\n|$)/;l=/\/\*(?:.|\n)*?\*\//;a=function(a){return a?"<span class='com'>"+a+"</span>":""};m=function(a){return a?"<span class='str'>"+a+"</span>":""};c=function(a,b){var c,d;c=a.indexOf('"',b);d=a.indexOf("'",b);-1===c&&(c=a.length);-1===d&&(d=a.length);return c===d?[null,-1]:c<d?['"',c]:["'",d]};d=function(a,b,c){for(b=a.indexOf(c,b);"\\"===a.charAt(b-1)&&0<b&&b<a.length;)b=a.indexOf(c,b+1);return b};k=function(a){var b,g,e,h,f;b=0;e=a.length;f=[];
if(!Object.IsString(a))if(Object.IsFunction(a.toString))a=a.toString(),e=a.length;else throw TypeError("invalid string argument to split_quoted");for(;b<e;){h=c(a,b);g=h[1];if(-1===g){f.push(a.substring(b));break}f.push(a.substring(b,g));b=d(a,g+1,h[0]);if(-1===b)throw Error("unclosed quote: "+h[0]+" starting at "+g);f.push(a.substring(g,b+1));b+=1}return f};b=function(a){var b;b=a.match(o);a=a.match(l);return b===a?[-1,null]:null===b&&null!==a?[a.index,a[0]]:null!==b&&null===a?[b.index,b[0]]:a.index<
b.index?[a.index,a[0]]:[b.index,b[0]]};n=function(a){var c,d,g,e,h,f;h=[];c=0;for(g=a.length;c<g;)if(f=a.substring(c),e=b(f),d=e[0],-1<d)h.push(f.substring(0,d)),h.push(e[1]),c+=d+e[1].length;else{h.push(f);break}return h};g=function(a,b){return a.replace(q,"<span class='opr'>$&</span>").replace(j,"<span class='num'>$&</span>").replace(i,"<span class='kwd'>$&</span>").replace(e,"<span class='bln'>$$</span>$1").replace(s,"&nbsp;&nbsp;")+m(b)};h=function(b,c){return f(k(b)).fold(g).join("")+a(c)};return{name:"PrettyPrint",
$:{prettyPrint:function(a,b){var c,d;Object.IsFunction(a)&&(a=a.toString());if(!Object.IsString(a))throw TypeError("prettyPrint requires a function or string to format, not '"+Object.Type(a)+"'");if(0===f("style#prettyPrint").length){d="code.pp .bln { font-size: 17px; } ";b=Object.Extend({opr:"#880",str:"#008",com:"#080",kwd:"#088",num:"#808",bln:"#800"},b);for(c in b)d+="code.pp ."+c+" { color: "+b[c]+"; } ";f.synth("style#prettyPrint").text(d).appendTo("head")}return"<code class='pp'>"+f(n(a)).fold(h).join("")+
"</code>"}}}})})(Bling);
(function(){var f=Object.prototype.hasOwnProperty,j=function(e,d){function a(){this.constructor=e}for(var b in d)f.call(d,b)&&(e[b]=d[b]);a.prototype=d.prototype;e.prototype=new a;e.__super__=d.prototype;return e};(function(e){e.plugin(function(){return{name:"StateMachine",$:{StateMachine:function(){function d(a){this.reset();this.table=a;Object.defineProperty(this,"modeline",{get:this.table[this._mode]});Object.defineProperty(this,"mode",{set:function(a){var c;this._lastMode=this._mode;this._mode=
a;if(this._mode!==this._lastMode&&null!=this.modeline&&"enter"in this.modeline)for(c=this.modeline.enter.call(this);Object.IsFunction(c);)c=c.call(this);return a},get:function(){return this._mode}})}d.prototype.reset=function(){return this._lastMode=this._mode=null};d.prototype.GO=function(a){return function(){return this.mode=a}};d.GO=function(a){return function(){return this.mode=a}};d.prototype.run=function(a){var b,c,d,e,f,l;e=this.mode=0;for(f=a.length;e<f;e++){b=a[e];d=this.modeline;null==d?
c=null:b in d?c=d[b]:"def"in d&&(c=d.def);for(;Object.IsFunction(c);)c=c.call(this,b)}if(Object.IsFunction(null!=(l=this.modeline)?l.eof:void 0))c=this.modeline.eof.call(this);for(;Object.IsFunction(c);)c=c.call(this);this.reset();return this};return d}()}}});return e.plugin(function(){var d;d=function(){function a(){a.__super__.constructor.call(this,a.STATE_TABLE);this.fragment=this.parent=document.createDocumentFragment()}j(a,e.StateMachine);a.STATE_TABLE=[{enter:function(){this.tag=this.id=this.cls=
this.attr=this.val=this.text="";this.attrs={};return this.GO(1)}},{'"':a.GO(6),"'":a.GO(7),"#":a.GO(2),".":a.GO(3),"[":a.GO(4)," ":a.GO(9),"+":a.GO(11),",":a.GO(10),def:function(a){return this.tag+=a},eof:a.GO(13)},{".":a.GO(3),"[":a.GO(4)," ":a.GO(9),"+":a.GO(11),",":a.GO(10),def:function(a){return this.id+=a},eof:a.GO(13)},{enter:function(){if(0<this.cls.length)return this.cls+=" "},"#":a.GO(2),".":a.GO(3),"[":a.GO(4)," ":a.GO(9),"+":a.GO(11),",":a.GO(10),def:function(a){return this.cls+=a},eof:a.GO(13)},
{"=":a.GO(5),"]":function(){this.attrs[this.attr]=this.val;return this.GO(1)},def:function(a){return this.attr+=a},eof:a.GO(12)},{"]":function(){this.attrs[this.attr]=this.val;return this.GO(1)},def:function(a){return this.val+=a},eof:a.GO(12)},{'"':a.GO(8),def:function(a){return this.text+=a},eof:a.GO(12)},{"'":a.GO(8),def:function(a){return this.text+=a},eof:a.GO(12)},{enter:function(){this.emitText();return this.GO(0)}},{enter:function(){this.emitNode();return this.GO(0)}},{enter:function(){this.emitNode();
this.parent=null;return this.GO(0)}},{enter:function(){var a;this.emitNode();this.parent=null!=(a=this.parent)?a.parentNode:void 0;return this.GO(0)}},{enter:function(){return e.log("Error in synth expression: "+this.input)}},{enter:function(){this.tag.length&&this.emitNode();if(this.text.length)return this.emitText()}}];a.prototype.emitNode=function(){var a,c;c=document.createElement(this.tag);c.id=this.id||null;c.className=this.cls||null;for(a in this.attrs)c.setAttribute(a,this.attrs[a]);this.parent.appendChild(c);
return this.parent=c};a.prototype.emitText=function(){this.parent.appendChild(e.HTML.parse(this.text));return this.text=""};return a}();return{name:"Synth",$:{synth:function(a){var b;b=new d;b.run(a);return 1===b.fragment.childNodes.length?e(b.fragment.childNodes[0]):e(b.fragment)}}}})})(Bling)}).call(this);
(function(){var f=Object.prototype.hasOwnProperty,j=function(e,d){function a(){this.constructor=e}for(var b in d)f.call(d,b)&&(e[b]=d[b]);a.prototype=d.prototype;e.prototype=new a;e.__super__=d.prototype;return e};(function(e){var d,a;d={};e.plugin(function(){var a,c;a=null;d={};c={register_engine:function(c,e){d[c]=e;if(null==a)return a=c},render:function(c,e){if(a in d)return d[a](c,e)}};c.__defineSetter__("engine",function(c){if(!c in d)throw Error("invalid template engine: "+c+" not one of "+
Object.Keys(d));return a=c});c.__defineGetter__("engine",function(){return a});return{name:"Template",$:{template:c}}});e.template.register_engine("null",function(){return function(a){return a}}());a=function(a,c,d,e,f){var l,q,m;null==f&&(f=-1);l=1;0>f&&(f=a.length+1+f);for(q=e;e<=f?q<f:q>f;e<=f?q++:q--)if(m=a[q],m===d?l+=1:m===c&&(l-=1),0===l)return q;return-1};e.template.register_engine("pythonic",function(){var b,c,d;d=/([0-9#0+-]*)\.*([0-9#+-]*)([diouxXeEfFgGcrsqm])((?:.|\n)*)/;b=/%[\(\/]/;c=
function(c){var e,f,q,m,o,n,k,c=c.split(b);o=c.length;k=[c[0]];for(f=q=1;1<=o?f<o:f>o;1<=o?f++:f--){e=a(c[f],")","(",0,-1);if(-1===e)return"Template syntax error: unmatched '%(' starting at: "+c[f].substring(0,15);m=c[f].substring(0,e);n=c[f].substring(e);e=d.exec(n);if(null===e)return"Template syntax error: invalid type specifier starting at '"+n+"'";n=e[4];k[q++]=m;k[q++]=e[1]|0;k[q++]=e[2]|0;k[q++]=e[3];k[q++]=n}return k};c.cache={};return function(a,b){var d,e,g,f,n,k,j,p,t,r,u;d=c.cache[a];null==
d&&(d=c.cache[a]=c(a));k=[d[0]];f=1;e=d.length;g=1;for(u=e-5;g<=u;g+=5){p=d.slice(g,g+4+1||9E9);n=p[0];j=p[1];e=p[2];t=p[3];p=p[4];r=b[n];null==r&&(r="missing value: "+n);switch(t){case "d":k[f++]=""+parseInt(r,10);break;case "f":k[f++]=parseFloat(r).toFixed(e);break;case "s":k[f++]=""+r;break;default:k[f++]=""+r}0<j&&(k[f]=String.PadLeft(k[f],j));k[f++]=p}return k.join("")}}());return e.template.register_engine("js-eval",function(){(function(){function a(){a.__super__.constructor.apply(this,arguments)}
j(a,e.StateMachine);a.STATE_TABLE=[{enter:function(){this.data=[];return this.GO(1)}},{}];return a})();return function(a){return a}}())})(Bling)}).call(this);
(function(f){return f.plugin(function(){var j,e,d;d=function(a){var b,c,d,f;b=a.indexOf(":");if(0<b)return d=parseInt(a.slice(0,b),10),c=a.slice(b+1,b+1+d),f=a[b+1+d],a=a.slice(b+d+2),c=function(){switch(f){case "#":return Number(c);case "'":return""+c;case "!":return"true"===c;case "~":return null;case "]":return j(c);case "}":return e(c)}}(),[c,a]};j=function(a){var b,c;for(b=[];0<a.length;)a=d(a),c=a[0],a=a[1],b.push(c);return b};e=function(a){var b,c,e;for(b={};0<a.length;)e=d(a),c=e[0],a=e[1],
a=d(a),e=a[0],a=a[1],b[c]=e;return b};return{name:"TNET",$:{TNET:{stringify:function(a){var b,c,d;d=function(){switch(Object.Type(a)){case "number":return[""+a,"#"];case "string":return[a,"'"];case "function":return[""+a,"'"];case "boolean":return[""+!!a,"!"];case "null":return["","~"];case "undefined":return["","~"];case "array":return[function(){var b,d,e;e=[];b=0;for(d=a.length;b<d;b++)c=a[b],e.push(f.TNET.stringify(c));return e}().join(""),"]"];case "object":return[function(){var b;b=[];for(c in a)b.push(f.TNET.stringify(c)+
f.TNET.stringify(a[c]));return b}().join(""),"}"]}}();b=d[0];return(b.length|0)+":"+b+d[1]},parse:function(a){var b;return null!=(b=d(a))?b[0]:void 0}}}}})})(Bling);
(function(f){return f.plugin(function(){var j,e,d,a,b,c;e=function(a,b){var c,b=Object.Extend({autoOpen:!1,draggable:!0},b);c=f(a).addClass("dialog");b.draggable&&c.draggable();b.autoOpen&&c.show().center();c.find("button.close, .close-button").bind("click touchstart",function(){c.hide();return!1});return c};d=function(a,b){var c,d,e,j,o,b=Object.Extend({handleCSS:{}},b);b.handleCSS=Object.Extend({position:"absolute",top:"0px",left:"0px",width:"100%",height:"6px"},b.handleCSS);c=f(a);e=!1;j=o=0;d=
f.synth("div.handle").defaultCss({background:"-webkit-gradient(linear, 50% 0%, 50% 100%, from(#eee), color-stop(0.25, #bbb), color-stop(0.3, #eee), color-stop(0.5, #eee), to(#bbb))",height:"6px","border-radius":"3px",cursor:"move"}.css(b.handleCSS.bind("mousedown, touchstart",function(a){e=!0;j||(j=a.pageX);o||(o=a.pageY);return!1})));f(document.bind("mousemove, touchmove",function(a){var b;if(e)return b=a.pageX-j,a=a.pageY-o,c.transform({translate:[b,a]},0).trigger("drag",{dragObject:c}),!1})).bind("mouseup, touchend",
function(){var a;if(e)return e=!1,a=d.position()[0],f(document.elementFromPoint(a.left,a.top-1).trigger("drop",{dropObject:c}))});return c.addClass("draggable").css({position:"relative","padding-top":c.css("padding-top").map(Number.AtLeast(parseInt(b.handleCSS.height,10))).px().first()}.append(d))};a=function(a,b){var c,d,e,j,b=Object.Extend({change:Function.Empty,backgroundColor:"#fff",barColor:"rgba(0,128,0,0.5)",textColor:"white",reset:!1},b);c=f(a).addClass("progress-bar");j=0;b.reset&&(d=c.css("background").first(),
e=c.css("color").first());return c.zap("updateProgress",function(a){for(;a>1;)a=a/100;j=a;a===1&&b.reset?c.css("background",d).css("color",e):c.css({background:"-webkit-gradient(linear, 0 0, "+parseInt(a*100)+"% 0, color-stop(0, "+b.barColor+"), color-stop(0.98, "+b.barColor+"), color-stop(1.0, "+b.backgroundColor+"))",color:b.textColor});if(Object.IsFunc(b.change))return b.change(j)})};j=function(a,b){var c,d,b=Object.Extend({exclusive:!1,sticky:!1},b);d=f(a).addClass("accordion");c=function(a){var c,
e,g,a=f(a).children().first().filter("*");if(2!==a.len())throw Exception("accordion row requires 2 elements, not "+a.len());g=a.eq(0).addClass("title");c=a.eq(1).addClass("body").hide();e=!1;return g.click(function(){b.exclusive&&d.find(".body").hide();if(e){if(b.sticky)return c.show().addClass("visible"),g.addClass("selected").trigger("select"),e=!0;c.hide().removeClass("visible");g.removeClass("selected").trigger("deselect");return e=!1}c.show().addClass("visible");g.addClass("selected").trigger("select");
return e=!0})};d.bind("DOMNodeInserted",function(a){var b;b=d.children().first().filter("*");a=f(a.target).parents().first();return c(a.intersect(b))});d.children().first().filter("*").map(c);return d};c=function(a){var b,c,d;c=f(a).css({position:"relative",top:"0px",left:"0px"}.hide().map(f));b=0;c[b].show();c.next=function(){c[b].hide();b=++b%nn;return c[b].show()};c.activate=function(a){c[b].hide();b=a;return c[a].show()};a=0;for(d=c.len();0<=d?a<d:a>d;0<=d?a++:a--)c[a].zap("_viewIndex",a.zap("activate",
function(){return c.activate(this._viewIndex)}));return c};b=function(a,b){var c,d,e;e=f(a);b=f(b).viewStack();d=e.len();for(c=0;0<=d?c<=d:c>=d;0<=d?c++:c--)e._tabIndex=c;f(e[0]).addClass("active");return e.click(function(){e.removeClass("active");b.activate(this._tabIndex);return f(this).addClass("active")})};return{name:"UI",$:{UI:{Draggable:d,ProgressBar:a,ViewStack:c,Tabs:b,Accordion:j}},dialog:function(a){return e(this,a)},progressBar:function(b){return a(this,b)},viewStack:function(a){return c(this,
a)},tabs:function(a){return b(this,a)},accordion:function(a){return j(this,a)},draggable:function(a){return d(this,a)}}})})(Bling);
