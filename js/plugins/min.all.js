(function(f){return f.plugin(function(){var f,e,d;e={};d=function(a,b){return e[a]=b};f=function(a){return e[a.TYPE]};Object.Type.extend("unknown",{compact:function(a){return Object.String(a)}});Object.Type.extend("string",{compact:function(a){return a}});Object.Type.extend("number",{compact:function(a){return Object.String(a)}});Object.Type.extend("array",{compact:function(a){var b,c,g,i;i=[];c=0;for(g=a.length;c<g;c++)b=a[c],i.push(Object.Compact(b));return i.join("")}});Object.Type.extend("bling",
{compact:function(a){return a.map(Object.Compact).join("")}});Object.Type.extend("undefined",{compact:function(){return""}});Object.Type.extend("null",{compact:function(){return""}});Object.Type.extend("object",{compact:function(a){var b;return Object.Compact(null!=(b=f(a))?b.prune.call(a,a):void 0)}});Object.Compact=function(a){var b;return null!=(b=Object.Type.lookup(a))?b.compact(a):void 0};Object.Extend(Object.Compact,{register:d,lookup:f});d("page",{prune:function(a){return["<!DOCTYPE html><html><head>",
a.HEAD,"</head><body>",a.BODY,"</body></html>"]}});d("text",{prune:function(a){return a.EN}});d("link",{prune:function(a){var b,c,g,i,h;b=["<a"];h=["href","name","target"];g=0;for(i=h.length;g<i;g++)c=h[g],c in a&&Array.Extend(b,[" ",c,"='",a[c],"'"]);Array.Extend(b,[">",a.CONTENT,"</a>"]);return b}});"<!DOCTYPE html><html><head></head><body>Hello World</body></html>"===Object.Compact({TYPE:"page",HEAD:[],BODY:{TYPE:"text",EN:"Hello World"}});return{name:"Compact"}})})(Bling);
(function(f){return f.plugin(function(){var j,e;j=function(d,a){return Object.Extend(document.createElement(d),a)};e=function(d,a){var b,c,g;b=g=null;c=j(d,Object.Extend(a,{"onload!":function(){if(null!=g)return f.publish(g)}}));f("head").delay(10,function(){var a=this;return null!=b?f.subscribe(b,function(){return a.append(c)}):this.append(c)});c=f(c);return Object.Extend(c,{depends:function(a){b=d+"-"+a;return c},provides:function(a){g=d+"-"+a;return c}})};return{name:"LazyLoader",$:{script:function(d){return e("script",
{"src!":d})},style:function(d){return e("link",{"href!":d,"rel!":"stylesheet"})}}}})})(Bling);
(function(f){return f.plugin(function(){var f,e,d;e={};d=function(a,b){return e[a]=b};f=function(a){return e[a.TYPE]};Object.Type.extend("unknown",{compact:function(a){return Object.String(a)}});Object.Type.extend("string",{compact:function(a){return a}});Object.Type.extend("number",{compact:function(a){return Object.String(a)}});Object.Type.extend("array",{compact:function(a){var b,c,g,i;i=[];c=0;for(g=a.length;c<g;c++)b=a[c],i.push(Object.Compact(b));return i.join("")}});Object.Type.extend("bling",
{compact:function(a){return a.map(Object.Compact).join("")}});Object.Type.extend("undefined",{compact:function(){return""}});Object.Type.extend("null",{compact:function(){return""}});Object.Type.extend("object",{compact:function(a){var b;return Object.Compact(null!=(b=f(a))?b.prune.call(a,a):void 0)}});Object.Compact=function(a){var b;return null!=(b=Object.Type.lookup(a))?b.compact(a):void 0};Object.Extend(Object.Compact,{register:d,lookup:f});d("page",{prune:function(a){return["<!DOCTYPE html><html><head>",
a.HEAD,"</head><body>",a.BODY,"</body></html>"]}});d("text",{prune:function(a){return a.EN}});d("link",{prune:function(a){var b,c,g,i,h;b=["<a"];h=["href","name","target"];g=0;for(i=h.length;g<i;g++)c=h[g],c in a&&Array.Extend(b,[" ",c,"='",a[c],"'"]);Array.Extend(b,[">",a.CONTENT,"</a>"]);return b}});"<!DOCTYPE html><html><head></head><body>Hello World</body></html>"===Object.Compact({TYPE:"page",HEAD:[],BODY:{TYPE:"text",EN:"Hello World"}});return{name:"Compact"}})})(Bling);
(function(f){return f.plugin(function(){var j,e;j=function(d,a){return Object.Extend(document.createElement(d),a)};e=function(d,a){var b,c,g;b=g=null;c=j(d,Object.Extend(a,{"onload!":function(){if(null!=g)return f.publish(g)}}));f("head").delay(10,function(){var a=this;return null!=b?f.subscribe(b,function(){return a.append(c)}):this.append(c)});c=f(c);return Object.Extend(c,{depends:function(a){b=d+"-"+a;return c},provides:function(a){g=d+"-"+a;return c}})};return{name:"LazyLoader",$:{script:function(d){return e("script",
{"src!":d})},style:function(d){return e("link",{"href!":d,"rel!":"stylesheet"})}}}})})(Bling);
(function(f){return f.plugin(function(){var f,e,d;e={};d=function(a,b){return e[a]=b};f=function(a){return e[a.TYPE]};Object.Type.extend("unknown",{compact:function(a){return Object.String(a)}});Object.Type.extend("string",{compact:function(a){return a}});Object.Type.extend("number",{compact:function(a){return Object.String(a)}});Object.Type.extend("array",{compact:function(a){var b,c,g,i;i=[];c=0;for(g=a.length;c<g;c++)b=a[c],i.push(Object.Compact(b));return i.join("")}});Object.Type.extend("bling",
{compact:function(a){return a.map(Object.Compact).join("")}});Object.Type.extend("undefined",{compact:function(){return""}});Object.Type.extend("null",{compact:function(){return""}});Object.Type.extend("object",{compact:function(a){var b;return Object.Compact(null!=(b=f(a))?b.prune.call(a,a):void 0)}});Object.Compact=function(a){var b;return null!=(b=Object.Type.lookup(a))?b.compact(a):void 0};Object.Extend(Object.Compact,{register:d,lookup:f});d("page",{prune:function(a){return["<!DOCTYPE html><html><head>",
a.HEAD,"</head><body>",a.BODY,"</body></html>"]}});d("text",{prune:function(a){return a.EN}});d("link",{prune:function(a){var b,c,g,i,h;b=["<a"];h=["href","name","target"];g=0;for(i=h.length;g<i;g++)c=h[g],c in a&&Array.Extend(b,[" ",c,"='",a[c],"'"]);Array.Extend(b,[">",a.CONTENT,"</a>"]);return b}});"<!DOCTYPE html><html><head></head><body>Hello World</body></html>"===Object.Compact({TYPE:"page",HEAD:[],BODY:{TYPE:"text",EN:"Hello World"}});return{name:"Compact"}})})(Bling);
(function(f){return f.plugin(function(){var j,e;j=function(d,a){return Object.Extend(document.createElement(d),a)};e=function(d,a){var b,c,g;b=g=null;c=j(d,Object.Extend(a,{"onload!":function(){if(null!=g)return f.publish(g)}}));f("head").delay(10,function(){var a=this;return null!=b?f.subscribe(b,function(){return a.append(c)}):this.append(c)});c=f(c);return Object.Extend(c,{depends:function(a){b=d+"-"+a;return c},provides:function(a){g=d+"-"+a;return c}})};return{name:"LazyLoader",$:{script:function(d){return e("script",
{"src!":d})},style:function(d){return e("link",{"href!":d,"rel!":"stylesheet"})}}}})})(Bling);
(function(f){return f.plugin(function(){var j,e,d,a,b,c,g,i,h,n,r,o,l,m,k,s;r=/!==|!=|!|\#|\%|\%=|\&|\&\&|\&\&=|&=|\*|\*=|\+|\+=|-|-=|->|\.{1,3}|\/|\/=|:|::|;|<<=|<<|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\?|@|\[|\]|}|{|\^|\^=|\^\^|\^\^=|\|=|\|\|=|\|\||\||~/g;h=/\b[Ff]unction\b|\bvar\b|\.prototype\b|\.__proto__\b|\bString\b|\bArray\b|\bNumber\b|\bObject\b|\bbreak\b|\bcase\b|\bcontinue\b|\bdelete\b|\bdo\b|\bif\b|\belse\b|\bfinally\b|\binstanceof\b|\breturn\b|\bthrow\b|\btry\b|\btypeof\b|\btrue\b|\bfalse\b/g;j=
/\d+\.*\d*/g;e=/\$(\(|\.)/g;s=/\t/g;l=/\/\/.*?(?:\n|$)/;n=/\/\*(?:.|\n)*?\*\//;a=function(a){return a?"<span class='com'>"+a+"</span>":""};o=function(a){return a?"<span class='str'>"+a+"</span>":""};c=function(a,b){var i,g;i=a.indexOf('"',b);g=a.indexOf("'",b);-1===i&&(i=a.length);-1===g&&(g=a.length);return i===g?[null,-1]:i<g?['"',i]:["'",g]};d=function(a,b,i){for(b=a.indexOf(i,b);"\\"===a.charAt(b-1)&&0<b&&b<a.length;)b=a.indexOf(i,b+1);return b};k=function(a){var b,i,g,h,n;b=0;g=a.length;n=[];
if(!Object.IsString(a))if(Object.IsFunction(a.toString))a=a.toString(),g=a.length;else throw TypeError("invalid string argument to split_quoted");for(;b<g;){h=c(a,b);i=h[1];if(-1===i){n.push(a.substring(b));break}n.push(a.substring(b,i));b=d(a,i+1,h[0]);if(-1===b)throw Error("unclosed quote: "+h[0]+" starting at "+i);n.push(a.substring(i,b+1));b+=1}return n};b=function(a){var b;b=a.match(l);a=a.match(n);return b===a?[-1,null]:null===b&&null!==a?[a.index,a[0]]:null!==b&&null===a?[b.index,b[0]]:a.index<
b.index?[a.index,a[0]]:[b.index,b[0]]};m=function(a){var i,g,h,c,n,d;n=[];i=0;for(h=a.length;i<h;)if(d=a.substring(i),c=b(d),g=c[0],-1<g)n.push(d.substring(0,g)),n.push(c[1]),i+=g+c[1].length;else{n.push(d);break}return n};g=function(a,b){return a.replace(r,"<span class='opr'>$&</span>").replace(j,"<span class='num'>$&</span>").replace(h,"<span class='kwd'>$&</span>").replace(e,"<span class='bln'>$$</span>$1").replace(s,"&nbsp;&nbsp;")+o(b)};i=function(b,i){return f(k(b)).fold(g).join("")+a(i)};return{name:"PrettyPrint",
$:{prettyPrint:function(a,b){var g,h;Object.IsFunction(a)&&(a=a.toString());if(!Object.IsString(a))throw TypeError("prettyPrint requires a function or string to format, not '"+Object.Type(a)+"'");if(0===f("style#prettyPrint").length){h="code.pp .bln { font-size: 17px; } ";b=Object.Extend({opr:"#880",str:"#008",com:"#080",kwd:"#088",num:"#808",bln:"#800"},b);for(g in b)h+="code.pp ."+g+" { color: "+b[g]+"; } ";f.synth("style#prettyPrint").text(h).appendTo("head")}return"<code class='pp'>"+f(m(a)).fold(i).join("")+
"</code>"}}}})})(Bling);
(function(){var f=Object.prototype.hasOwnProperty,j=function(e,d){function a(){this.constructor=e}for(var b in d)f.call(d,b)&&(e[b]=d[b]);a.prototype=d.prototype;e.prototype=new a;e.__super__=d.prototype;return e};(function(e){e.plugin(function(){return{name:"StateMachine",$:{StateMachine:function(){function d(a){this.reset();this.table=a;Object.defineProperty(this,"modeline",{get:this.table[this._mode]});Object.defineProperty(this,"mode",{set:function(a){var c;this._lastMode=this._mode;this._mode=
a;if(this._mode!==this._lastMode&&null!=this.modeline&&"enter"in this.modeline)for(c=this.modeline.enter.call(this);Object.IsFunction(c);)c=c.call(this);return a},get:function(){return this._mode}})}d.prototype.reset=function(){return this._lastMode=this._mode=null};d.prototype.GO=function(a){return function(){return this.mode=a}};d.GO=function(a){return function(){return this.mode=a}};d.prototype.run=function(a){var b,c,g,i,h,n;i=this.mode=0;for(h=a.length;i<h;i++){b=a[i];g=this.modeline;null==g?
c=null:b in g?c=g[b]:"def"in g&&(c=g.def);for(;Object.IsFunction(c);)c=c.call(this,b)}if(Object.IsFunction(null!=(n=this.modeline)?n.eof:void 0))c=this.modeline.eof.call(this);for(;Object.IsFunction(c);)c=c.call(this);this.reset();return this};return d}()}}});return e.plugin(function(){var d;d=function(){function a(){a.__super__.constructor.call(this,a.STATE_TABLE);this.fragment=this.parent=document.createDocumentFragment()}j(a,e.StateMachine);a.STATE_TABLE=[{enter:function(){this.tag=this.id=this.cls=
this.attr=this.val=this.text="";this.attrs={};return this.GO(1)}},{'"':a.GO(6),"'":a.GO(7),"#":a.GO(2),".":a.GO(3),"[":a.GO(4)," ":a.GO(9),"+":a.GO(11),",":a.GO(10),def:function(a){return this.tag+=a},eof:a.GO(13)},{".":a.GO(3),"[":a.GO(4)," ":a.GO(9),"+":a.GO(11),",":a.GO(10),def:function(a){return this.id+=a},eof:a.GO(13)},{enter:function(){if(0<this.cls.length)return this.cls+=" "},"#":a.GO(2),".":a.GO(3),"[":a.GO(4)," ":a.GO(9),"+":a.GO(11),",":a.GO(10),def:function(a){return this.cls+=a},eof:a.GO(13)},
{"=":a.GO(5),"]":function(){this.attrs[this.attr]=this.val;return this.GO(1)},def:function(a){return this.attr+=a},eof:a.GO(12)},{"]":function(){this.attrs[this.attr]=this.val;return this.GO(1)},def:function(a){return this.val+=a},eof:a.GO(12)},{'"':a.GO(8),def:function(a){return this.text+=a},eof:a.GO(12)},{"'":a.GO(8),def:function(a){return this.text+=a},eof:a.GO(12)},{enter:function(){this.emitText();return this.GO(0)}},{enter:function(){this.emitNode();return this.GO(0)}},{enter:function(){this.emitNode();
this.parent=null;return this.GO(0)}},{enter:function(){var a;this.emitNode();this.parent=null!=(a=this.parent)?a.parentNode:void 0;return this.GO(0)}},{enter:function(){return e.log("Error in synth expression: "+this.input)}},{enter:function(){this.tag.length&&this.emitNode();if(this.text.length)return this.emitText()}}];a.prototype.emitNode=function(){var a,c;c=document.createElement(this.tag);c.id=this.id||null;c.className=this.cls||null;for(a in this.attrs)c.setAttribute(a,this.attrs[a]);this.parent.appendChild(c);
return this.parent=c};a.prototype.emitText=function(){this.parent.appendChild(e.HTML.parse(this.text));return this.text=""};return a}();return{name:"Synth",$:{synth:function(a){var b;b=new d;b.run(a);return 1===b.fragment.childNodes.length?e(b.fragment.childNodes[0]):e(b.fragment)}}}})})(Bling)}).call(this);
(function(){var f=Object.prototype.hasOwnProperty,j=function(e,d){function a(){this.constructor=e}for(var b in d)f.call(d,b)&&(e[b]=d[b]);a.prototype=d.prototype;e.prototype=new a;e.__super__=d.prototype;return e};(function(e){var d,a;d={};e.plugin(function(){var a,c;a=null;d={};c={register_engine:function(g,i){d[g]=i;if(null==a)return a=g},render:function(g,i){if(a in d)return d[a](g,i)}};c.__defineSetter__("engine",function(g){if(!g in d)throw Error("invalid template engine: "+g+" not one of "+
Object.Keys(d));return a=g});c.__defineGetter__("engine",function(){return a});return{name:"Template",$:{template:c}}});e.template.register_engine("null",function(){return function(a){return a}}());a=function(a,c,g,i,h){var n,d,e;null==h&&(h=-1);n=1;0>h&&(h=a.length+1+h);for(d=i;i<=h?d<h:d>h;i<=h?d++:d--)if(e=a[d],e===g?n+=1:e===c&&(n-=1),0===n)return d;return-1};e.template.register_engine("pythonic",function(){var b,c,g;g=/([0-9#0+-]*)\.*([0-9#+-]*)([diouxXeEfFgGcrsqm])((?:.|\n)*)/;b=/%[\(\/]/;c=
function(i){var h,c,d,e,f,m,k,i=i.split(b);f=i.length;k=[i[0]];for(c=d=1;1<=f?c<f:c>f;1<=f?c++:c--){h=a(i[c],")","(",0,-1);if(-1===h)return"Template syntax error: unmatched '%(' starting at: "+i[c].substring(0,15);e=i[c].substring(0,h);m=i[c].substring(h);h=g.exec(m);if(null===h)return"Template syntax error: invalid type specifier starting at '"+m+"'";m=h[4];k[d++]=e;k[d++]=h[1]|0;k[d++]=h[2]|0;k[d++]=h[3];k[d++]=m}return k};c.cache={};return function(a,b){var g,d,e,f,m,k,j,p,t,q,u;g=c.cache[a];null==
g&&(g=c.cache[a]=c(a));k=[g[0]];f=1;d=g.length;e=1;for(u=d-5;e<=u;e+=5){p=g.slice(e,e+4+1||9E9);m=p[0];j=p[1];d=p[2];t=p[3];p=p[4];q=b[m];null==q&&(q="missing value: "+m);switch(t){case "d":k[f++]=""+parseInt(q,10);break;case "f":k[f++]=parseFloat(q).toFixed(d);break;case "s":k[f++]=""+q;break;default:k[f++]=""+q}0<j&&(k[f]=String.PadLeft(k[f],j));k[f++]=p}return k.join("")}}());return e.template.register_engine("js-eval",function(){(function(){function a(){a.__super__.constructor.apply(this,arguments)}
j(a,e.StateMachine);a.STATE_TABLE=[{enter:function(){this.data=[];return this.GO(1)}},{}];return a})();return function(a){return a}}())})(Bling)}).call(this);
(function(f){return f.plugin(function(){var j,e,d;d=function(a){var b,c,g,i;b=a.indexOf(":");if(0<b)return g=parseInt(a.slice(0,b),10),c=a.slice(b+1,b+1+g),i=a[b+1+g],a=a.slice(b+g+2),c=function(){switch(i){case "#":return Number(c);case "'":return""+c;case "!":return"true"===c;case "~":return null;case "]":return j(c);case "}":return e(c)}}(),[c,a]};j=function(a){var b,c;for(b=[];0<a.length;)a=d(a),c=a[0],a=a[1],b.push(c);return b};e=function(a){var b,c,g;for(b={};0<a.length;)g=d(a),c=g[0],a=g[1],
a=d(a),g=a[0],a=a[1],b[c]=g;return b};return{name:"TNET",$:{TNET:{stringify:function(a){var b,c,g;g=function(){switch(Object.Type(a)){case "number":return[""+a,"#"];case "string":return[a,"'"];case "function":return[""+a,"'"];case "boolean":return[""+!!a,"!"];case "null":return["","~"];case "undefined":return["","~"];case "array":return[function(){var b,g,d;d=[];b=0;for(g=a.length;b<g;b++)c=a[b],d.push(f.TNET.stringify(c));return d}().join(""),"]"];case "object":return[function(){var b;b=[];for(c in a)b.push(f.TNET.stringify(c)+
f.TNET.stringify(a[c]));return b}().join(""),"}"]}}();b=g[0];return(b.length|0)+":"+b+g[1]},parse:function(a){var b;return null!=(b=d(a))?b[0]:void 0}}}}})})(Bling);
(function(f){return f.plugin(function(){var j,e,d,a,b,c;e=function(a,b){var h,b=Object.Extend({autoOpen:!1,draggable:!0},b);h=f(a).addClass("dialog");b.draggable&&h.draggable();b.autoOpen&&h.show().center();h.find("button.close, .close-button").bind("click touchstart",function(){h.hide();return!1});return h};d=function(a,b){var h,c,d,e,l,b=Object.Extend({handleCSS:{}},b);b.handleCSS=Object.Extend({position:"absolute",top:"0px",left:"0px",width:"100%",height:"6px"},b.handleCSS);h=f(a);d=!1;e=l=0;c=
f.synth("div.handle").defaultCss({background:"-webkit-gradient(linear, 50% 0%, 50% 100%, from(#eee), color-stop(0.25, #bbb), color-stop(0.3, #eee), color-stop(0.5, #eee), to(#bbb))",height:"6px","border-radius":"3px",cursor:"move"}.css(b.handleCSS.bind("mousedown, touchstart",function(a){d=!0;e||(e=a.pageX);l||(l=a.pageY);return!1})));f(document.bind("mousemove, touchmove",function(a){var b;if(d)return b=a.pageX-e,a=a.pageY-l,h.transform({translate:[b,a]},0).trigger("drag",{dragObject:h}),!1})).bind("mouseup, touchend",
function(){var a;if(d)return d=!1,a=c.position()[0],f(document.elementFromPoint(a.left,a.top-1).trigger("drop",{dropObject:h}))});return h.addClass("draggable").css({position:"relative","padding-top":h.css("padding-top").map(Number.AtLeast(parseInt(b.handleCSS.height,10))).px().first()}.append(c))};a=function(a,b){var c,d,r,e,b=Object.Extend({change:Function.Empty,backgroundColor:"#fff",barColor:"rgba(0,128,0,0.5)",textColor:"white",reset:!1},b);c=f(a).addClass("progress-bar");e=0;b.reset&&(d=c.css("background").first(),
r=c.css("color").first());return c.zap("updateProgress",function(a){for(;1<a;)a/=100;e=a;1===a&&b.reset?c.css("background",d).css("color",r):c.css({background:"-webkit-gradient(linear, 0 0, "+parseInt(100*a)+"% 0, color-stop(0, "+b.barColor+"), color-stop(0.98, "+b.barColor+"), color-stop(1.0, "+b.backgroundColor+"))",color:b.textColor});if(Object.IsFunc(b.change))return b.change(e)})};j=function(a,b){var c,d,b=Object.Extend({exclusive:!1,sticky:!1},b);d=f(a).addClass("accordion");c=function(a){var c,
g,h,a=f(a).children().first().filter("*");if(2!==a.len())throw Exception("accordion row requires 2 elements, not "+a.len());h=a.eq(0).addClass("title");c=a.eq(1).addClass("body").hide();g=!1;return h.click(function(){b.exclusive&&d.find(".body").hide();if(g){if(b.sticky)return c.show().addClass("visible"),h.addClass("selected").trigger("select"),g=!0;c.hide().removeClass("visible");h.removeClass("selected").trigger("deselect");return g=!1}c.show().addClass("visible");h.addClass("selected").trigger("select");
return g=!0})};d.bind("DOMNodeInserted",function(a){var b;b=d.children().first().filter("*");a=f(a.target).parents().first();return c(a.intersect(b))});d.children().first().filter("*").map(c);return d};c=function(a){var b,c,d;c=f(a).css({position:"relative",top:"0px",left:"0px"}.hide().map(f));b=0;c[b].show();c.next=function(){c[b].hide();b=++b%nn;return c[b].show()};c.activate=function(a){c[b].hide();b=a;return c[a].show()};a=0;for(d=c.len();0<=d?a<d:a>d;0<=d?a++:a--)c[a].zap("_viewIndex",a.zap("activate",
function(){return c.activate(this._viewIndex)}));return c};b=function(a,b){var c,d,e;e=f(a);b=f(b).viewStack();d=e.len();for(c=0;0<=d?c<=d:c>=d;0<=d?c++:c--)e._tabIndex=c;f(e[0]).addClass("active");return e.click(function(){e.removeClass("active");b.activate(this._tabIndex);return f(this).addClass("active")})};return{name:"UI",$:{UI:{Draggable:d,ProgressBar:a,ViewStack:c,Tabs:b,Accordion:j}},dialog:function(a){return e(this,a)},progressBar:function(b){return a(this,b)},viewStack:function(a){return c(this,
a)},tabs:function(a){return b(this,a)},accordion:function(a){return j(this,a)},draggable:function(a){return d(this,a)}}})})(Bling);
(function(f){return f.plugin(function(){var f,e,d;e={};d=function(a,b){return e[a]=b};f=function(a){return e[a.TYPE]};Object.Type.extend("unknown",{compact:function(a){return Object.String(a)}});Object.Type.extend("string",{compact:function(a){return a}});Object.Type.extend("number",{compact:function(a){return Object.String(a)}});Object.Type.extend("array",{compact:function(a){var b,c,g,i;i=[];c=0;for(g=a.length;c<g;c++)b=a[c],i.push(Object.Compact(b));return i.join("")}});Object.Type.extend("bling",
{compact:function(a){return a.map(Object.Compact).join("")}});Object.Type.extend("undefined",{compact:function(){return""}});Object.Type.extend("null",{compact:function(){return""}});Object.Type.extend("object",{compact:function(a){var b;return Object.Compact(null!=(b=f(a))?b.prune.call(a,a):void 0)}});Object.Compact=function(a){var b;return null!=(b=Object.Type.lookup(a))?b.compact(a):void 0};Object.Extend(Object.Compact,{register:d,lookup:f});d("page",{prune:function(a){return["<!DOCTYPE html><html><head>",
a.HEAD,"</head><body>",a.BODY,"</body></html>"]}});d("text",{prune:function(a){return a.EN}});d("link",{prune:function(a){var b,c,g,i,h;b=["<a"];h=["href","name","target"];g=0;for(i=h.length;g<i;g++)c=h[g],c in a&&Array.Extend(b,[" ",c,"='",a[c],"'"]);Array.Extend(b,[">",a.CONTENT,"</a>"]);return b}});"<!DOCTYPE html><html><head></head><body>Hello World</body></html>"===Object.Compact({TYPE:"page",HEAD:[],BODY:{TYPE:"text",EN:"Hello World"}});return{name:"Compact"}})})(Bling);
(function(f){return f.plugin(function(){var j,e,d,a,b,c,g,i,h,n,r,o,l,m,k,s;r=/!==|!=|!|\#|\%|\%=|\&|\&\&|\&\&=|&=|\*|\*=|\+|\+=|-|-=|->|\.{1,3}|\/|\/=|:|::|;|<<=|<<|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\?|@|\[|\]|}|{|\^|\^=|\^\^|\^\^=|\|=|\|\|=|\|\||\||~/g;h=/\b[Ff]unction\b|\bvar\b|\.prototype\b|\.__proto__\b|\bString\b|\bArray\b|\bNumber\b|\bObject\b|\bbreak\b|\bcase\b|\bcontinue\b|\bdelete\b|\bdo\b|\bif\b|\belse\b|\bfinally\b|\binstanceof\b|\breturn\b|\bthrow\b|\btry\b|\btypeof\b|\btrue\b|\bfalse\b/g;
j=/\d+\.*\d*/g;e=/\$(\(|\.)/g;s=/\t/g;l=/\/\/.*?(?:\n|$)/;n=/\/\*(?:.|\n)*?\*\//;a=function(a){return a?"<span class='com'>"+a+"</span>":""};o=function(a){return a?"<span class='str'>"+a+"</span>":""};c=function(a,b){var c,i;c=a.indexOf('"',b);i=a.indexOf("'",b);-1===c&&(c=a.length);-1===i&&(i=a.length);return c===i?[null,-1]:c<i?['"',c]:["'",i]};d=function(a,b,c){for(b=a.indexOf(c,b);"\\"===a.charAt(b-1)&&0<b&&b<a.length;)b=a.indexOf(c,b+1);return b};k=function(a){var b,i,g,h,n;b=0;g=a.length;n=
[];if(!Object.IsString(a))if(Object.IsFunction(a.toString))a=a.toString(),g=a.length;else throw TypeError("invalid string argument to split_quoted");for(;b<g;){h=c(a,b);i=h[1];if(-1===i){n.push(a.substring(b));break}n.push(a.substring(b,i));b=d(a,i+1,h[0]);if(-1===b)throw Error("unclosed quote: "+h[0]+" starting at "+i);n.push(a.substring(i,b+1));b+=1}return n};b=function(a){var b;b=a.match(l);a=a.match(n);return b===a?[-1,null]:null===b&&null!==a?[a.index,a[0]]:null!==b&&null===a?[b.index,b[0]]:
a.index<b.index?[a.index,a[0]]:[b.index,b[0]]};m=function(a){var c,i,g,h,d,n;d=[];c=0;for(g=a.length;c<g;)if(n=a.substring(c),h=b(n),i=h[0],-1<i)d.push(n.substring(0,i)),d.push(h[1]),c+=i+h[1].length;else{d.push(n);break}return d};g=function(a,b){return a.replace(r,"<span class='opr'>$&</span>").replace(j,"<span class='num'>$&</span>").replace(h,"<span class='kwd'>$&</span>").replace(e,"<span class='bln'>$$</span>$1").replace(s,"&nbsp;&nbsp;")+o(b)};i=function(b,c){return f(k(b)).fold(g).join("")+
a(c)};return{name:"PrettyPrint",$:{prettyPrint:function(a,b){var c,g;Object.IsFunction(a)&&(a=a.toString());if(!Object.IsString(a))throw TypeError("prettyPrint requires a function or string to format, not '"+Object.Type(a)+"'");if(0===f("style#prettyPrint").length){g="code.pp .bln { font-size: 17px; } ";b=Object.Extend({opr:"#880",str:"#008",com:"#080",kwd:"#088",num:"#808",bln:"#800"},b);for(c in b)g+="code.pp ."+c+" { color: "+b[c]+"; } ";f.synth("style#prettyPrint").text(g).appendTo("head")}return"<code class='pp'>"+
f(m(a)).fold(i).join("")+"</code>"}}}})})(Bling);
(function(){var f=Object.prototype.hasOwnProperty,j=function(e,d){function a(){this.constructor=e}for(var b in d)f.call(d,b)&&(e[b]=d[b]);a.prototype=d.prototype;e.prototype=new a;e.__super__=d.prototype;return e};(function(e){e.plugin(function(){return{name:"StateMachine",$:{StateMachine:function(){function d(a){this.reset();this.table=a;Object.defineProperty(this,"modeline",{get:this.table[this._mode]});Object.defineProperty(this,"mode",{set:function(a){var c;this._lastMode=this._mode;this._mode=
a;if(this._mode!==this._lastMode&&null!=this.modeline&&"enter"in this.modeline)for(c=this.modeline.enter.call(this);Object.IsFunction(c);)c=c.call(this);return a},get:function(){return this._mode}})}d.prototype.reset=function(){return this._lastMode=this._mode=null};d.prototype.GO=function(a){return function(){return this.mode=a}};d.GO=function(a){return function(){return this.mode=a}};d.prototype.run=function(a){var b,c,g,i,h,d;i=this.mode=0;for(h=a.length;i<h;i++){b=a[i];g=this.modeline;null==g?
c=null:b in g?c=g[b]:"def"in g&&(c=g.def);for(;Object.IsFunction(c);)c=c.call(this,b)}if(Object.IsFunction(null!=(d=this.modeline)?d.eof:void 0))c=this.modeline.eof.call(this);for(;Object.IsFunction(c);)c=c.call(this);this.reset();return this};return d}()}}});return e.plugin(function(){var d;d=function(){function a(){a.__super__.constructor.call(this,a.STATE_TABLE);this.fragment=this.parent=document.createDocumentFragment()}j(a,e.StateMachine);a.STATE_TABLE=[{enter:function(){this.tag=this.id=this.cls=
this.attr=this.val=this.text="";this.attrs={};return this.GO(1)}},{'"':a.GO(6),"'":a.GO(7),"#":a.GO(2),".":a.GO(3),"[":a.GO(4)," ":a.GO(9),"+":a.GO(11),",":a.GO(10),def:function(a){return this.tag+=a},eof:a.GO(13)},{".":a.GO(3),"[":a.GO(4)," ":a.GO(9),"+":a.GO(11),",":a.GO(10),def:function(a){return this.id+=a},eof:a.GO(13)},{enter:function(){if(0<this.cls.length)return this.cls+=" "},"#":a.GO(2),".":a.GO(3),"[":a.GO(4)," ":a.GO(9),"+":a.GO(11),",":a.GO(10),def:function(a){return this.cls+=a},eof:a.GO(13)},
{"=":a.GO(5),"]":function(){this.attrs[this.attr]=this.val;return this.GO(1)},def:function(a){return this.attr+=a},eof:a.GO(12)},{"]":function(){this.attrs[this.attr]=this.val;return this.GO(1)},def:function(a){return this.val+=a},eof:a.GO(12)},{'"':a.GO(8),def:function(a){return this.text+=a},eof:a.GO(12)},{"'":a.GO(8),def:function(a){return this.text+=a},eof:a.GO(12)},{enter:function(){this.emitText();return this.GO(0)}},{enter:function(){this.emitNode();return this.GO(0)}},{enter:function(){this.emitNode();
this.parent=null;return this.GO(0)}},{enter:function(){var a;this.emitNode();this.parent=null!=(a=this.parent)?a.parentNode:void 0;return this.GO(0)}},{enter:function(){return e.log("Error in synth expression: "+this.input)}},{enter:function(){this.tag.length&&this.emitNode();if(this.text.length)return this.emitText()}}];a.prototype.emitNode=function(){var a,c;c=document.createElement(this.tag);c.id=this.id||null;c.className=this.cls||null;for(a in this.attrs)c.setAttribute(a,this.attrs[a]);this.parent.appendChild(c);
return this.parent=c};a.prototype.emitText=function(){this.parent.appendChild(e.HTML.parse(this.text));return this.text=""};return a}();return{name:"Synth",$:{synth:function(a){var b;b=new d;b.run(a);return 1===b.fragment.childNodes.length?e(b.fragment.childNodes[0]):e(b.fragment)}}}})})(Bling)}).call(this);
(function(){var f=Object.prototype.hasOwnProperty,j=function(e,d){function a(){this.constructor=e}for(var b in d)f.call(d,b)&&(e[b]=d[b]);a.prototype=d.prototype;e.prototype=new a;e.__super__=d.prototype;return e};(function(e){var d,a;d={};e.plugin(function(){var a,c;a=null;d={};c={register_engine:function(c,i){d[c]=i;if(null==a)return a=c},render:function(c,i){if(a in d)return d[a](c,i)}};c.__defineSetter__("engine",function(c){if(!c in d)throw Error("invalid template engine: "+c+" not one of "+
Object.Keys(d));return a=c});c.__defineGetter__("engine",function(){return a});return{name:"Template",$:{template:c}}});e.template.register_engine("null",function(){return function(a){return a}}());a=function(a,c,g,i,h){var d,e,f;null==h&&(h=-1);d=1;0>h&&(h=a.length+1+h);for(e=i;i<=h?e<h:e>h;i<=h?e++:e--)if(f=a[e],f===g?d+=1:f===c&&(d-=1),0===d)return e;return-1};e.template.register_engine("pythonic",function(){var b,c,g;g=/([0-9#0+-]*)\.*([0-9#+-]*)([diouxXeEfFgGcrsqm])((?:.|\n)*)/;b=/%[\(\/]/;c=
function(c){var h,d,e,f,l,m,k,c=c.split(b);l=c.length;k=[c[0]];for(d=e=1;1<=l?d<l:d>l;1<=l?d++:d--){h=a(c[d],")","(",0,-1);if(-1===h)return"Template syntax error: unmatched '%(' starting at: "+c[d].substring(0,15);f=c[d].substring(0,h);m=c[d].substring(h);h=g.exec(m);if(null===h)return"Template syntax error: invalid type specifier starting at '"+m+"'";m=h[4];k[e++]=f;k[e++]=h[1]|0;k[e++]=h[2]|0;k[e++]=h[3];k[e++]=m}return k};c.cache={};return function(a,b){var g,d,e,f,m,k,j,p,t,q,u;g=c.cache[a];null==
g&&(g=c.cache[a]=c(a));k=[g[0]];f=1;d=g.length;e=1;for(u=d-5;e<=u;e+=5){p=g.slice(e,e+4+1||9E9);m=p[0];j=p[1];d=p[2];t=p[3];p=p[4];q=b[m];null==q&&(q="missing value: "+m);switch(t){case "d":k[f++]=""+parseInt(q,10);break;case "f":k[f++]=parseFloat(q).toFixed(d);break;case "s":k[f++]=""+q;break;default:k[f++]=""+q}0<j&&(k[f]=String.PadLeft(k[f],j));k[f++]=p}return k.join("")}}());return e.template.register_engine("js-eval",function(){(function(){function a(){a.__super__.constructor.apply(this,arguments)}
j(a,e.StateMachine);a.STATE_TABLE=[{enter:function(){this.data=[];return this.GO(1)}},{}];return a})();return function(a){return a}}())})(Bling)}).call(this);
(function(f){return f.plugin(function(){var j,e,d;d=function(a){var b,c,g,i;b=a.indexOf(":");if(0<b)return g=parseInt(a.slice(0,b),10),c=a.slice(b+1,b+1+g),i=a[b+1+g],a=a.slice(b+g+2),c=function(){switch(i){case "#":return Number(c);case "'":return""+c;case "!":return"true"===c;case "~":return null;case "]":return j(c);case "}":return e(c)}}(),[c,a]};j=function(a){var b,c;for(b=[];0<a.length;)a=d(a),c=a[0],a=a[1],b.push(c);return b};e=function(a){var b,c,g;for(b={};0<a.length;)g=d(a),c=g[0],a=g[1],
a=d(a),g=a[0],a=a[1],b[c]=g;return b};return{name:"TNET",$:{TNET:{stringify:function(a){var b,c,g;g=function(){switch(Object.Type(a)){case "number":return[""+a,"#"];case "string":return[a,"'"];case "function":return[""+a,"'"];case "boolean":return[""+!!a,"!"];case "null":return["","~"];case "undefined":return["","~"];case "array":return[function(){var b,g,d;d=[];b=0;for(g=a.length;b<g;b++)c=a[b],d.push(f.TNET.stringify(c));return d}().join(""),"]"];case "object":return[function(){var b;b=[];for(c in a)b.push(f.TNET.stringify(c)+
f.TNET.stringify(a[c]));return b}().join(""),"}"]}}();b=g[0];return(b.length|0)+":"+b+g[1]},parse:function(a){var b;return null!=(b=d(a))?b[0]:void 0}}}}})})(Bling);
(function(f){return f.plugin(function(){var j,e,d,a,b,c;e=function(a,b){var c,b=Object.Extend({autoOpen:!1,draggable:!0},b);c=f(a).addClass("dialog");b.draggable&&c.draggable();b.autoOpen&&c.show().center();c.find("button.close, .close-button").bind("click touchstart",function(){c.hide();return!1});return c};d=function(a,b){var c,d,e,o,l,b=Object.Extend({handleCSS:{}},b);b.handleCSS=Object.Extend({position:"absolute",top:"0px",left:"0px",width:"100%",height:"6px"},b.handleCSS);c=f(a);e=!1;o=l=0;d=
f.synth("div.handle").defaultCss({background:"-webkit-gradient(linear, 50% 0%, 50% 100%, from(#eee), color-stop(0.25, #bbb), color-stop(0.3, #eee), color-stop(0.5, #eee), to(#bbb))",height:"6px","border-radius":"3px",cursor:"move"}.css(b.handleCSS.bind("mousedown, touchstart",function(a){e=!0;o||(o=a.pageX);l||(l=a.pageY);return!1})));f(document.bind("mousemove, touchmove",function(a){var b;if(e)return b=a.pageX-o,a=a.pageY-l,c.transform({translate:[b,a]},0).trigger("drag",{dragObject:c}),!1})).bind("mouseup, touchend",
function(){var a;if(e)return e=!1,a=d.position()[0],f(document.elementFromPoint(a.left,a.top-1).trigger("drop",{dropObject:c}))});return c.addClass("draggable").css({position:"relative","padding-top":c.css("padding-top").map(Number.AtLeast(parseInt(b.handleCSS.height,10))).px().first()}.append(d))};a=function(a,b){var c,d,e,o,b=Object.Extend({change:Function.Empty,backgroundColor:"#fff",barColor:"rgba(0,128,0,0.5)",textColor:"white",reset:!1},b);c=f(a).addClass("progress-bar");o=0;b.reset&&(d=c.css("background").first(),
e=c.css("color").first());return c.zap("updateProgress",function(a){for(;1<a;)a/=100;o=a;1===a&&b.reset?c.css("background",d).css("color",e):c.css({background:"-webkit-gradient(linear, 0 0, "+parseInt(100*a)+"% 0, color-stop(0, "+b.barColor+"), color-stop(0.98, "+b.barColor+"), color-stop(1.0, "+b.backgroundColor+"))",color:b.textColor});if(Object.IsFunc(b.change))return b.change(o)})};j=function(a,b){var c,d,b=Object.Extend({exclusive:!1,sticky:!1},b);d=f(a).addClass("accordion");c=function(a){var c,
g,h,a=f(a).children().first().filter("*");if(2!==a.len())throw Exception("accordion row requires 2 elements, not "+a.len());h=a.eq(0).addClass("title");c=a.eq(1).addClass("body").hide();g=!1;return h.click(function(){b.exclusive&&d.find(".body").hide();if(g){if(b.sticky)return c.show().addClass("visible"),h.addClass("selected").trigger("select"),g=!0;c.hide().removeClass("visible");h.removeClass("selected").trigger("deselect");return g=!1}c.show().addClass("visible");h.addClass("selected").trigger("select");
return g=!0})};d.bind("DOMNodeInserted",function(a){var b;b=d.children().first().filter("*");a=f(a.target).parents().first();return c(a.intersect(b))});d.children().first().filter("*").map(c);return d};c=function(a){var b,c,d;c=f(a).css({position:"relative",top:"0px",left:"0px"}.hide().map(f));b=0;c[b].show();c.next=function(){c[b].hide();b=++b%nn;return c[b].show()};c.activate=function(a){c[b].hide();b=a;return c[a].show()};a=0;for(d=c.len();0<=d?a<d:a>d;0<=d?a++:a--)c[a].zap("_viewIndex",a.zap("activate",
function(){return c.activate(this._viewIndex)}));return c};b=function(a,b){var c,d,e;e=f(a);b=f(b).viewStack();d=e.len();for(c=0;0<=d?c<=d:c>=d;0<=d?c++:c--)e._tabIndex=c;f(e[0]).addClass("active");return e.click(function(){e.removeClass("active");b.activate(this._tabIndex);return f(this).addClass("active")})};return{name:"UI",$:{UI:{Draggable:d,ProgressBar:a,ViewStack:c,Tabs:b,Accordion:j}},dialog:function(a){return e(this,a)},progressBar:function(b){return a(this,b)},viewStack:function(a){return c(this,
a)},tabs:function(a){return b(this,a)},accordion:function(a){return j(this,a)},draggable:function(a){return d(this,a)}}})})(Bling);
(function(f){return f.plugin(function(){var j,e,d,a,b,c,g,i,h,n,r,o,l,m,k,s;r=/!==|!=|!|\#|\%|\%=|\&|\&\&|\&\&=|&=|\*|\*=|\+|\+=|-|-=|->|\.{1,3}|\/|\/=|:|::|;|<<=|<<|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\?|@|\[|\]|}|{|\^|\^=|\^\^|\^\^=|\|=|\|\|=|\|\||\||~/g;h=/\b[Ff]unction\b|\bvar\b|\.prototype\b|\.__proto__\b|\bString\b|\bArray\b|\bNumber\b|\bObject\b|\bbreak\b|\bcase\b|\bcontinue\b|\bdelete\b|\bdo\b|\bif\b|\belse\b|\bfinally\b|\binstanceof\b|\breturn\b|\bthrow\b|\btry\b|\btypeof\b|\btrue\b|\bfalse\b/g;j=
/\d+\.*\d*/g;e=/\$(\(|\.)/g;s=/\t/g;l=/\/\/.*?(?:\n|$)/;n=/\/\*(?:.|\n)*?\*\//;a=function(a){return a?"<span class='com'>"+a+"</span>":""};o=function(a){return a?"<span class='str'>"+a+"</span>":""};c=function(a,b){var c,g;c=a.indexOf('"',b);g=a.indexOf("'",b);-1===c&&(c=a.length);-1===g&&(g=a.length);return c===g?[null,-1]:c<g?['"',c]:["'",g]};d=function(a,b,c){for(b=a.indexOf(c,b);"\\"===a.charAt(b-1)&&0<b&&b<a.length;)b=a.indexOf(c,b+1);return b};k=function(a){var b,g,i,h,e;b=0;i=a.length;e=[];
if(!Object.IsString(a))if(Object.IsFunction(a.toString))a=a.toString(),i=a.length;else throw TypeError("invalid string argument to split_quoted");for(;b<i;){h=c(a,b);g=h[1];if(-1===g){e.push(a.substring(b));break}e.push(a.substring(b,g));b=d(a,g+1,h[0]);if(-1===b)throw Error("unclosed quote: "+h[0]+" starting at "+g);e.push(a.substring(g,b+1));b+=1}return e};b=function(a){var b;b=a.match(l);a=a.match(n);return b===a?[-1,null]:null===b&&null!==a?[a.index,a[0]]:null!==b&&null===a?[b.index,b[0]]:a.index<
b.index?[a.index,a[0]]:[b.index,b[0]]};m=function(a){var c,g,d,i,h,e;h=[];c=0;for(d=a.length;c<d;)if(e=a.substring(c),i=b(e),g=i[0],-1<g)h.push(e.substring(0,g)),h.push(i[1]),c+=g+i[1].length;else{h.push(e);break}return h};g=function(a,b){return a.replace(r,"<span class='opr'>$&</span>").replace(j,"<span class='num'>$&</span>").replace(h,"<span class='kwd'>$&</span>").replace(e,"<span class='bln'>$$</span>$1").replace(s,"&nbsp;&nbsp;")+o(b)};i=function(b,c){return f(k(b)).fold(g).join("")+a(c)};return{name:"PrettyPrint",
$:{prettyPrint:function(a,b){var c,g;Object.IsFunction(a)&&(a=a.toString());if(!Object.IsString(a))throw TypeError("prettyPrint requires a function or string to format, not '"+Object.Type(a)+"'");if(0===f("style#prettyPrint").length){g="code.pp .bln { font-size: 17px; } ";b=Object.Extend({opr:"#880",str:"#008",com:"#080",kwd:"#088",num:"#808",bln:"#800"},b);for(c in b)g+="code.pp ."+c+" { color: "+b[c]+"; } ";f.synth("style#prettyPrint").text(g).appendTo("head")}return"<code class='pp'>"+f(m(a)).fold(i).join("")+
"</code>"}}}})})(Bling);
(function(){var f=Object.prototype.hasOwnProperty,j=function(e,d){function a(){this.constructor=e}for(var b in d)f.call(d,b)&&(e[b]=d[b]);a.prototype=d.prototype;e.prototype=new a;e.__super__=d.prototype;return e};(function(e){e.plugin(function(){return{name:"StateMachine",$:{StateMachine:function(){function d(a){this.reset();this.table=a;Object.defineProperty(this,"modeline",{get:this.table[this._mode]});Object.defineProperty(this,"mode",{set:function(a){var c;this._lastMode=this._mode;this._mode=
a;if(this._mode!==this._lastMode&&null!=this.modeline&&"enter"in this.modeline)for(c=this.modeline.enter.call(this);Object.IsFunction(c);)c=c.call(this);return a},get:function(){return this._mode}})}d.prototype.reset=function(){return this._lastMode=this._mode=null};d.prototype.GO=function(a){return function(){return this.mode=a}};d.GO=function(a){return function(){return this.mode=a}};d.prototype.run=function(a){var b,c,g,d,h,e;d=this.mode=0;for(h=a.length;d<h;d++){b=a[d];g=this.modeline;null==g?
c=null:b in g?c=g[b]:"def"in g&&(c=g.def);for(;Object.IsFunction(c);)c=c.call(this,b)}if(Object.IsFunction(null!=(e=this.modeline)?e.eof:void 0))c=this.modeline.eof.call(this);for(;Object.IsFunction(c);)c=c.call(this);this.reset();return this};return d}()}}});return e.plugin(function(){var d;d=function(){function a(){a.__super__.constructor.call(this,a.STATE_TABLE);this.fragment=this.parent=document.createDocumentFragment()}j(a,e.StateMachine);a.STATE_TABLE=[{enter:function(){this.tag=this.id=this.cls=
this.attr=this.val=this.text="";this.attrs={};return this.GO(1)}},{'"':a.GO(6),"'":a.GO(7),"#":a.GO(2),".":a.GO(3),"[":a.GO(4)," ":a.GO(9),"+":a.GO(11),",":a.GO(10),def:function(a){return this.tag+=a},eof:a.GO(13)},{".":a.GO(3),"[":a.GO(4)," ":a.GO(9),"+":a.GO(11),",":a.GO(10),def:function(a){return this.id+=a},eof:a.GO(13)},{enter:function(){if(0<this.cls.length)return this.cls+=" "},"#":a.GO(2),".":a.GO(3),"[":a.GO(4)," ":a.GO(9),"+":a.GO(11),",":a.GO(10),def:function(a){return this.cls+=a},eof:a.GO(13)},
{"=":a.GO(5),"]":function(){this.attrs[this.attr]=this.val;return this.GO(1)},def:function(a){return this.attr+=a},eof:a.GO(12)},{"]":function(){this.attrs[this.attr]=this.val;return this.GO(1)},def:function(a){return this.val+=a},eof:a.GO(12)},{'"':a.GO(8),def:function(a){return this.text+=a},eof:a.GO(12)},{"'":a.GO(8),def:function(a){return this.text+=a},eof:a.GO(12)},{enter:function(){this.emitText();return this.GO(0)}},{enter:function(){this.emitNode();return this.GO(0)}},{enter:function(){this.emitNode();
this.parent=null;return this.GO(0)}},{enter:function(){var a;this.emitNode();this.parent=null!=(a=this.parent)?a.parentNode:void 0;return this.GO(0)}},{enter:function(){return e.log("Error in synth expression: "+this.input)}},{enter:function(){this.tag.length&&this.emitNode();if(this.text.length)return this.emitText()}}];a.prototype.emitNode=function(){var a,c;c=document.createElement(this.tag);c.id=this.id||null;c.className=this.cls||null;for(a in this.attrs)c.setAttribute(a,this.attrs[a]);this.parent.appendChild(c);
return this.parent=c};a.prototype.emitText=function(){this.parent.appendChild(e.HTML.parse(this.text));return this.text=""};return a}();return{name:"Synth",$:{synth:function(a){var b;b=new d;b.run(a);return 1===b.fragment.childNodes.length?e(b.fragment.childNodes[0]):e(b.fragment)}}}})})(Bling)}).call(this);
(function(){var f=Object.prototype.hasOwnProperty,j=function(e,d){function a(){this.constructor=e}for(var b in d)f.call(d,b)&&(e[b]=d[b]);a.prototype=d.prototype;e.prototype=new a;e.__super__=d.prototype;return e};(function(e){var d,a;d={};e.plugin(function(){var a,c;a=null;d={};c={register_engine:function(c,i){d[c]=i;if(null==a)return a=c},render:function(c,i){if(a in d)return d[a](c,i)}};c.__defineSetter__("engine",function(c){if(!c in d)throw Error("invalid template engine: "+c+" not one of "+
Object.Keys(d));return a=c});c.__defineGetter__("engine",function(){return a});return{name:"Template",$:{template:c}}});e.template.register_engine("null",function(){return function(a){return a}}());a=function(a,c,g,d,h){var e,f,o;null==h&&(h=-1);e=1;0>h&&(h=a.length+1+h);for(f=d;d<=h?f<h:f>h;d<=h?f++:f--)if(o=a[f],o===g?e+=1:o===c&&(e-=1),0===e)return f;return-1};e.template.register_engine("pythonic",function(){var b,c,g;g=/([0-9#0+-]*)\.*([0-9#+-]*)([diouxXeEfFgGcrsqm])((?:.|\n)*)/;b=/%[\(\/]/;c=
function(c){var d,e,f,o,l,m,k,c=c.split(b);l=c.length;k=[c[0]];for(e=f=1;1<=l?e<l:e>l;1<=l?e++:e--){d=a(c[e],")","(",0,-1);if(-1===d)return"Template syntax error: unmatched '%(' starting at: "+c[e].substring(0,15);o=c[e].substring(0,d);m=c[e].substring(d);d=g.exec(m);if(null===d)return"Template syntax error: invalid type specifier starting at '"+m+"'";m=d[4];k[f++]=o;k[f++]=d[1]|0;k[f++]=d[2]|0;k[f++]=d[3];k[f++]=m}return k};c.cache={};return function(a,b){var g,d,e,f,m,k,j,p,t,q,u;g=c.cache[a];null==
g&&(g=c.cache[a]=c(a));k=[g[0]];f=1;d=g.length;e=1;for(u=d-5;e<=u;e+=5){p=g.slice(e,e+4+1||9E9);m=p[0];j=p[1];d=p[2];t=p[3];p=p[4];q=b[m];null==q&&(q="missing value: "+m);switch(t){case "d":k[f++]=""+parseInt(q,10);break;case "f":k[f++]=parseFloat(q).toFixed(d);break;case "s":k[f++]=""+q;break;default:k[f++]=""+q}0<j&&(k[f]=String.PadLeft(k[f],j));k[f++]=p}return k.join("")}}());return e.template.register_engine("js-eval",function(){(function(){function a(){a.__super__.constructor.apply(this,arguments)}
j(a,e.StateMachine);a.STATE_TABLE=[{enter:function(){this.data=[];return this.GO(1)}},{}];return a})();return function(a){return a}}())})(Bling)}).call(this);
(function(f){return f.plugin(function(){var j,e,d;d=function(a){var b,c,g,d;b=a.indexOf(":");if(0<b)return g=parseInt(a.slice(0,b),10),c=a.slice(b+1,b+1+g),d=a[b+1+g],a=a.slice(b+g+2),c=function(){switch(d){case "#":return Number(c);case "'":return""+c;case "!":return"true"===c;case "~":return null;case "]":return j(c);case "}":return e(c)}}(),[c,a]};j=function(a){var b,c;for(b=[];0<a.length;)a=d(a),c=a[0],a=a[1],b.push(c);return b};e=function(a){var b,c,g;for(b={};0<a.length;)g=d(a),c=g[0],a=g[1],
a=d(a),g=a[0],a=a[1],b[c]=g;return b};return{name:"TNET",$:{TNET:{stringify:function(a){var b,c,g;g=function(){switch(Object.Type(a)){case "number":return[""+a,"#"];case "string":return[a,"'"];case "function":return[""+a,"'"];case "boolean":return[""+!!a,"!"];case "null":return["","~"];case "undefined":return["","~"];case "array":return[function(){var b,g,d;d=[];b=0;for(g=a.length;b<g;b++)c=a[b],d.push(f.TNET.stringify(c));return d}().join(""),"]"];case "object":return[function(){var b;b=[];for(c in a)b.push(f.TNET.stringify(c)+
f.TNET.stringify(a[c]));return b}().join(""),"}"]}}();b=g[0];return(b.length|0)+":"+b+g[1]},parse:function(a){var b;return null!=(b=d(a))?b[0]:void 0}}}}})})(Bling);
(function(f){return f.plugin(function(){var j,e,d,a,b,c;e=function(a,b){var c,b=Object.Extend({autoOpen:!1,draggable:!0},b);c=f(a).addClass("dialog");b.draggable&&c.draggable();b.autoOpen&&c.show().center();c.find("button.close, .close-button").bind("click touchstart",function(){c.hide();return!1});return c};d=function(a,b){var c,d,e,o,l,b=Object.Extend({handleCSS:{}},b);b.handleCSS=Object.Extend({position:"absolute",top:"0px",left:"0px",width:"100%",height:"6px"},b.handleCSS);c=f(a);e=!1;o=l=0;d=
f.synth("div.handle").defaultCss({background:"-webkit-gradient(linear, 50% 0%, 50% 100%, from(#eee), color-stop(0.25, #bbb), color-stop(0.3, #eee), color-stop(0.5, #eee), to(#bbb))",height:"6px","border-radius":"3px",cursor:"move"}.css(b.handleCSS.bind("mousedown, touchstart",function(a){e=!0;o||(o=a.pageX);l||(l=a.pageY);return!1})));f(document.bind("mousemove, touchmove",function(a){var b;if(e)return b=a.pageX-o,a=a.pageY-l,c.transform({translate:[b,a]},0).trigger("drag",{dragObject:c}),!1})).bind("mouseup, touchend",
function(){var a;if(e)return e=!1,a=d.position()[0],f(document.elementFromPoint(a.left,a.top-1).trigger("drop",{dropObject:c}))});return c.addClass("draggable").css({position:"relative","padding-top":c.css("padding-top").map(Number.AtLeast(parseInt(b.handleCSS.height,10))).px().first()}.append(d))};a=function(a,b){var c,d,e,o,b=Object.Extend({change:Function.Empty,backgroundColor:"#fff",barColor:"rgba(0,128,0,0.5)",textColor:"white",reset:!1},b);c=f(a).addClass("progress-bar");o=0;b.reset&&(d=c.css("background").first(),
e=c.css("color").first());return c.zap("updateProgress",function(a){for(;1<a;)a/=100;o=a;1===a&&b.reset?c.css("background",d).css("color",e):c.css({background:"-webkit-gradient(linear, 0 0, "+parseInt(100*a)+"% 0, color-stop(0, "+b.barColor+"), color-stop(0.98, "+b.barColor+"), color-stop(1.0, "+b.backgroundColor+"))",color:b.textColor});if(Object.IsFunc(b.change))return b.change(o)})};j=function(a,b){var c,d,b=Object.Extend({exclusive:!1,sticky:!1},b);d=f(a).addClass("accordion");c=function(a){var c,
g,h,a=f(a).children().first().filter("*");if(2!==a.len())throw Exception("accordion row requires 2 elements, not "+a.len());h=a.eq(0).addClass("title");c=a.eq(1).addClass("body").hide();g=!1;return h.click(function(){b.exclusive&&d.find(".body").hide();if(g){if(b.sticky)return c.show().addClass("visible"),h.addClass("selected").trigger("select"),g=!0;c.hide().removeClass("visible");h.removeClass("selected").trigger("deselect");return g=!1}c.show().addClass("visible");h.addClass("selected").trigger("select");
return g=!0})};d.bind("DOMNodeInserted",function(a){var b;b=d.children().first().filter("*");a=f(a.target).parents().first();return c(a.intersect(b))});d.children().first().filter("*").map(c);return d};c=function(a){var b,c,d;c=f(a).css({position:"relative",top:"0px",left:"0px"}.hide().map(f));b=0;c[b].show();c.next=function(){c[b].hide();b=++b%nn;return c[b].show()};c.activate=function(a){c[b].hide();b=a;return c[a].show()};a=0;for(d=c.len();0<=d?a<d:a>d;0<=d?a++:a--)c[a].zap("_viewIndex",a.zap("activate",
function(){return c.activate(this._viewIndex)}));return c};b=function(a,b){var c,d,e;e=f(a);b=f(b).viewStack();d=e.len();for(c=0;0<=d?c<=d:c>=d;0<=d?c++:c--)e._tabIndex=c;f(e[0]).addClass("active");return e.click(function(){e.removeClass("active");b.activate(this._tabIndex);return f(this).addClass("active")})};return{name:"UI",$:{UI:{Draggable:d,ProgressBar:a,ViewStack:c,Tabs:b,Accordion:j}},dialog:function(a){return e(this,a)},progressBar:function(b){return a(this,b)},viewStack:function(a){return c(this,
a)},tabs:function(a){return b(this,a)},accordion:function(a){return j(this,a)},draggable:function(a){return d(this,a)}}})})(Bling);
(function(f){return f.plugin(function(){var f,e,d;e={};d=function(a,b){return e[a]=b};f=function(a){return e[a.TYPE]};Object.Type.extend("unknown",{compact:function(a){return Object.String(a)}});Object.Type.extend("string",{compact:function(a){return a}});Object.Type.extend("number",{compact:function(a){return Object.String(a)}});Object.Type.extend("array",{compact:function(a){var b,c,d,e;e=[];c=0;for(d=a.length;c<d;c++)b=a[c],e.push(Object.Compact(b));return e.join("")}});Object.Type.extend("bling",
{compact:function(a){return a.map(Object.Compact).join("")}});Object.Type.extend("undefined",{compact:function(){return""}});Object.Type.extend("null",{compact:function(){return""}});Object.Type.extend("object",{compact:function(a){var b;return Object.Compact(null!=(b=f(a))?b.prune.call(a,a):void 0)}});Object.Compact=function(a){var b;return null!=(b=Object.Type.lookup(a))?b.compact(a):void 0};Object.Extend(Object.Compact,{register:d,lookup:f});d("page",{prune:function(a){return["<!DOCTYPE html><html><head>",
a.HEAD,"</head><body>",a.BODY,"</body></html>"]}});d("text",{prune:function(a){return a.EN}});d("link",{prune:function(a){var b,c,d,e,h;b=["<a"];h=["href","name","target"];d=0;for(e=h.length;d<e;d++)c=h[d],c in a&&Array.Extend(b,[" ",c,"='",a[c],"'"]);Array.Extend(b,[">",a.CONTENT,"</a>"]);return b}});"<!DOCTYPE html><html><head></head><body>Hello World</body></html>"===Object.Compact({TYPE:"page",HEAD:[],BODY:{TYPE:"text",EN:"Hello World"}});return{name:"Compact"}})})(Bling);
(function(f){return f.plugin(function(){var j,e,d,a,b,c,g,i,h,n,r,o,l,m,k,s;r=/!==|!=|!|\#|\%|\%=|\&|\&\&|\&\&=|&=|\*|\*=|\+|\+=|-|-=|->|\.{1,3}|\/|\/=|:|::|;|<<=|<<|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\?|@|\[|\]|}|{|\^|\^=|\^\^|\^\^=|\|=|\|\|=|\|\||\||~/g;h=/\b[Ff]unction\b|\bvar\b|\.prototype\b|\.__proto__\b|\bString\b|\bArray\b|\bNumber\b|\bObject\b|\bbreak\b|\bcase\b|\bcontinue\b|\bdelete\b|\bdo\b|\bif\b|\belse\b|\bfinally\b|\binstanceof\b|\breturn\b|\bthrow\b|\btry\b|\btypeof\b|\btrue\b|\bfalse\b/g;
j=/\d+\.*\d*/g;e=/\$(\(|\.)/g;s=/\t/g;l=/\/\/.*?(?:\n|$)/;n=/\/\*(?:.|\n)*?\*\//;a=function(a){return a?"<span class='com'>"+a+"</span>":""};o=function(a){return a?"<span class='str'>"+a+"</span>":""};c=function(a,b){var c,d;c=a.indexOf('"',b);d=a.indexOf("'",b);-1===c&&(c=a.length);-1===d&&(d=a.length);return c===d?[null,-1]:c<d?['"',c]:["'",d]};d=function(a,b,c){for(b=a.indexOf(c,b);"\\"===a.charAt(b-1)&&0<b&&b<a.length;)b=a.indexOf(c,b+1);return b};k=function(a){var b,g,e,h,i;b=0;e=a.length;i=
[];if(!Object.IsString(a))if(Object.IsFunction(a.toString))a=a.toString(),e=a.length;else throw TypeError("invalid string argument to split_quoted");for(;b<e;){h=c(a,b);g=h[1];if(-1===g){i.push(a.substring(b));break}i.push(a.substring(b,g));b=d(a,g+1,h[0]);if(-1===b)throw Error("unclosed quote: "+h[0]+" starting at "+g);i.push(a.substring(g,b+1));b+=1}return i};b=function(a){var b;b=a.match(l);a=a.match(n);return b===a?[-1,null]:null===b&&null!==a?[a.index,a[0]]:null!==b&&null===a?[b.index,b[0]]:
a.index<b.index?[a.index,a[0]]:[b.index,b[0]]};m=function(a){var c,d,g,e,h,i;h=[];c=0;for(g=a.length;c<g;)if(i=a.substring(c),e=b(i),d=e[0],-1<d)h.push(i.substring(0,d)),h.push(e[1]),c+=d+e[1].length;else{h.push(i);break}return h};g=function(a,b){return a.replace(r,"<span class='opr'>$&</span>").replace(j,"<span class='num'>$&</span>").replace(h,"<span class='kwd'>$&</span>").replace(e,"<span class='bln'>$$</span>$1").replace(s,"&nbsp;&nbsp;")+o(b)};i=function(b,c){return f(k(b)).fold(g).join("")+
a(c)};return{name:"PrettyPrint",$:{prettyPrint:function(a,b){var c,d;Object.IsFunction(a)&&(a=a.toString());if(!Object.IsString(a))throw TypeError("prettyPrint requires a function or string to format, not '"+Object.Type(a)+"'");if(0===f("style#prettyPrint").length){d="code.pp .bln { font-size: 17px; } ";b=Object.Extend({opr:"#880",str:"#008",com:"#080",kwd:"#088",num:"#808",bln:"#800"},b);for(c in b)d+="code.pp ."+c+" { color: "+b[c]+"; } ";f.synth("style#prettyPrint").text(d).appendTo("head")}return"<code class='pp'>"+
f(m(a)).fold(i).join("")+"</code>"}}}})})(Bling);
(function(){var f=Object.prototype.hasOwnProperty,j=function(e,d){function a(){this.constructor=e}for(var b in d)f.call(d,b)&&(e[b]=d[b]);a.prototype=d.prototype;e.prototype=new a;e.__super__=d.prototype;return e};(function(e){e.plugin(function(){return{name:"StateMachine",$:{StateMachine:function(){function d(a){this.reset();this.table=a;Object.defineProperty(this,"modeline",{get:this.table[this._mode]});Object.defineProperty(this,"mode",{set:function(a){var c;this._lastMode=this._mode;this._mode=
a;if(this._mode!==this._lastMode&&null!=this.modeline&&"enter"in this.modeline)for(c=this.modeline.enter.call(this);Object.IsFunction(c);)c=c.call(this);return a},get:function(){return this._mode}})}d.prototype.reset=function(){return this._lastMode=this._mode=null};d.prototype.GO=function(a){return function(){return this.mode=a}};d.GO=function(a){return function(){return this.mode=a}};d.prototype.run=function(a){var b,c,d,e,h,f;e=this.mode=0;for(h=a.length;e<h;e++){b=a[e];d=this.modeline;null==d?
c=null:b in d?c=d[b]:"def"in d&&(c=d.def);for(;Object.IsFunction(c);)c=c.call(this,b)}if(Object.IsFunction(null!=(f=this.modeline)?f.eof:void 0))c=this.modeline.eof.call(this);for(;Object.IsFunction(c);)c=c.call(this);this.reset();return this};return d}()}}});return e.plugin(function(){var d;d=function(){function a(){a.__super__.constructor.call(this,a.STATE_TABLE);this.fragment=this.parent=document.createDocumentFragment()}j(a,e.StateMachine);a.STATE_TABLE=[{enter:function(){this.tag=this.id=this.cls=
this.attr=this.val=this.text="";this.attrs={};return this.GO(1)}},{'"':a.GO(6),"'":a.GO(7),"#":a.GO(2),".":a.GO(3),"[":a.GO(4)," ":a.GO(9),"+":a.GO(11),",":a.GO(10),def:function(a){return this.tag+=a},eof:a.GO(13)},{".":a.GO(3),"[":a.GO(4)," ":a.GO(9),"+":a.GO(11),",":a.GO(10),def:function(a){return this.id+=a},eof:a.GO(13)},{enter:function(){if(0<this.cls.length)return this.cls+=" "},"#":a.GO(2),".":a.GO(3),"[":a.GO(4)," ":a.GO(9),"+":a.GO(11),",":a.GO(10),def:function(a){return this.cls+=a},eof:a.GO(13)},
{"=":a.GO(5),"]":function(){this.attrs[this.attr]=this.val;return this.GO(1)},def:function(a){return this.attr+=a},eof:a.GO(12)},{"]":function(){this.attrs[this.attr]=this.val;return this.GO(1)},def:function(a){return this.val+=a},eof:a.GO(12)},{'"':a.GO(8),def:function(a){return this.text+=a},eof:a.GO(12)},{"'":a.GO(8),def:function(a){return this.text+=a},eof:a.GO(12)},{enter:function(){this.emitText();return this.GO(0)}},{enter:function(){this.emitNode();return this.GO(0)}},{enter:function(){this.emitNode();
this.parent=null;return this.GO(0)}},{enter:function(){var a;this.emitNode();this.parent=null!=(a=this.parent)?a.parentNode:void 0;return this.GO(0)}},{enter:function(){return e.log("Error in synth expression: "+this.input)}},{enter:function(){this.tag.length&&this.emitNode();if(this.text.length)return this.emitText()}}];a.prototype.emitNode=function(){var a,c;c=document.createElement(this.tag);c.id=this.id||null;c.className=this.cls||null;for(a in this.attrs)c.setAttribute(a,this.attrs[a]);this.parent.appendChild(c);
return this.parent=c};a.prototype.emitText=function(){this.parent.appendChild(e.HTML.parse(this.text));return this.text=""};return a}();return{name:"Synth",$:{synth:function(a){var b;b=new d;b.run(a);return 1===b.fragment.childNodes.length?e(b.fragment.childNodes[0]):e(b.fragment)}}}})})(Bling)}).call(this);
(function(){var f=Object.prototype.hasOwnProperty,j=function(e,d){function a(){this.constructor=e}for(var b in d)f.call(d,b)&&(e[b]=d[b]);a.prototype=d.prototype;e.prototype=new a;e.__super__=d.prototype;return e};(function(e){var d,a;d={};e.plugin(function(){var a,c;a=null;d={};c={register_engine:function(c,e){d[c]=e;if(null==a)return a=c},render:function(c,e){if(a in d)return d[a](c,e)}};c.__defineSetter__("engine",function(c){if(!c in d)throw Error("invalid template engine: "+c+" not one of "+
Object.Keys(d));return a=c});c.__defineGetter__("engine",function(){return a});return{name:"Template",$:{template:c}}});e.template.register_engine("null",function(){return function(a){return a}}());a=function(a,c,d,e,h){var f,r,o;null==h&&(h=-1);f=1;0>h&&(h=a.length+1+h);for(r=e;e<=h?r<h:r>h;e<=h?r++:r--)if(o=a[r],o===d?f+=1:o===c&&(f-=1),0===f)return r;return-1};e.template.register_engine("pythonic",function(){var b,c,d;d=/([0-9#0+-]*)\.*([0-9#+-]*)([diouxXeEfFgGcrsqm])((?:.|\n)*)/;b=/%[\(\/]/;c=
function(c){var e,f,r,o,l,m,k,c=c.split(b);l=c.length;k=[c[0]];for(f=r=1;1<=l?f<l:f>l;1<=l?f++:f--){e=a(c[f],")","(",0,-1);if(-1===e)return"Template syntax error: unmatched '%(' starting at: "+c[f].substring(0,15);o=c[f].substring(0,e);m=c[f].substring(e);e=d.exec(m);if(null===e)return"Template syntax error: invalid type specifier starting at '"+m+"'";m=e[4];k[r++]=o;k[r++]=e[1]|0;k[r++]=e[2]|0;k[r++]=e[3];k[r++]=m}return k};c.cache={};return function(a,b){var d,g,e,f,m,k,j,p,t,q,u;d=c.cache[a];null==
d&&(d=c.cache[a]=c(a));k=[d[0]];f=1;g=d.length;e=1;for(u=g-5;e<=u;e+=5){p=d.slice(e,e+4+1||9E9);m=p[0];j=p[1];g=p[2];t=p[3];p=p[4];q=b[m];null==q&&(q="missing value: "+m);switch(t){case "d":k[f++]=""+parseInt(q,10);break;case "f":k[f++]=parseFloat(q).toFixed(g);break;case "s":k[f++]=""+q;break;default:k[f++]=""+q}0<j&&(k[f]=String.PadLeft(k[f],j));k[f++]=p}return k.join("")}}());return e.template.register_engine("js-eval",function(){(function(){function a(){a.__super__.constructor.apply(this,arguments)}
j(a,e.StateMachine);a.STATE_TABLE=[{enter:function(){this.data=[];return this.GO(1)}},{}];return a})();return function(a){return a}}())})(Bling)}).call(this);
(function(f){return f.plugin(function(){var j,e,d;d=function(a){var b,c,d,f;b=a.indexOf(":");if(0<b)return d=parseInt(a.slice(0,b),10),c=a.slice(b+1,b+1+d),f=a[b+1+d],a=a.slice(b+d+2),c=function(){switch(f){case "#":return Number(c);case "'":return""+c;case "!":return"true"===c;case "~":return null;case "]":return j(c);case "}":return e(c)}}(),[c,a]};j=function(a){var b,c;for(b=[];0<a.length;)a=d(a),c=a[0],a=a[1],b.push(c);return b};e=function(a){var b,c,g;for(b={};0<a.length;)g=d(a),c=g[0],a=g[1],
a=d(a),g=a[0],a=a[1],b[c]=g;return b};return{name:"TNET",$:{TNET:{stringify:function(a){var b,c,d;d=function(){switch(Object.Type(a)){case "number":return[""+a,"#"];case "string":return[a,"'"];case "function":return[""+a,"'"];case "boolean":return[""+!!a,"!"];case "null":return["","~"];case "undefined":return["","~"];case "array":return[function(){var b,d,e;e=[];b=0;for(d=a.length;b<d;b++)c=a[b],e.push(f.TNET.stringify(c));return e}().join(""),"]"];case "object":return[function(){var b;b=[];for(c in a)b.push(f.TNET.stringify(c)+
f.TNET.stringify(a[c]));return b}().join(""),"}"]}}();b=d[0];return(b.length|0)+":"+b+d[1]},parse:function(a){var b;return null!=(b=d(a))?b[0]:void 0}}}}})})(Bling);
(function(f){return f.plugin(function(){var j,e,d,a,b,c;e=function(a,b){var c,b=Object.Extend({autoOpen:!1,draggable:!0},b);c=f(a).addClass("dialog");b.draggable&&c.draggable();b.autoOpen&&c.show().center();c.find("button.close, .close-button").bind("click touchstart",function(){c.hide();return!1});return c};d=function(a,b){var c,d,e,j,l,b=Object.Extend({handleCSS:{}},b);b.handleCSS=Object.Extend({position:"absolute",top:"0px",left:"0px",width:"100%",height:"6px"},b.handleCSS);c=f(a);e=!1;j=l=0;d=
f.synth("div.handle").defaultCss({background:"-webkit-gradient(linear, 50% 0%, 50% 100%, from(#eee), color-stop(0.25, #bbb), color-stop(0.3, #eee), color-stop(0.5, #eee), to(#bbb))",height:"6px","border-radius":"3px",cursor:"move"}.css(b.handleCSS.bind("mousedown, touchstart",function(a){e=!0;j||(j=a.pageX);l||(l=a.pageY);return!1})));f(document.bind("mousemove, touchmove",function(a){var b;if(e)return b=a.pageX-j,a=a.pageY-l,c.transform({translate:[b,a]},0).trigger("drag",{dragObject:c}),!1})).bind("mouseup, touchend",
function(){var a;if(e)return e=!1,a=d.position()[0],f(document.elementFromPoint(a.left,a.top-1).trigger("drop",{dropObject:c}))});return c.addClass("draggable").css({position:"relative","padding-top":c.css("padding-top").map(Number.AtLeast(parseInt(b.handleCSS.height,10))).px().first()}.append(d))};a=function(a,b){var c,d,e,j,b=Object.Extend({change:Function.Empty,backgroundColor:"#fff",barColor:"rgba(0,128,0,0.5)",textColor:"white",reset:!1},b);c=f(a).addClass("progress-bar");j=0;b.reset&&(d=c.css("background").first(),
e=c.css("color").first());return c.zap("updateProgress",function(a){for(;1<a;)a/=100;j=a;1===a&&b.reset?c.css("background",d).css("color",e):c.css({background:"-webkit-gradient(linear, 0 0, "+parseInt(100*a)+"% 0, color-stop(0, "+b.barColor+"), color-stop(0.98, "+b.barColor+"), color-stop(1.0, "+b.backgroundColor+"))",color:b.textColor});if(Object.IsFunc(b.change))return b.change(j)})};j=function(a,b){var c,d,b=Object.Extend({exclusive:!1,sticky:!1},b);d=f(a).addClass("accordion");c=function(a){var c,
e,g,a=f(a).children().first().filter("*");if(2!==a.len())throw Exception("accordion row requires 2 elements, not "+a.len());g=a.eq(0).addClass("title");c=a.eq(1).addClass("body").hide();e=!1;return g.click(function(){b.exclusive&&d.find(".body").hide();if(e){if(b.sticky)return c.show().addClass("visible"),g.addClass("selected").trigger("select"),e=!0;c.hide().removeClass("visible");g.removeClass("selected").trigger("deselect");return e=!1}c.show().addClass("visible");g.addClass("selected").trigger("select");
return e=!0})};d.bind("DOMNodeInserted",function(a){var b;b=d.children().first().filter("*");a=f(a.target).parents().first();return c(a.intersect(b))});d.children().first().filter("*").map(c);return d};c=function(a){var b,c,d;c=f(a).css({position:"relative",top:"0px",left:"0px"}.hide().map(f));b=0;c[b].show();c.next=function(){c[b].hide();b=++b%nn;return c[b].show()};c.activate=function(a){c[b].hide();b=a;return c[a].show()};a=0;for(d=c.len();0<=d?a<d:a>d;0<=d?a++:a--)c[a].zap("_viewIndex",a.zap("activate",
function(){return c.activate(this._viewIndex)}));return c};b=function(a,b){var c,d,e;e=f(a);b=f(b).viewStack();d=e.len();for(c=0;0<=d?c<=d:c>=d;0<=d?c++:c--)e._tabIndex=c;f(e[0]).addClass("active");return e.click(function(){e.removeClass("active");b.activate(this._tabIndex);return f(this).addClass("active")})};return{name:"UI",$:{UI:{Draggable:d,ProgressBar:a,ViewStack:c,Tabs:b,Accordion:j}},dialog:function(a){return e(this,a)},progressBar:function(b){return a(this,b)},viewStack:function(a){return c(this,
a)},tabs:function(a){return b(this,a)},accordion:function(a){return j(this,a)},draggable:function(a){return d(this,a)}}})})(Bling);
(function(f){return f.plugin(function(){var j,e,d,a,b,c,g,i,h,n,r,o,l,m,k,s;r=/!==|!=|!|\#|\%|\%=|\&|\&\&|\&\&=|&=|\*|\*=|\+|\+=|-|-=|->|\.{1,3}|\/|\/=|:|::|;|<<=|<<|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\?|@|\[|\]|}|{|\^|\^=|\^\^|\^\^=|\|=|\|\|=|\|\||\||~/g;h=/\b[Ff]unction\b|\bvar\b|\.prototype\b|\.__proto__\b|\bString\b|\bArray\b|\bNumber\b|\bObject\b|\bbreak\b|\bcase\b|\bcontinue\b|\bdelete\b|\bdo\b|\bif\b|\belse\b|\bfinally\b|\binstanceof\b|\breturn\b|\bthrow\b|\btry\b|\btypeof\b|\btrue\b|\bfalse\b/g;j=
/\d+\.*\d*/g;e=/\$(\(|\.)/g;s=/\t/g;l=/\/\/.*?(?:\n|$)/;n=/\/\*(?:.|\n)*?\*\//;a=function(a){return a?"<span class='com'>"+a+"</span>":""};o=function(a){return a?"<span class='str'>"+a+"</span>":""};c=function(a,b){var c,d;c=a.indexOf('"',b);d=a.indexOf("'",b);-1===c&&(c=a.length);-1===d&&(d=a.length);return c===d?[null,-1]:c<d?['"',c]:["'",d]};d=function(a,b,c){for(b=a.indexOf(c,b);"\\"===a.charAt(b-1)&&0<b&&b<a.length;)b=a.indexOf(c,b+1);return b};k=function(a){var b,e,g,f,h;b=0;g=a.length;h=[];
if(!Object.IsString(a))if(Object.IsFunction(a.toString))a=a.toString(),g=a.length;else throw TypeError("invalid string argument to split_quoted");for(;b<g;){f=c(a,b);e=f[1];if(-1===e){h.push(a.substring(b));break}h.push(a.substring(b,e));b=d(a,e+1,f[0]);if(-1===b)throw Error("unclosed quote: "+f[0]+" starting at "+e);h.push(a.substring(e,b+1));b+=1}return h};b=function(a){var b;b=a.match(l);a=a.match(n);return b===a?[-1,null]:null===b&&null!==a?[a.index,a[0]]:null!==b&&null===a?[b.index,b[0]]:a.index<
b.index?[a.index,a[0]]:[b.index,b[0]]};m=function(a){var c,d,e,g,f,h;f=[];c=0;for(e=a.length;c<e;)if(h=a.substring(c),g=b(h),d=g[0],-1<d)f.push(h.substring(0,d)),f.push(g[1]),c+=d+g[1].length;else{f.push(h);break}return f};g=function(a,b){return a.replace(r,"<span class='opr'>$&</span>").replace(j,"<span class='num'>$&</span>").replace(h,"<span class='kwd'>$&</span>").replace(e,"<span class='bln'>$$</span>$1").replace(s,"&nbsp;&nbsp;")+o(b)};i=function(b,c){return f(k(b)).fold(g).join("")+a(c)};return{name:"PrettyPrint",
$:{prettyPrint:function(a,b){var c,d;Object.IsFunction(a)&&(a=a.toString());if(!Object.IsString(a))throw TypeError("prettyPrint requires a function or string to format, not '"+Object.Type(a)+"'");if(0===f("style#prettyPrint").length){d="code.pp .bln { font-size: 17px; } ";b=Object.Extend({opr:"#880",str:"#008",com:"#080",kwd:"#088",num:"#808",bln:"#800"},b);for(c in b)d+="code.pp ."+c+" { color: "+b[c]+"; } ";f.synth("style#prettyPrint").text(d).appendTo("head")}return"<code class='pp'>"+f(m(a)).fold(i).join("")+
"</code>"}}}})})(Bling);
(function(){var f=Object.prototype.hasOwnProperty,j=function(e,d){function a(){this.constructor=e}for(var b in d)f.call(d,b)&&(e[b]=d[b]);a.prototype=d.prototype;e.prototype=new a;e.__super__=d.prototype;return e};(function(e){e.plugin(function(){return{name:"StateMachine",$:{StateMachine:function(){function d(a){this.reset();this.table=a;Object.defineProperty(this,"modeline",{get:this.table[this._mode]});Object.defineProperty(this,"mode",{set:function(a){var c;this._lastMode=this._mode;this._mode=
a;if(this._mode!==this._lastMode&&null!=this.modeline&&"enter"in this.modeline)for(c=this.modeline.enter.call(this);Object.IsFunction(c);)c=c.call(this);return a},get:function(){return this._mode}})}d.prototype.reset=function(){return this._lastMode=this._mode=null};d.prototype.GO=function(a){return function(){return this.mode=a}};d.GO=function(a){return function(){return this.mode=a}};d.prototype.run=function(a){var b,c,d,e,f,n;e=this.mode=0;for(f=a.length;e<f;e++){b=a[e];d=this.modeline;null==d?
c=null:b in d?c=d[b]:"def"in d&&(c=d.def);for(;Object.IsFunction(c);)c=c.call(this,b)}if(Object.IsFunction(null!=(n=this.modeline)?n.eof:void 0))c=this.modeline.eof.call(this);for(;Object.IsFunction(c);)c=c.call(this);this.reset();return this};return d}()}}});return e.plugin(function(){var d;d=function(){function a(){a.__super__.constructor.call(this,a.STATE_TABLE);this.fragment=this.parent=document.createDocumentFragment()}j(a,e.StateMachine);a.STATE_TABLE=[{enter:function(){this.tag=this.id=this.cls=
this.attr=this.val=this.text="";this.attrs={};return this.GO(1)}},{'"':a.GO(6),"'":a.GO(7),"#":a.GO(2),".":a.GO(3),"[":a.GO(4)," ":a.GO(9),"+":a.GO(11),",":a.GO(10),def:function(a){return this.tag+=a},eof:a.GO(13)},{".":a.GO(3),"[":a.GO(4)," ":a.GO(9),"+":a.GO(11),",":a.GO(10),def:function(a){return this.id+=a},eof:a.GO(13)},{enter:function(){if(0<this.cls.length)return this.cls+=" "},"#":a.GO(2),".":a.GO(3),"[":a.GO(4)," ":a.GO(9),"+":a.GO(11),",":a.GO(10),def:function(a){return this.cls+=a},eof:a.GO(13)},
{"=":a.GO(5),"]":function(){this.attrs[this.attr]=this.val;return this.GO(1)},def:function(a){return this.attr+=a},eof:a.GO(12)},{"]":function(){this.attrs[this.attr]=this.val;return this.GO(1)},def:function(a){return this.val+=a},eof:a.GO(12)},{'"':a.GO(8),def:function(a){return this.text+=a},eof:a.GO(12)},{"'":a.GO(8),def:function(a){return this.text+=a},eof:a.GO(12)},{enter:function(){this.emitText();return this.GO(0)}},{enter:function(){this.emitNode();return this.GO(0)}},{enter:function(){this.emitNode();
this.parent=null;return this.GO(0)}},{enter:function(){var a;this.emitNode();this.parent=null!=(a=this.parent)?a.parentNode:void 0;return this.GO(0)}},{enter:function(){return e.log("Error in synth expression: "+this.input)}},{enter:function(){this.tag.length&&this.emitNode();if(this.text.length)return this.emitText()}}];a.prototype.emitNode=function(){var a,c;c=document.createElement(this.tag);c.id=this.id||null;c.className=this.cls||null;for(a in this.attrs)c.setAttribute(a,this.attrs[a]);this.parent.appendChild(c);
return this.parent=c};a.prototype.emitText=function(){this.parent.appendChild(e.HTML.parse(this.text));return this.text=""};return a}();return{name:"Synth",$:{synth:function(a){var b;b=new d;b.run(a);return 1===b.fragment.childNodes.length?e(b.fragment.childNodes[0]):e(b.fragment)}}}})})(Bling)}).call(this);
(function(){var f=Object.prototype.hasOwnProperty,j=function(e,d){function a(){this.constructor=e}for(var b in d)f.call(d,b)&&(e[b]=d[b]);a.prototype=d.prototype;e.prototype=new a;e.__super__=d.prototype;return e};(function(e){var d,a;d={};e.plugin(function(){var a,c;a=null;d={};c={register_engine:function(c,e){d[c]=e;if(null==a)return a=c},render:function(c,e){if(a in d)return d[a](c,e)}};c.__defineSetter__("engine",function(c){if(!c in d)throw Error("invalid template engine: "+c+" not one of "+
Object.Keys(d));return a=c});c.__defineGetter__("engine",function(){return a});return{name:"Template",$:{template:c}}});e.template.register_engine("null",function(){return function(a){return a}}());a=function(a,c,d,e,f){var n,j,o;null==f&&(f=-1);n=1;0>f&&(f=a.length+1+f);for(j=e;e<=f?j<f:j>f;e<=f?j++:j--)if(o=a[j],o===d?n+=1:o===c&&(n-=1),0===n)return j;return-1};e.template.register_engine("pythonic",function(){var b,c,d;d=/([0-9#0+-]*)\.*([0-9#+-]*)([diouxXeEfFgGcrsqm])((?:.|\n)*)/;b=/%[\(\/]/;c=
function(c){var e,f,j,o,l,m,k,c=c.split(b);l=c.length;k=[c[0]];for(f=j=1;1<=l?f<l:f>l;1<=l?f++:f--){e=a(c[f],")","(",0,-1);if(-1===e)return"Template syntax error: unmatched '%(' starting at: "+c[f].substring(0,15);o=c[f].substring(0,e);m=c[f].substring(e);e=d.exec(m);if(null===e)return"Template syntax error: invalid type specifier starting at '"+m+"'";m=e[4];k[j++]=o;k[j++]=e[1]|0;k[j++]=e[2]|0;k[j++]=e[3];k[j++]=m}return k};c.cache={};return function(a,b){var d,e,g,f,j,k,s,p,t,q,u;d=c.cache[a];null==
d&&(d=c.cache[a]=c(a));k=[d[0]];f=1;e=d.length;g=1;for(u=e-5;g<=u;g+=5){p=d.slice(g,g+4+1||9E9);j=p[0];s=p[1];e=p[2];t=p[3];p=p[4];q=b[j];null==q&&(q="missing value: "+j);switch(t){case "d":k[f++]=""+parseInt(q,10);break;case "f":k[f++]=parseFloat(q).toFixed(e);break;case "s":k[f++]=""+q;break;default:k[f++]=""+q}0<s&&(k[f]=String.PadLeft(k[f],s));k[f++]=p}return k.join("")}}());return e.template.register_engine("js-eval",function(){(function(){function a(){a.__super__.constructor.apply(this,arguments)}
j(a,e.StateMachine);a.STATE_TABLE=[{enter:function(){this.data=[];return this.GO(1)}},{}];return a})();return function(a){return a}}())})(Bling)}).call(this);
(function(f){return f.plugin(function(){var j,e,d;d=function(a){var b,c,d,f;b=a.indexOf(":");if(0<b)return d=parseInt(a.slice(0,b),10),c=a.slice(b+1,b+1+d),f=a[b+1+d],a=a.slice(b+d+2),c=function(){switch(f){case "#":return Number(c);case "'":return""+c;case "!":return"true"===c;case "~":return null;case "]":return j(c);case "}":return e(c)}}(),[c,a]};j=function(a){var b,c;for(b=[];0<a.length;)a=d(a),c=a[0],a=a[1],b.push(c);return b};e=function(a){var b,c,e;for(b={};0<a.length;)e=d(a),c=e[0],a=e[1],
a=d(a),e=a[0],a=a[1],b[c]=e;return b};return{name:"TNET",$:{TNET:{stringify:function(a){var b,c,d;d=function(){switch(Object.Type(a)){case "number":return[""+a,"#"];case "string":return[a,"'"];case "function":return[""+a,"'"];case "boolean":return[""+!!a,"!"];case "null":return["","~"];case "undefined":return["","~"];case "array":return[function(){var b,d,e;e=[];b=0;for(d=a.length;b<d;b++)c=a[b],e.push(f.TNET.stringify(c));return e}().join(""),"]"];case "object":return[function(){var b;b=[];for(c in a)b.push(f.TNET.stringify(c)+
f.TNET.stringify(a[c]));return b}().join(""),"}"]}}();b=d[0];return(b.length|0)+":"+b+d[1]},parse:function(a){var b;return null!=(b=d(a))?b[0]:void 0}}}}})})(Bling);
(function(f){return f.plugin(function(){var j,e,d,a,b,c;e=function(a,b){var c,b=Object.Extend({autoOpen:!1,draggable:!0},b);c=f(a).addClass("dialog");b.draggable&&c.draggable();b.autoOpen&&c.show().center();c.find("button.close, .close-button").bind("click touchstart",function(){c.hide();return!1});return c};d=function(a,b){var c,d,e,j,l,b=Object.Extend({handleCSS:{}},b);b.handleCSS=Object.Extend({position:"absolute",top:"0px",left:"0px",width:"100%",height:"6px"},b.handleCSS);c=f(a);e=!1;j=l=0;d=
f.synth("div.handle").defaultCss({background:"-webkit-gradient(linear, 50% 0%, 50% 100%, from(#eee), color-stop(0.25, #bbb), color-stop(0.3, #eee), color-stop(0.5, #eee), to(#bbb))",height:"6px","border-radius":"3px",cursor:"move"}.css(b.handleCSS.bind("mousedown, touchstart",function(a){e=!0;j||(j=a.pageX);l||(l=a.pageY);return!1})));f(document.bind("mousemove, touchmove",function(a){var b;if(e)return b=a.pageX-j,a=a.pageY-l,c.transform({translate:[b,a]},0).trigger("drag",{dragObject:c}),!1})).bind("mouseup, touchend",
function(){var a;if(e)return e=!1,a=d.position()[0],f(document.elementFromPoint(a.left,a.top-1).trigger("drop",{dropObject:c}))});return c.addClass("draggable").css({position:"relative","padding-top":c.css("padding-top").map(Number.AtLeast(parseInt(b.handleCSS.height,10))).px().first()}.append(d))};a=function(a,b){var c,d,e,j,b=Object.Extend({change:Function.Empty,backgroundColor:"#fff",barColor:"rgba(0,128,0,0.5)",textColor:"white",reset:!1},b);c=f(a).addClass("progress-bar");j=0;b.reset&&(d=c.css("background").first(),
e=c.css("color").first());return c.zap("updateProgress",function(a){for(;a>1;)a=a/100;j=a;a===1&&b.reset?c.css("background",d).css("color",e):c.css({background:"-webkit-gradient(linear, 0 0, "+parseInt(a*100)+"% 0, color-stop(0, "+b.barColor+"), color-stop(0.98, "+b.barColor+"), color-stop(1.0, "+b.backgroundColor+"))",color:b.textColor});if(Object.IsFunc(b.change))return b.change(j)})};j=function(a,b){var c,d,b=Object.Extend({exclusive:!1,sticky:!1},b);d=f(a).addClass("accordion");c=function(a){var c,
e,g,a=f(a).children().first().filter("*");if(2!==a.len())throw Exception("accordion row requires 2 elements, not "+a.len());g=a.eq(0).addClass("title");c=a.eq(1).addClass("body").hide();e=!1;return g.click(function(){b.exclusive&&d.find(".body").hide();if(e){if(b.sticky)return c.show().addClass("visible"),g.addClass("selected").trigger("select"),e=!0;c.hide().removeClass("visible");g.removeClass("selected").trigger("deselect");return e=!1}c.show().addClass("visible");g.addClass("selected").trigger("select");
return e=!0})};d.bind("DOMNodeInserted",function(a){var b;b=d.children().first().filter("*");a=f(a.target).parents().first();return c(a.intersect(b))});d.children().first().filter("*").map(c);return d};c=function(a){var b,c,d;c=f(a).css({position:"relative",top:"0px",left:"0px"}.hide().map(f));b=0;c[b].show();c.next=function(){c[b].hide();b=++b%nn;return c[b].show()};c.activate=function(a){c[b].hide();b=a;return c[a].show()};a=0;for(d=c.len();0<=d?a<d:a>d;0<=d?a++:a--)c[a].zap("_viewIndex",a.zap("activate",
function(){return c.activate(this._viewIndex)}));return c};b=function(a,b){var c,d,e;e=f(a);b=f(b).viewStack();d=e.len();for(c=0;0<=d?c<=d:c>=d;0<=d?c++:c--)e._tabIndex=c;f(e[0]).addClass("active");return e.click(function(){e.removeClass("active");b.activate(this._tabIndex);return f(this).addClass("active")})};return{name:"UI",$:{UI:{Draggable:d,ProgressBar:a,ViewStack:c,Tabs:b,Accordion:j}},dialog:function(a){return e(this,a)},progressBar:function(b){return a(this,b)},viewStack:function(a){return c(this,
a)},tabs:function(a){return b(this,a)},accordion:function(a){return j(this,a)},draggable:function(a){return d(this,a)}}})})(Bling);
