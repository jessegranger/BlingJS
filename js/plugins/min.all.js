(function(f){return f.plugin(function(){var i,e,d,a;e={};d=function(a,b){return e[a]=b};i=function(){return e[obj.t]};a=[];Object.Type.extend(null,{compact:function(a){return Object.String(a)}});Object.Type.extend("undefined",{compact:function(){return""}});Object.Type.extend("null",{compact:function(){return""}});Object.Type.extend("string",{compact:Function.Identity});Object.Type.extend("array",{compact:function(a){var b,g,j,h;h=[];g=0;for(j=a.length;g<j;g++)b=a[g],h.push(Object.Compact(b));return h.join("")}});
Object.Type.extend("bling",{compact:function(a){return a.map(Object.Compact).join("")}});Object.Type.extend("object",{compact:function(a){var b;return Object.Compact(null!=(b=i(a))?b.call(a,a):void 0)}});Object.Compact=function(c){var b;a.push(c);null!=(b=Object.Type.lookup(c))&&b.compact(c);return a.pop()};Object.Extend(Object.Compact,{register:d,lookup:i});d("page",function(){return["<!DOCTYPE html><html><head>",this.head,"</head><body>",this.body,"</body></html>"]});d("text",function(){return this.EN});
d("link",function(){var a,b,g,j,h;a=f(["<a"]);h=["href","name","target"];g=0;for(j=h.length;g<j;g++)b=h[g],b in this&&a.extend(" ",b,"='",this[b],"'");return a.extend(">",node.content,"</a>")});f.assert("<!DOCTYPE html><html><head></head><body>Hello World</body></html>"===Object.Compact({t:"page",head:[],body:{type:"text",EN:"Hello World"}}));return{name:"Compact"}})})(Bling);
(function(f){return f.plugin(function(){var i,e;i=function(d,a){return Object.Extend(document.createElement(d),a)};e=function(d,a){var c,b,g;c=g=null;b=i(d,Object.Extend(a,{"onload!":function(){if(null!=g)return f.publish(g)}}));f("head").delay(10,function(){var a=this;return null!=c?f.subscribe(c,function(){return a.append(b)}):this.append(b)});b=f(b);return Object.Extend(b,{depends:function(a){c=d+"-"+a;return b},provides:function(a){g=d+"-"+a;return b}})};return{name:"LazyLoader",$:{script:function(d){return e("script",
{"src!":d})},style:function(d){return e("link",{"href!":d,"rel!":"stylesheet"})}}}})})(Bling);
(function(f){return f.plugin(function(){var i,e,d,a;e={};d=function(a,b){return e[a]=b};i=function(){return e[obj.t]};a=[];Object.Type.extend(null,{compact:function(a){return Object.String(a)}});Object.Type.extend("undefined",{compact:function(){return""}});Object.Type.extend("null",{compact:function(){return""}});Object.Type.extend("string",{compact:Function.Identity});Object.Type.extend("array",{compact:function(a){var b,g,j,h;h=[];g=0;for(j=a.length;g<j;g++)b=a[g],h.push(Object.Compact(b));return h.join("")}});
Object.Type.extend("bling",{compact:function(a){return a.map(Object.Compact).join("")}});Object.Type.extend("object",{compact:function(a){var b;return Object.Compact(null!=(b=i(a))?b.call(a,a):void 0)}});Object.Compact=function(c){var b;a.push(c);null!=(b=Object.Type.lookup(c))&&b.compact(c);return a.pop()};Object.Extend(Object.Compact,{register:d,lookup:i});d("page",function(){return["<!DOCTYPE html><html><head>",this.head,"</head><body>",this.body,"</body></html>"]});d("text",function(){return this.EN});
d("link",function(){var a,b,g,j,h;a=f(["<a"]);h=["href","name","target"];g=0;for(j=h.length;g<j;g++)b=h[g],b in this&&a.extend(" ",b,"='",this[b],"'");return a.extend(">",node.content,"</a>")});f.assert("<!DOCTYPE html><html><head></head><body>Hello World</body></html>"===Object.Compact({t:"page",head:[],body:{type:"text",EN:"Hello World"}}));return{name:"Compact"}})})(Bling);
(function(f){return f.plugin(function(){var i,e;i=function(d,a){return Object.Extend(document.createElement(d),a)};e=function(d,a){var c,b,g;c=g=null;b=i(d,Object.Extend(a,{"onload!":function(){if(null!=g)return f.publish(g)}}));f("head").delay(10,function(){var a=this;return null!=c?f.subscribe(c,function(){return a.append(b)}):this.append(b)});b=f(b);return Object.Extend(b,{depends:function(a){c=d+"-"+a;return b},provides:function(a){g=d+"-"+a;return b}})};return{name:"LazyLoader",$:{script:function(d){return e("script",
{"src!":d})},style:function(d){return e("link",{"href!":d,"rel!":"stylesheet"})}}}})})(Bling);
(function(f){return f.plugin(function(){var i,e,d,a;e={};d=function(a,b){return e[a]=b};i=function(){return e[obj.t]};a=[];Object.Type.extend(null,{compact:function(a){return Object.String(a)}});Object.Type.extend("undefined",{compact:function(){return""}});Object.Type.extend("null",{compact:function(){return""}});Object.Type.extend("string",{compact:Function.Identity});Object.Type.extend("array",{compact:function(a){var b,g,j,h;h=[];g=0;for(j=a.length;g<j;g++)b=a[g],h.push(Object.Compact(b));return h.join("")}});
Object.Type.extend("bling",{compact:function(a){return a.map(Object.Compact).join("")}});Object.Type.extend("object",{compact:function(a){var b;return Object.Compact(null!=(b=i(a))?b.call(a,a):void 0)}});Object.Compact=function(c){var b;a.push(c);null!=(b=Object.Type.lookup(c))&&b.compact(c);return a.pop()};Object.Extend(Object.Compact,{register:d,lookup:i});d("page",function(){return["<!DOCTYPE html><html><head>",this.head,"</head><body>",this.body,"</body></html>"]});d("text",function(){return this.EN});
d("link",function(){var a,b,g,j,h;a=f(["<a"]);h=["href","name","target"];g=0;for(j=h.length;g<j;g++)b=h[g],b in this&&a.extend(" ",b,"='",this[b],"'");return a.extend(">",node.content,"</a>")});f.assert("<!DOCTYPE html><html><head></head><body>Hello World</body></html>"===Object.Compact({t:"page",head:[],body:{type:"text",EN:"Hello World"}}));return{name:"Compact"}})})(Bling);
(function(f){return f.plugin(function(){var i,e;i=function(d,a){return Object.Extend(document.createElement(d),a)};e=function(d,a){var c,b,g;c=g=null;b=i(d,Object.Extend(a,{"onload!":function(){if(null!=g)return f.publish(g)}}));f("head").delay(10,function(){var a=this;return null!=c?f.subscribe(c,function(){return a.append(b)}):this.append(b)});b=f(b);return Object.Extend(b,{depends:function(a){c=d+"-"+a;return b},provides:function(a){g=d+"-"+a;return b}})};return{name:"LazyLoader",$:{script:function(d){return e("script",
{"src!":d})},style:function(d){return e("link",{"href!":d,"rel!":"stylesheet"})}}}})})(Bling);
(function(f){return f.plugin(function(){var i,e,d,a,c,b,g,j,h,l,r,n,k,o,m,s;r=/!==|!=|!|\#|\%|\%=|\&|\&\&|\&\&=|&=|\*|\*=|\+|\+=|-|-=|->|\.{1,3}|\/|\/=|:|::|;|<<=|<<|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\?|@|\[|\]|}|{|\^|\^=|\^\^|\^\^=|\|=|\|\|=|\|\||\||~/g;h=/\b[Ff]unction\b|\bvar\b|\.prototype\b|\.__proto__\b|\bString\b|\bArray\b|\bNumber\b|\bObject\b|\bbreak\b|\bcase\b|\bcontinue\b|\bdelete\b|\bdo\b|\bif\b|\belse\b|\bfinally\b|\binstanceof\b|\breturn\b|\bthrow\b|\btry\b|\btypeof\b|\btrue\b|\bfalse\b/g;i=
/\d+\.*\d*/g;e=/\$(\(|\.)/g;s=/\t/g;k=/\/\/.*?(?:\n|$)/;l=/\/\*(?:.|\n)*?\*\//;a=function(a){return a?"<span class='com'>"+a+"</span>":""};n=function(a){return a?"<span class='str'>"+a+"</span>":""};b=function(a,c){var j,b;j=a.indexOf('"',c);b=a.indexOf("'",c);-1===j&&(j=a.length);-1===b&&(b=a.length);return j===b?[null,-1]:j<b?['"',j]:["'",b]};d=function(a,c,j){for(c=a.indexOf(j,c);"\\"===a.charAt(c-1)&&0<c&&c<a.length;)c=a.indexOf(j,c+1);return c};m=function(a){var c,j,h,g,l;c=0;h=a.length;l=[];
if(!Object.IsString(a))if(Object.IsFunction(a.toString))a=a.toString(),h=a.length;else throw TypeError("invalid string argument to split_quoted");for(;c<h;){g=b(a,c);j=g[1];if(-1===j){l.push(a.substring(c));break}l.push(a.substring(c,j));c=d(a,j+1,g[0]);if(-1===c)throw Error("unclosed quote: "+g[0]+" starting at "+j);l.push(a.substring(j,c+1));c+=1}return l};c=function(a){var c;c=a.match(k);a=a.match(l);return c===a?[-1,null]:null===c&&null!==a?[a.index,a[0]]:null!==c&&null===a?[c.index,c[0]]:a.index<
c.index?[a.index,a[0]]:[c.index,c[0]]};o=function(a){var j,b,g,h,l,k;l=[];j=0;for(g=a.length;j<g;)if(k=a.substring(j),h=c(k),b=h[0],-1<b)l.push(k.substring(0,b)),l.push(h[1]),j+=b+h[1].length;else{l.push(k);break}return l};g=function(a,c){return a.replace(r,"<span class='opr'>$&</span>").replace(i,"<span class='num'>$&</span>").replace(h,"<span class='kwd'>$&</span>").replace(e,"<span class='bln'>$$</span>$1").replace(s,"&nbsp;&nbsp;")+n(c)};j=function(c,j){return f(m(c)).fold(g).join("")+a(j)};return{name:"PrettyPrint",
$:{prettyPrint:function(a,c){var b,h;Object.IsFunction(a)&&(a=a.toString());if(!Object.IsString(a))throw TypeError("prettyPrint requires a function or string to format, not '"+Object.Type(a)+"'");if(0===f("style#prettyPrint").length){h="code.pp .bln { font-size: 17px; } ";c=Object.Extend({opr:"#880",str:"#008",com:"#080",kwd:"#088",num:"#808",bln:"#800"},c);for(b in c)h+="code.pp ."+b+" { color: "+c[b]+"; } ";f.synth("style#prettyPrint").text(h).appendTo("head")}return"<code class='pp'>"+f(o(a)).fold(j).join("")+
"</code>"}}}})})(Bling);
(function(){var f=Object.prototype.hasOwnProperty,i=function(e,d){function a(){this.constructor=e}for(var c in d)f.call(d,c)&&(e[c]=d[c]);a.prototype=d.prototype;e.prototype=new a;e.__super__=d.prototype;return e};(function(e){e.plugin(function(){return{name:"StateMachine",$:{StateMachine:function(){function d(a){this.reset();this.table=a;Object.defineProperty(this,"modeline",{get:this.table[this._mode]});Object.defineProperty(this,"mode",{set:function(a){var b;this._lastMode=this._mode;this._mode=
a;if(this._mode!==this._lastMode&&null!=this.modeline&&"enter"in this.modeline)for(b=this.modeline.enter.call(this);Object.IsFunction(b);)b=b.call(this);return a},get:function(){return this._mode}})}d.prototype.reset=function(){return this._lastMode=this._mode=null};d.prototype.GO=function(a){return function(){return this.mode=a}};d.GO=function(a){return function(){return this.mode=a}};d.prototype.run=function(a){var c,b,g,j,h,l;j=this.mode=0;for(h=a.length;j<h;j++){c=a[j];g=this.modeline;null==g?
b=null:c in g?b=g[c]:"def"in g&&(b=g.def);for(;Object.IsFunction(b);)b=b.call(this,c)}if(Object.IsFunction(null!=(l=this.modeline)?l.eof:void 0))b=this.modeline.eof.call(this);for(;Object.IsFunction(b);)b=b.call(this);this.reset();return this};return d}()}}});return e.plugin(function(){var d;d=function(){function a(){a.__super__.constructor.call(this,a.STATE_TABLE);this.fragment=this.parent=document.createDocumentFragment()}i(a,e.StateMachine);a.STATE_TABLE=[{enter:function(){this.tag=this.id=this.cls=
this.attr=this.val=this.text="";this.attrs={};return this.GO(1)}},{'"':a.GO(6),"'":a.GO(7),"#":a.GO(2),".":a.GO(3),"[":a.GO(4)," ":a.GO(9),"+":a.GO(11),",":a.GO(10),def:function(a){return this.tag+=a},eof:a.GO(13)},{".":a.GO(3),"[":a.GO(4)," ":a.GO(9),"+":a.GO(11),",":a.GO(10),def:function(a){return this.id+=a},eof:a.GO(13)},{enter:function(){if(0<this.cls.length)return this.cls+=" "},"#":a.GO(2),".":a.GO(3),"[":a.GO(4)," ":a.GO(9),"+":a.GO(11),",":a.GO(10),def:function(a){return this.cls+=a},eof:a.GO(13)},
{"=":a.GO(5),"]":function(){this.attrs[this.attr]=this.val;return this.GO(1)},def:function(a){return this.attr+=a},eof:a.GO(12)},{"]":function(){this.attrs[this.attr]=this.val;return this.GO(1)},def:function(a){return this.val+=a},eof:a.GO(12)},{'"':a.GO(8),def:function(a){return this.text+=a},eof:a.GO(12)},{"'":a.GO(8),def:function(a){return this.text+=a},eof:a.GO(12)},{enter:function(){this.emitText();return this.GO(0)}},{enter:function(){this.emitNode();return this.GO(0)}},{enter:function(){this.emitNode();
this.parent=null;return this.GO(0)}},{enter:function(){var a;this.emitNode();this.parent=null!=(a=this.parent)?a.parentNode:void 0;return this.GO(0)}},{enter:function(){return e.log("Error in synth expression: "+this.input)}},{enter:function(){this.tag.length&&this.emitNode();if(this.text.length)return this.emitText()}}];a.prototype.emitNode=function(){var a,b;b=document.createElement(this.tag);b.id=this.id||null;b.className=this.cls||null;for(a in this.attrs)b.setAttribute(a,this.attrs[a]);this.parent.appendChild(b);
return this.parent=b};a.prototype.emitText=function(){this.parent.appendChild(e.HTML.parse(this.text));return this.text=""};return a}();return{name:"Synth",$:{synth:function(a){var c;c=new d;c.run(a);return 1===c.fragment.childNodes.length?e(c.fragment.childNodes[0]):e(c.fragment)}}}})})(Bling)}).call(this);
(function(){var f=Object.prototype.hasOwnProperty,i=function(e,d){function a(){this.constructor=e}for(var c in d)f.call(d,c)&&(e[c]=d[c]);a.prototype=d.prototype;e.prototype=new a;e.__super__=d.prototype;return e};(function(e){var d,a;d={};e.plugin(function(){var a,b;a=null;d={};b={register_engine:function(b,j){d[b]=j;if(null==a)return a=b},render:function(b,j){if(a in d)return d[a](b,j)}};b.__defineSetter__("engine",function(b){if(!b in d)throw Error("invalid template engine: "+b+" not one of "+
Object.Keys(d));return a=b});b.__defineGetter__("engine",function(){return a});return{name:"Template",$:{template:b}}});e.template.register_engine("null",function(){return function(a){return a}}());a=function(a,b,g,j,h){var l,d,e;null==h&&(h=-1);l=1;0>h&&(h=a.length+1+h);for(d=j;j<=h?d<h:d>h;j<=h?d++:d--)if(e=a[d],e===g?l+=1:e===b&&(l-=1),0===l)return d;return-1};e.template.register_engine("pythonic",function(){var c,b,g;g=/([0-9#0+-]*)\.*([0-9#+-]*)([diouxXeEfFgGcrsqm])((?:.|\n)*)/;c=/%[\(\/]/;b=
function(j){var b,l,d,e,k,o,f,j=j.split(c);k=j.length;f=[j[0]];for(l=d=1;1<=k?l<k:l>k;1<=k?l++:l--){b=a(j[l],")","(",0,-1);if(-1===b)return"Template syntax error: unmatched '%(' starting at: "+j[l].substring(0,15);e=j[l].substring(0,b);o=j[l].substring(b);b=g.exec(o);if(null===b)return"Template syntax error: invalid type specifier starting at '"+o+"'";o=b[4];f[d++]=e;f[d++]=b[1]|0;f[d++]=b[2]|0;f[d++]=b[3];f[d++]=o}return f};b.cache={};return function(a,c){var g,d,e,k,o,f,i,p,t,q,u;g=b.cache[a];null==
g&&(g=b.cache[a]=b(a));f=[g[0]];k=1;d=g.length;e=1;for(u=d-5;e<=u;e+=5){p=g.slice(e,e+4+1||9E9);o=p[0];i=p[1];d=p[2];t=p[3];p=p[4];q=c[o];null==q&&(q="missing value: "+o);switch(t){case "d":f[k++]=""+parseInt(q,10);break;case "f":f[k++]=parseFloat(q).toFixed(d);break;case "s":f[k++]=""+q;break;default:f[k++]=""+q}0<i&&(f[k]=String.PadLeft(f[k],i));f[k++]=p}return f.join("")}}());return e.template.register_engine("js-eval",function(){(function(){function a(){a.__super__.constructor.apply(this,arguments)}
i(a,e.StateMachine);a.STATE_TABLE=[{enter:function(){this.data=[];return this.GO(1)}},{}];return a})();return function(a){return a}}())})(Bling)}).call(this);
(function(f){return f.plugin(function(){var i,e,d;d=function(a){var c,b,g,j;c=a.indexOf(":");if(0<c)return g=parseInt(a.slice(0,c),10),b=a.slice(c+1,c+1+g),j=a[c+1+g],a=a.slice(c+g+2),b=function(){switch(j){case "#":return Number(b);case "'":return""+b;case "!":return"true"===b;case "~":return null;case "]":return i(b);case "}":return e(b)}}(),[b,a]};i=function(a){var c,b;for(c=[];0<a.length;)a=d(a),b=a[0],a=a[1],c.push(b);return c};e=function(a){var c,b,g;for(c={};0<a.length;)g=d(a),b=g[0],a=g[1],
a=d(a),g=a[0],a=a[1],c[b]=g;return c};return{name:"TNET",$:{TNET:{stringify:function(a){var c,b,g;g=function(){switch(Object.Type(a)){case "number":return[""+a,"#"];case "string":return[a,"'"];case "function":return[""+a,"'"];case "boolean":return[""+!!a,"!"];case "null":return["","~"];case "undefined":return["","~"];case "array":return[function(){var c,g,d;d=[];c=0;for(g=a.length;c<g;c++)b=a[c],d.push(f.TNET.stringify(b));return d}().join(""),"]"];case "object":return[function(){var c;c=[];for(b in a)c.push(f.TNET.stringify(b)+
f.TNET.stringify(a[b]));return c}().join(""),"}"]}}();c=g[0];return(c.length|0)+":"+c+g[1]},parse:function(a){var c;return null!=(c=d(a))?c[0]:void 0}}}}})})(Bling);
(function(f){return f.plugin(function(){var i,e,d,a,c,b;e=function(a,c){var b,c=Object.Extend({autoOpen:!1,draggable:!0},c);b=f(a).addClass("dialog");c.draggable&&b.draggable();c.autoOpen&&b.show().center();b.find("button.close, .close-button").bind("click touchstart",function(){b.hide();return!1});return b};d=function(a,c){var b,d,e,n,k,c=Object.Extend({handleCSS:{}},c);c.handleCSS=Object.Extend({position:"absolute",top:"0px",left:"0px",width:"100%",height:"6px"},c.handleCSS);b=f(a);e=!1;n=k=0;d=
f.synth("div.handle").defaultCss({background:"-webkit-gradient(linear, 50% 0%, 50% 100%, from(#eee), color-stop(0.25, #bbb), color-stop(0.3, #eee), color-stop(0.5, #eee), to(#bbb))",height:"6px","border-radius":"3px",cursor:"move"}.css(c.handleCSS.bind("mousedown, touchstart",function(a){e=!0;n||(n=a.pageX);k||(k=a.pageY);return!1})));f(document.bind("mousemove, touchmove",function(a){var c;if(e)return c=a.pageX-n,a=a.pageY-k,b.transform({translate:[c,a]},0).trigger("drag",{dragObject:b}),!1})).bind("mouseup, touchend",
function(){var a;if(e)return e=!1,a=d.position()[0],f(document.elementFromPoint(a.left,a.top-1).trigger("drop",{dropObject:b}))});return b.addClass("draggable").css({position:"relative","padding-top":b.css("padding-top").map(Number.AtLeast(parseInt(c.handleCSS.height,10))).px().first()}.append(d))};a=function(a,c){var b,d,e,n,c=Object.Extend({change:Function.Empty,backgroundColor:"#fff",barColor:"rgba(0,128,0,0.5)",textColor:"white",reset:!1},c);b=f(a).addClass("progress-bar");n=0;c.reset&&(d=b.css("background").first(),
e=b.css("color").first());return b.zap("updateProgress",function(a){for(;1<a;)a/=100;n=a;1===a&&c.reset?b.css("background",d).css("color",e):b.css({background:"-webkit-gradient(linear, 0 0, "+parseInt(100*a)+"% 0, color-stop(0, "+c.barColor+"), color-stop(0.98, "+c.barColor+"), color-stop(1.0, "+c.backgroundColor+"))",color:c.textColor});if(Object.IsFunc(c.change))return c.change(n)})};i=function(a,c){var b,d,c=Object.Extend({exclusive:!1,sticky:!1},c);d=f(a).addClass("accordion");b=function(a){var b,
g,h,a=f(a).children().first().filter("*");if(2!==a.len())throw Exception("accordion row requires 2 elements, not "+a.len());h=a.eq(0).addClass("title");b=a.eq(1).addClass("body").hide();g=!1;return h.click(function(){c.exclusive&&d.find(".body").hide();if(g){if(c.sticky)return b.show().addClass("visible"),h.addClass("selected").trigger("select"),g=!0;b.hide().removeClass("visible");h.removeClass("selected").trigger("deselect");return g=!1}b.show().addClass("visible");h.addClass("selected").trigger("select");
return g=!0})};d.bind("DOMNodeInserted",function(a){var c;c=d.children().first().filter("*");a=f(a.target).parents().first();return b(a.intersect(c))});d.children().first().filter("*").map(b);return d};b=function(a){var c,b,d;b=f(a).css({position:"relative",top:"0px",left:"0px"}.hide().map(f));c=0;b[c].show();b.next=function(){b[c].hide();c=++c%nn;return b[c].show()};b.activate=function(a){b[c].hide();c=a;return b[a].show()};a=0;for(d=b.len();0<=d?a<d:a>d;0<=d?a++:a--)b[a].zap("_viewIndex",a.zap("activate",
function(){return b.activate(this._viewIndex)}));return b};c=function(a,c){var b,d,e;e=f(a);c=f(c).viewStack();d=e.len();for(b=0;0<=d?b<=d:b>=d;0<=d?b++:b--)e._tabIndex=b;f(e[0]).addClass("active");return e.click(function(){e.removeClass("active");c.activate(this._tabIndex);return f(this).addClass("active")})};return{name:"UI",$:{UI:{Draggable:d,ProgressBar:a,ViewStack:b,Tabs:c,Accordion:i}},dialog:function(a){return e(this,a)},progressBar:function(c){return a(this,c)},viewStack:function(a){return b(this,
a)},tabs:function(a){return c(this,a)},accordion:function(a){return i(this,a)},draggable:function(a){return d(this,a)}}})})(Bling);
(function(){var f=Array.prototype.slice;$.plugin(function(){var i,e,d,a,c,b,g,j,h,l,r,n;j="px,pt,pc,em,%,in,cm,mm,ex".split(",");i=/(\d+\.*\d*)(px|pt|pc|em|%|in|cm|mm|ex)/;b=function(a){return i.exec(a)[2](i.test(a)?void 0:"")};a=function(c,b){return a[c][b]()};g=function(a){return function(){return a}};h=0;for(r=j.length;h<r;h++){e=j[h];l=0;for(n=j.length;l<n;l++)d=j[l],(a[e]||(a[e]={}))[d]=g(+(e===d||""===e||""===d))}a["in"].pt=function(){return 72};a["in"].px=function(){return 96};a["in"].cm=function(){return 2.54};
a.pc.pt=function(){return 12};a.cm.mm=function(){return 10};a.em.px=function(){var a,c;c=$("<span style='font-size:1em;visibility:hidden'>x</span>").appendTo("body");a=c.width().first();c.remove();return a};a.ex.px=function(){var a,c;c=$("<span style='font-size:1ex;visibility:hidden'>x</span>").appendTo("body");a=c.width().first();c.remove();return a};a.ex.em=function(){return 2};e=function(){var c,b,h,d,e,l;l=[];d=0;for(e=j.length;d<e;d++)c=j[d],l.push(function(){var d,e,l;l=[];d=0;for(e=j.length;d<
e;d++)b=j[d],!a(c,b)&&a(b,c)&&(console.log("found inverse: "+c+"."+b),a[c][b]=g(1/a(b,c))),l.push(function(){var d,e,l;l=[];e=0;for(d=j.length;e<d;e++)h=j[e],!a(c,h)&&a(c,b)&&a(b,h)?(console.log("found induction: "+c+"."+h),l.push(a[c][h]=g(a(c,b)*a(b,h)))):l.push(void 0);return l}());return l}());return l};e();e();$.assert("10cm"===parseFloat("300px")*a[b("300px")].cm()+"cm");c=function(a,c){var b,j,g;g=[];b=0;for(j=c.length;0<=j?b<j:b>j;0<=j?b++:b--)g.push(c[b]=convertTo(a,c[b]));return g};Object.Type.register("units",
{match:function(a){return i.test(a)}});e=function(a){return function(){var j,g;j=1<=arguments.length?f.call(arguments,0):[];c(g=b(this[0]),this);return a.apply(this,j)+g}};return{min:e(function(){return this.reduce(function(a){return Math.min(parseFloat(this),a)})}),max:e(function(){return this.reduce(function(a){return Math.max(parseFloat(this),a)})}),sum:e(function(){return this.reduce(function(a){return parseFloat(this)+a})}),mean:e(function(){return parseFloat(this.sum())/this.length}),magnitude:e(function(){return Math.sqrt(this.floats().squares().sum())}),
squares:function(){return this.map(function(){var a;return(a=parseFloat(this))*a})},scale:function(a){return this.map(function(){return a*parseFloat(this)})},add:function(a){return this.map(function(){return a+this})},normalize:function(){return this.scale(1/this.magnitude())}}})}).call(this);
$.plugin(function(){var f,i,e,d;f=function(){return"EOF"};for(d=0;1E3>d;d++)i=d;e=0;return function(a){a=extend({item:function(){return f},action:Function.Identity,latency:10},a);return extend(new $.EventEmitter,{run:function(){var c,b=this;c=function(){var g;if((g=a.action(a.item()))!==f)return b.emit("data",g),setTimeout(c,a.latency)};return setTimeout(c,a.latency)}})}({item:function(){return i[e++](e<i.length?void 0:f)},action:function(a){return a*a-1},latency:10}).on("data",function(a){return console.log("data:",
a.on("error",function(a){return console.log("error:",a.run())}))})});
(function(f){return f.plugin(function(){var i,e,d,a;e={};d=function(a,b){return e[a]=b};i=function(){return e[obj.t]};a=[];Object.Type.extend(null,{compact:function(a){return Object.String(a)}});Object.Type.extend("undefined",{compact:function(){return""}});Object.Type.extend("null",{compact:function(){return""}});Object.Type.extend("string",{compact:Function.Identity});Object.Type.extend("array",{compact:function(a){var b,g,j,h;h=[];g=0;for(j=a.length;g<j;g++)b=a[g],h.push(Object.Compact(b));return h.join("")}});
Object.Type.extend("bling",{compact:function(a){return a.map(Object.Compact).join("")}});Object.Type.extend("object",{compact:function(a){var b;return Object.Compact(null!=(b=i(a))?b.call(a,a):void 0)}});Object.Compact=function(c){var b;a.push(c);null!=(b=Object.Type.lookup(c))&&b.compact(c);return a.pop()};Object.Extend(Object.Compact,{register:d,lookup:i});d("page",function(){return["<!DOCTYPE html><html><head>",this.head,"</head><body>",this.body,"</body></html>"]});d("text",function(){return this.EN});
d("link",function(){var a,b,g,j,h;a=f(["<a"]);h=["href","name","target"];g=0;for(j=h.length;g<j;g++)b=h[g],b in this&&a.extend(" ",b,"='",this[b],"'");return a.extend(">",node.content,"</a>")});f.assert("<!DOCTYPE html><html><head></head><body>Hello World</body></html>"===Object.Compact({t:"page",head:[],body:{type:"text",EN:"Hello World"}}));return{name:"Compact"}})})(Bling);
(function(f){return f.plugin(function(){var i,e,d,a,c,b,g,j,h,l,r,n,k,o,m,s;r=/!==|!=|!|\#|\%|\%=|\&|\&\&|\&\&=|&=|\*|\*=|\+|\+=|-|-=|->|\.{1,3}|\/|\/=|:|::|;|<<=|<<|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\?|@|\[|\]|}|{|\^|\^=|\^\^|\^\^=|\|=|\|\|=|\|\||\||~/g;h=/\b[Ff]unction\b|\bvar\b|\.prototype\b|\.__proto__\b|\bString\b|\bArray\b|\bNumber\b|\bObject\b|\bbreak\b|\bcase\b|\bcontinue\b|\bdelete\b|\bdo\b|\bif\b|\belse\b|\bfinally\b|\binstanceof\b|\breturn\b|\bthrow\b|\btry\b|\btypeof\b|\btrue\b|\bfalse\b/g;
i=/\d+\.*\d*/g;e=/\$(\(|\.)/g;s=/\t/g;k=/\/\/.*?(?:\n|$)/;l=/\/\*(?:.|\n)*?\*\//;a=function(a){return a?"<span class='com'>"+a+"</span>":""};n=function(a){return a?"<span class='str'>"+a+"</span>":""};b=function(a,c){var b,j;b=a.indexOf('"',c);j=a.indexOf("'",c);-1===b&&(b=a.length);-1===j&&(j=a.length);return b===j?[null,-1]:b<j?['"',b]:["'",j]};d=function(a,c,b){for(c=a.indexOf(b,c);"\\"===a.charAt(c-1)&&0<c&&c<a.length;)c=a.indexOf(b,c+1);return c};m=function(a){var c,j,g,h,e;c=0;g=a.length;e=
[];if(!Object.IsString(a))if(Object.IsFunction(a.toString))a=a.toString(),g=a.length;else throw TypeError("invalid string argument to split_quoted");for(;c<g;){h=b(a,c);j=h[1];if(-1===j){e.push(a.substring(c));break}e.push(a.substring(c,j));c=d(a,j+1,h[0]);if(-1===c)throw Error("unclosed quote: "+h[0]+" starting at "+j);e.push(a.substring(j,c+1));c+=1}return e};c=function(a){var c;c=a.match(k);a=a.match(l);return c===a?[-1,null]:null===c&&null!==a?[a.index,a[0]]:null!==c&&null===a?[c.index,c[0]]:
a.index<c.index?[a.index,a[0]]:[c.index,c[0]]};o=function(a){var b,j,g,h,d,e;d=[];b=0;for(g=a.length;b<g;)if(e=a.substring(b),h=c(e),j=h[0],-1<j)d.push(e.substring(0,j)),d.push(h[1]),b+=j+h[1].length;else{d.push(e);break}return d};g=function(a,c){return a.replace(r,"<span class='opr'>$&</span>").replace(i,"<span class='num'>$&</span>").replace(h,"<span class='kwd'>$&</span>").replace(e,"<span class='bln'>$$</span>$1").replace(s,"&nbsp;&nbsp;")+n(c)};j=function(c,b){return f(m(c)).fold(g).join("")+
a(b)};return{name:"PrettyPrint",$:{prettyPrint:function(a,c){var b,g;Object.IsFunction(a)&&(a=a.toString());if(!Object.IsString(a))throw TypeError("prettyPrint requires a function or string to format, not '"+Object.Type(a)+"'");if(0===f("style#prettyPrint").length){g="code.pp .bln { font-size: 17px; } ";c=Object.Extend({opr:"#880",str:"#008",com:"#080",kwd:"#088",num:"#808",bln:"#800"},c);for(b in c)g+="code.pp ."+b+" { color: "+c[b]+"; } ";f.synth("style#prettyPrint").text(g).appendTo("head")}return"<code class='pp'>"+
f(o(a)).fold(j).join("")+"</code>"}}}})})(Bling);
(function(){var f=Object.prototype.hasOwnProperty,i=function(e,d){function a(){this.constructor=e}for(var c in d)f.call(d,c)&&(e[c]=d[c]);a.prototype=d.prototype;e.prototype=new a;e.__super__=d.prototype;return e};(function(e){e.plugin(function(){return{name:"StateMachine",$:{StateMachine:function(){function d(a){this.reset();this.table=a;Object.defineProperty(this,"modeline",{get:this.table[this._mode]});Object.defineProperty(this,"mode",{set:function(a){var b;this._lastMode=this._mode;this._mode=
a;if(this._mode!==this._lastMode&&null!=this.modeline&&"enter"in this.modeline)for(b=this.modeline.enter.call(this);Object.IsFunction(b);)b=b.call(this);return a},get:function(){return this._mode}})}d.prototype.reset=function(){return this._lastMode=this._mode=null};d.prototype.GO=function(a){return function(){return this.mode=a}};d.GO=function(a){return function(){return this.mode=a}};d.prototype.run=function(a){var c,b,g,j,h,d;j=this.mode=0;for(h=a.length;j<h;j++){c=a[j];g=this.modeline;null==g?
b=null:c in g?b=g[c]:"def"in g&&(b=g.def);for(;Object.IsFunction(b);)b=b.call(this,c)}if(Object.IsFunction(null!=(d=this.modeline)?d.eof:void 0))b=this.modeline.eof.call(this);for(;Object.IsFunction(b);)b=b.call(this);this.reset();return this};return d}()}}});return e.plugin(function(){var d;d=function(){function a(){a.__super__.constructor.call(this,a.STATE_TABLE);this.fragment=this.parent=document.createDocumentFragment()}i(a,e.StateMachine);a.STATE_TABLE=[{enter:function(){this.tag=this.id=this.cls=
this.attr=this.val=this.text="";this.attrs={};return this.GO(1)}},{'"':a.GO(6),"'":a.GO(7),"#":a.GO(2),".":a.GO(3),"[":a.GO(4)," ":a.GO(9),"+":a.GO(11),",":a.GO(10),def:function(a){return this.tag+=a},eof:a.GO(13)},{".":a.GO(3),"[":a.GO(4)," ":a.GO(9),"+":a.GO(11),",":a.GO(10),def:function(a){return this.id+=a},eof:a.GO(13)},{enter:function(){if(0<this.cls.length)return this.cls+=" "},"#":a.GO(2),".":a.GO(3),"[":a.GO(4)," ":a.GO(9),"+":a.GO(11),",":a.GO(10),def:function(a){return this.cls+=a},eof:a.GO(13)},
{"=":a.GO(5),"]":function(){this.attrs[this.attr]=this.val;return this.GO(1)},def:function(a){return this.attr+=a},eof:a.GO(12)},{"]":function(){this.attrs[this.attr]=this.val;return this.GO(1)},def:function(a){return this.val+=a},eof:a.GO(12)},{'"':a.GO(8),def:function(a){return this.text+=a},eof:a.GO(12)},{"'":a.GO(8),def:function(a){return this.text+=a},eof:a.GO(12)},{enter:function(){this.emitText();return this.GO(0)}},{enter:function(){this.emitNode();return this.GO(0)}},{enter:function(){this.emitNode();
this.parent=null;return this.GO(0)}},{enter:function(){var a;this.emitNode();this.parent=null!=(a=this.parent)?a.parentNode:void 0;return this.GO(0)}},{enter:function(){return e.log("Error in synth expression: "+this.input)}},{enter:function(){this.tag.length&&this.emitNode();if(this.text.length)return this.emitText()}}];a.prototype.emitNode=function(){var a,b;b=document.createElement(this.tag);b.id=this.id||null;b.className=this.cls||null;for(a in this.attrs)b.setAttribute(a,this.attrs[a]);this.parent.appendChild(b);
return this.parent=b};a.prototype.emitText=function(){this.parent.appendChild(e.HTML.parse(this.text));return this.text=""};return a}();return{name:"Synth",$:{synth:function(a){var c;c=new d;c.run(a);return 1===c.fragment.childNodes.length?e(c.fragment.childNodes[0]):e(c.fragment)}}}})})(Bling)}).call(this);
(function(){var f=Object.prototype.hasOwnProperty,i=function(e,d){function a(){this.constructor=e}for(var c in d)f.call(d,c)&&(e[c]=d[c]);a.prototype=d.prototype;e.prototype=new a;e.__super__=d.prototype;return e};(function(e){var d,a;d={};e.plugin(function(){var a,b;a=null;d={};b={register_engine:function(b,j){d[b]=j;if(null==a)return a=b},render:function(b,j){if(a in d)return d[a](b,j)}};b.__defineSetter__("engine",function(b){if(!b in d)throw Error("invalid template engine: "+b+" not one of "+
Object.Keys(d));return a=b});b.__defineGetter__("engine",function(){return a});return{name:"Template",$:{template:b}}});e.template.register_engine("null",function(){return function(a){return a}}());a=function(a,b,g,j,h){var d,e,f;null==h&&(h=-1);d=1;0>h&&(h=a.length+1+h);for(e=j;j<=h?e<h:e>h;j<=h?e++:e--)if(f=a[e],f===g?d+=1:f===b&&(d-=1),0===d)return e;return-1};e.template.register_engine("pythonic",function(){var c,b,g;g=/([0-9#0+-]*)\.*([0-9#+-]*)([diouxXeEfFgGcrsqm])((?:.|\n)*)/;c=/%[\(\/]/;b=
function(b){var h,d,e,f,k,o,m,b=b.split(c);k=b.length;m=[b[0]];for(d=e=1;1<=k?d<k:d>k;1<=k?d++:d--){h=a(b[d],")","(",0,-1);if(-1===h)return"Template syntax error: unmatched '%(' starting at: "+b[d].substring(0,15);f=b[d].substring(0,h);o=b[d].substring(h);h=g.exec(o);if(null===h)return"Template syntax error: invalid type specifier starting at '"+o+"'";o=h[4];m[e++]=f;m[e++]=h[1]|0;m[e++]=h[2]|0;m[e++]=h[3];m[e++]=o}return m};b.cache={};return function(a,c){var g,d,e,k,f,m,i,p,t,q,u;g=b.cache[a];null==
g&&(g=b.cache[a]=b(a));m=[g[0]];k=1;d=g.length;e=1;for(u=d-5;e<=u;e+=5){p=g.slice(e,e+4+1||9E9);f=p[0];i=p[1];d=p[2];t=p[3];p=p[4];q=c[f];null==q&&(q="missing value: "+f);switch(t){case "d":m[k++]=""+parseInt(q,10);break;case "f":m[k++]=parseFloat(q).toFixed(d);break;case "s":m[k++]=""+q;break;default:m[k++]=""+q}0<i&&(m[k]=String.PadLeft(m[k],i));m[k++]=p}return m.join("")}}());return e.template.register_engine("js-eval",function(){(function(){function a(){a.__super__.constructor.apply(this,arguments)}
i(a,e.StateMachine);a.STATE_TABLE=[{enter:function(){this.data=[];return this.GO(1)}},{}];return a})();return function(a){return a}}())})(Bling)}).call(this);
(function(f){return f.plugin(function(){var i,e,d;d=function(a){var c,b,g,j;c=a.indexOf(":");if(0<c)return g=parseInt(a.slice(0,c),10),b=a.slice(c+1,c+1+g),j=a[c+1+g],a=a.slice(c+g+2),b=function(){switch(j){case "#":return Number(b);case "'":return""+b;case "!":return"true"===b;case "~":return null;case "]":return i(b);case "}":return e(b)}}(),[b,a]};i=function(a){var c,b;for(c=[];0<a.length;)a=d(a),b=a[0],a=a[1],c.push(b);return c};e=function(a){var c,b,g;for(c={};0<a.length;)g=d(a),b=g[0],a=g[1],
a=d(a),g=a[0],a=a[1],c[b]=g;return c};return{name:"TNET",$:{TNET:{stringify:function(a){var c,b,g;g=function(){switch(Object.Type(a)){case "number":return[""+a,"#"];case "string":return[a,"'"];case "function":return[""+a,"'"];case "boolean":return[""+!!a,"!"];case "null":return["","~"];case "undefined":return["","~"];case "array":return[function(){var c,g,d;d=[];c=0;for(g=a.length;c<g;c++)b=a[c],d.push(f.TNET.stringify(b));return d}().join(""),"]"];case "object":return[function(){var c;c=[];for(b in a)c.push(f.TNET.stringify(b)+
f.TNET.stringify(a[b]));return c}().join(""),"}"]}}();c=g[0];return(c.length|0)+":"+c+g[1]},parse:function(a){var c;return null!=(c=d(a))?c[0]:void 0}}}}})})(Bling);
(function(f){return f.plugin(function(){var i,e,d,a,c,b;e=function(a,c){var b,c=Object.Extend({autoOpen:!1,draggable:!0},c);b=f(a).addClass("dialog");c.draggable&&b.draggable();c.autoOpen&&b.show().center();b.find("button.close, .close-button").bind("click touchstart",function(){b.hide();return!1});return b};d=function(a,c){var b,d,e,n,k,c=Object.Extend({handleCSS:{}},c);c.handleCSS=Object.Extend({position:"absolute",top:"0px",left:"0px",width:"100%",height:"6px"},c.handleCSS);b=f(a);e=!1;n=k=0;d=
f.synth("div.handle").defaultCss({background:"-webkit-gradient(linear, 50% 0%, 50% 100%, from(#eee), color-stop(0.25, #bbb), color-stop(0.3, #eee), color-stop(0.5, #eee), to(#bbb))",height:"6px","border-radius":"3px",cursor:"move"}.css(c.handleCSS.bind("mousedown, touchstart",function(a){e=!0;n||(n=a.pageX);k||(k=a.pageY);return!1})));f(document.bind("mousemove, touchmove",function(a){var c;if(e)return c=a.pageX-n,a=a.pageY-k,b.transform({translate:[c,a]},0).trigger("drag",{dragObject:b}),!1})).bind("mouseup, touchend",
function(){var a;if(e)return e=!1,a=d.position()[0],f(document.elementFromPoint(a.left,a.top-1).trigger("drop",{dropObject:b}))});return b.addClass("draggable").css({position:"relative","padding-top":b.css("padding-top").map(Number.AtLeast(parseInt(c.handleCSS.height,10))).px().first()}.append(d))};a=function(a,c){var b,d,e,n,c=Object.Extend({change:Function.Empty,backgroundColor:"#fff",barColor:"rgba(0,128,0,0.5)",textColor:"white",reset:!1},c);b=f(a).addClass("progress-bar");n=0;c.reset&&(d=b.css("background").first(),
e=b.css("color").first());return b.zap("updateProgress",function(a){for(;1<a;)a/=100;n=a;1===a&&c.reset?b.css("background",d).css("color",e):b.css({background:"-webkit-gradient(linear, 0 0, "+parseInt(100*a)+"% 0, color-stop(0, "+c.barColor+"), color-stop(0.98, "+c.barColor+"), color-stop(1.0, "+c.backgroundColor+"))",color:c.textColor});if(Object.IsFunc(c.change))return c.change(n)})};i=function(a,c){var b,d,c=Object.Extend({exclusive:!1,sticky:!1},c);d=f(a).addClass("accordion");b=function(a){var b,
g,h,a=f(a).children().first().filter("*");if(2!==a.len())throw Exception("accordion row requires 2 elements, not "+a.len());h=a.eq(0).addClass("title");b=a.eq(1).addClass("body").hide();g=!1;return h.click(function(){c.exclusive&&d.find(".body").hide();if(g){if(c.sticky)return b.show().addClass("visible"),h.addClass("selected").trigger("select"),g=!0;b.hide().removeClass("visible");h.removeClass("selected").trigger("deselect");return g=!1}b.show().addClass("visible");h.addClass("selected").trigger("select");
return g=!0})};d.bind("DOMNodeInserted",function(a){var c;c=d.children().first().filter("*");a=f(a.target).parents().first();return b(a.intersect(c))});d.children().first().filter("*").map(b);return d};b=function(a){var c,b,d;b=f(a).css({position:"relative",top:"0px",left:"0px"}.hide().map(f));c=0;b[c].show();b.next=function(){b[c].hide();c=++c%nn;return b[c].show()};b.activate=function(a){b[c].hide();c=a;return b[a].show()};a=0;for(d=b.len();0<=d?a<d:a>d;0<=d?a++:a--)b[a].zap("_viewIndex",a.zap("activate",
function(){return b.activate(this._viewIndex)}));return b};c=function(a,c){var b,d,e;e=f(a);c=f(c).viewStack();d=e.len();for(b=0;0<=d?b<=d:b>=d;0<=d?b++:b--)e._tabIndex=b;f(e[0]).addClass("active");return e.click(function(){e.removeClass("active");c.activate(this._tabIndex);return f(this).addClass("active")})};return{name:"UI",$:{UI:{Draggable:d,ProgressBar:a,ViewStack:b,Tabs:c,Accordion:i}},dialog:function(a){return e(this,a)},progressBar:function(c){return a(this,c)},viewStack:function(a){return b(this,
a)},tabs:function(a){return c(this,a)},accordion:function(a){return i(this,a)},draggable:function(a){return d(this,a)}}})})(Bling);
(function(f){return f.plugin(function(){var i,e,d,a,c,b,g,j,h,l,r,n,k,o,m,s;r=/!==|!=|!|\#|\%|\%=|\&|\&\&|\&\&=|&=|\*|\*=|\+|\+=|-|-=|->|\.{1,3}|\/|\/=|:|::|;|<<=|<<|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\?|@|\[|\]|}|{|\^|\^=|\^\^|\^\^=|\|=|\|\|=|\|\||\||~/g;h=/\b[Ff]unction\b|\bvar\b|\.prototype\b|\.__proto__\b|\bString\b|\bArray\b|\bNumber\b|\bObject\b|\bbreak\b|\bcase\b|\bcontinue\b|\bdelete\b|\bdo\b|\bif\b|\belse\b|\bfinally\b|\binstanceof\b|\breturn\b|\bthrow\b|\btry\b|\btypeof\b|\btrue\b|\bfalse\b/g;i=
/\d+\.*\d*/g;e=/\$(\(|\.)/g;s=/\t/g;k=/\/\/.*?(?:\n|$)/;l=/\/\*(?:.|\n)*?\*\//;a=function(a){return a?"<span class='com'>"+a+"</span>":""};n=function(a){return a?"<span class='str'>"+a+"</span>":""};b=function(a,c){var b,d;b=a.indexOf('"',c);d=a.indexOf("'",c);-1===b&&(b=a.length);-1===d&&(d=a.length);return b===d?[null,-1]:b<d?['"',b]:["'",d]};d=function(a,c,b){for(c=a.indexOf(b,c);"\\"===a.charAt(c-1)&&0<c&&c<a.length;)c=a.indexOf(b,c+1);return c};m=function(a){var c,g,j,h,e;c=0;j=a.length;e=[];
if(!Object.IsString(a))if(Object.IsFunction(a.toString))a=a.toString(),j=a.length;else throw TypeError("invalid string argument to split_quoted");for(;c<j;){h=b(a,c);g=h[1];if(-1===g){e.push(a.substring(c));break}e.push(a.substring(c,g));c=d(a,g+1,h[0]);if(-1===c)throw Error("unclosed quote: "+h[0]+" starting at "+g);e.push(a.substring(g,c+1));c+=1}return e};c=function(a){var c;c=a.match(k);a=a.match(l);return c===a?[-1,null]:null===c&&null!==a?[a.index,a[0]]:null!==c&&null===a?[c.index,c[0]]:a.index<
c.index?[a.index,a[0]]:[c.index,c[0]]};o=function(a){var b,d,g,j,h,e;h=[];b=0;for(g=a.length;b<g;)if(e=a.substring(b),j=c(e),d=j[0],-1<d)h.push(e.substring(0,d)),h.push(j[1]),b+=d+j[1].length;else{h.push(e);break}return h};g=function(a,c){return a.replace(r,"<span class='opr'>$&</span>").replace(i,"<span class='num'>$&</span>").replace(h,"<span class='kwd'>$&</span>").replace(e,"<span class='bln'>$$</span>$1").replace(s,"&nbsp;&nbsp;")+n(c)};j=function(c,b){return f(m(c)).fold(g).join("")+a(b)};return{name:"PrettyPrint",
$:{prettyPrint:function(a,c){var b,d;Object.IsFunction(a)&&(a=a.toString());if(!Object.IsString(a))throw TypeError("prettyPrint requires a function or string to format, not '"+Object.Type(a)+"'");if(0===f("style#prettyPrint").length){d="code.pp .bln { font-size: 17px; } ";c=Object.Extend({opr:"#880",str:"#008",com:"#080",kwd:"#088",num:"#808",bln:"#800"},c);for(b in c)d+="code.pp ."+b+" { color: "+c[b]+"; } ";f.synth("style#prettyPrint").text(d).appendTo("head")}return"<code class='pp'>"+f(o(a)).fold(j).join("")+
"</code>"}}}})})(Bling);
(function(){var f=Object.prototype.hasOwnProperty,i=function(e,d){function a(){this.constructor=e}for(var c in d)f.call(d,c)&&(e[c]=d[c]);a.prototype=d.prototype;e.prototype=new a;e.__super__=d.prototype;return e};(function(e){e.plugin(function(){return{name:"StateMachine",$:{StateMachine:function(){function d(a){this.reset();this.table=a;Object.defineProperty(this,"modeline",{get:this.table[this._mode]});Object.defineProperty(this,"mode",{set:function(a){var b;this._lastMode=this._mode;this._mode=
a;if(this._mode!==this._lastMode&&null!=this.modeline&&"enter"in this.modeline)for(b=this.modeline.enter.call(this);Object.IsFunction(b);)b=b.call(this);return a},get:function(){return this._mode}})}d.prototype.reset=function(){return this._lastMode=this._mode=null};d.prototype.GO=function(a){return function(){return this.mode=a}};d.GO=function(a){return function(){return this.mode=a}};d.prototype.run=function(a){var c,b,d,j,h,e;j=this.mode=0;for(h=a.length;j<h;j++){c=a[j];d=this.modeline;null==d?
b=null:c in d?b=d[c]:"def"in d&&(b=d.def);for(;Object.IsFunction(b);)b=b.call(this,c)}if(Object.IsFunction(null!=(e=this.modeline)?e.eof:void 0))b=this.modeline.eof.call(this);for(;Object.IsFunction(b);)b=b.call(this);this.reset();return this};return d}()}}});return e.plugin(function(){var d;d=function(){function a(){a.__super__.constructor.call(this,a.STATE_TABLE);this.fragment=this.parent=document.createDocumentFragment()}i(a,e.StateMachine);a.STATE_TABLE=[{enter:function(){this.tag=this.id=this.cls=
this.attr=this.val=this.text="";this.attrs={};return this.GO(1)}},{'"':a.GO(6),"'":a.GO(7),"#":a.GO(2),".":a.GO(3),"[":a.GO(4)," ":a.GO(9),"+":a.GO(11),",":a.GO(10),def:function(a){return this.tag+=a},eof:a.GO(13)},{".":a.GO(3),"[":a.GO(4)," ":a.GO(9),"+":a.GO(11),",":a.GO(10),def:function(a){return this.id+=a},eof:a.GO(13)},{enter:function(){if(0<this.cls.length)return this.cls+=" "},"#":a.GO(2),".":a.GO(3),"[":a.GO(4)," ":a.GO(9),"+":a.GO(11),",":a.GO(10),def:function(a){return this.cls+=a},eof:a.GO(13)},
{"=":a.GO(5),"]":function(){this.attrs[this.attr]=this.val;return this.GO(1)},def:function(a){return this.attr+=a},eof:a.GO(12)},{"]":function(){this.attrs[this.attr]=this.val;return this.GO(1)},def:function(a){return this.val+=a},eof:a.GO(12)},{'"':a.GO(8),def:function(a){return this.text+=a},eof:a.GO(12)},{"'":a.GO(8),def:function(a){return this.text+=a},eof:a.GO(12)},{enter:function(){this.emitText();return this.GO(0)}},{enter:function(){this.emitNode();return this.GO(0)}},{enter:function(){this.emitNode();
this.parent=null;return this.GO(0)}},{enter:function(){var a;this.emitNode();this.parent=null!=(a=this.parent)?a.parentNode:void 0;return this.GO(0)}},{enter:function(){return e.log("Error in synth expression: "+this.input)}},{enter:function(){this.tag.length&&this.emitNode();if(this.text.length)return this.emitText()}}];a.prototype.emitNode=function(){var a,b;b=document.createElement(this.tag);b.id=this.id||null;b.className=this.cls||null;for(a in this.attrs)b.setAttribute(a,this.attrs[a]);this.parent.appendChild(b);
return this.parent=b};a.prototype.emitText=function(){this.parent.appendChild(e.HTML.parse(this.text));return this.text=""};return a}();return{name:"Synth",$:{synth:function(a){var c;c=new d;c.run(a);return 1===c.fragment.childNodes.length?e(c.fragment.childNodes[0]):e(c.fragment)}}}})})(Bling)}).call(this);
(function(){var f=Object.prototype.hasOwnProperty,i=function(e,d){function a(){this.constructor=e}for(var c in d)f.call(d,c)&&(e[c]=d[c]);a.prototype=d.prototype;e.prototype=new a;e.__super__=d.prototype;return e};(function(e){var d,a;d={};e.plugin(function(){var a,b;a=null;d={};b={register_engine:function(b,j){d[b]=j;if(null==a)return a=b},render:function(b,j){if(a in d)return d[a](b,j)}};b.__defineSetter__("engine",function(b){if(!b in d)throw Error("invalid template engine: "+b+" not one of "+
Object.Keys(d));return a=b});b.__defineGetter__("engine",function(){return a});return{name:"Template",$:{template:b}}});e.template.register_engine("null",function(){return function(a){return a}}());a=function(a,b,d,j,h){var e,f,n;null==h&&(h=-1);e=1;0>h&&(h=a.length+1+h);for(f=j;j<=h?f<h:f>h;j<=h?f++:f--)if(n=a[f],n===d?e+=1:n===b&&(e-=1),0===e)return f;return-1};e.template.register_engine("pythonic",function(){var c,b,d;d=/([0-9#0+-]*)\.*([0-9#+-]*)([diouxXeEfFgGcrsqm])((?:.|\n)*)/;c=/%[\(\/]/;b=
function(b){var h,e,f,n,k,o,i,b=b.split(c);k=b.length;i=[b[0]];for(e=f=1;1<=k?e<k:e>k;1<=k?e++:e--){h=a(b[e],")","(",0,-1);if(-1===h)return"Template syntax error: unmatched '%(' starting at: "+b[e].substring(0,15);n=b[e].substring(0,h);o=b[e].substring(h);h=d.exec(o);if(null===h)return"Template syntax error: invalid type specifier starting at '"+o+"'";o=h[4];i[f++]=n;i[f++]=h[1]|0;i[f++]=h[2]|0;i[f++]=h[3];i[f++]=o}return i};b.cache={};return function(a,c){var d,g,e,f,o,i,s,p,t,q,u;d=b.cache[a];null==
d&&(d=b.cache[a]=b(a));i=[d[0]];f=1;g=d.length;e=1;for(u=g-5;e<=u;e+=5){p=d.slice(e,e+4+1||9E9);o=p[0];s=p[1];g=p[2];t=p[3];p=p[4];q=c[o];null==q&&(q="missing value: "+o);switch(t){case "d":i[f++]=""+parseInt(q,10);break;case "f":i[f++]=parseFloat(q).toFixed(g);break;case "s":i[f++]=""+q;break;default:i[f++]=""+q}0<s&&(i[f]=String.PadLeft(i[f],s));i[f++]=p}return i.join("")}}());return e.template.register_engine("js-eval",function(){(function(){function a(){a.__super__.constructor.apply(this,arguments)}
i(a,e.StateMachine);a.STATE_TABLE=[{enter:function(){this.data=[];return this.GO(1)}},{}];return a})();return function(a){return a}}())})(Bling)}).call(this);
(function(f){return f.plugin(function(){var i,e,d;d=function(a){var c,b,d,j;c=a.indexOf(":");if(0<c)return d=parseInt(a.slice(0,c),10),b=a.slice(c+1,c+1+d),j=a[c+1+d],a=a.slice(c+d+2),b=function(){switch(j){case "#":return Number(b);case "'":return""+b;case "!":return"true"===b;case "~":return null;case "]":return i(b);case "}":return e(b)}}(),[b,a]};i=function(a){var c,b;for(c=[];0<a.length;)a=d(a),b=a[0],a=a[1],c.push(b);return c};e=function(a){var c,b,g;for(c={};0<a.length;)g=d(a),b=g[0],a=g[1],
a=d(a),g=a[0],a=a[1],c[b]=g;return c};return{name:"TNET",$:{TNET:{stringify:function(a){var c,b,d;d=function(){switch(Object.Type(a)){case "number":return[""+a,"#"];case "string":return[a,"'"];case "function":return[""+a,"'"];case "boolean":return[""+!!a,"!"];case "null":return["","~"];case "undefined":return["","~"];case "array":return[function(){var c,d,g;g=[];c=0;for(d=a.length;c<d;c++)b=a[c],g.push(f.TNET.stringify(b));return g}().join(""),"]"];case "object":return[function(){var c;c=[];for(b in a)c.push(f.TNET.stringify(b)+
f.TNET.stringify(a[b]));return c}().join(""),"}"]}}();c=d[0];return(c.length|0)+":"+c+d[1]},parse:function(a){var c;return null!=(c=d(a))?c[0]:void 0}}}}})})(Bling);
(function(f){return f.plugin(function(){var i,e,d,a,c,b;e=function(a,c){var b,c=Object.Extend({autoOpen:!1,draggable:!0},c);b=f(a).addClass("dialog");c.draggable&&b.draggable();c.autoOpen&&b.show().center();b.find("button.close, .close-button").bind("click touchstart",function(){b.hide();return!1});return b};d=function(a,c){var b,d,e,i,k,c=Object.Extend({handleCSS:{}},c);c.handleCSS=Object.Extend({position:"absolute",top:"0px",left:"0px",width:"100%",height:"6px"},c.handleCSS);b=f(a);e=!1;i=k=0;d=
f.synth("div.handle").defaultCss({background:"-webkit-gradient(linear, 50% 0%, 50% 100%, from(#eee), color-stop(0.25, #bbb), color-stop(0.3, #eee), color-stop(0.5, #eee), to(#bbb))",height:"6px","border-radius":"3px",cursor:"move"}.css(c.handleCSS.bind("mousedown, touchstart",function(a){e=!0;i||(i=a.pageX);k||(k=a.pageY);return!1})));f(document.bind("mousemove, touchmove",function(a){var c;if(e)return c=a.pageX-i,a=a.pageY-k,b.transform({translate:[c,a]},0).trigger("drag",{dragObject:b}),!1})).bind("mouseup, touchend",
function(){var a;if(e)return e=!1,a=d.position()[0],f(document.elementFromPoint(a.left,a.top-1).trigger("drop",{dropObject:b}))});return b.addClass("draggable").css({position:"relative","padding-top":b.css("padding-top").map(Number.AtLeast(parseInt(c.handleCSS.height,10))).px().first()}.append(d))};a=function(a,c){var b,d,e,i,c=Object.Extend({change:Function.Empty,backgroundColor:"#fff",barColor:"rgba(0,128,0,0.5)",textColor:"white",reset:!1},c);b=f(a).addClass("progress-bar");i=0;c.reset&&(d=b.css("background").first(),
e=b.css("color").first());return b.zap("updateProgress",function(a){for(;1<a;)a/=100;i=a;1===a&&c.reset?b.css("background",d).css("color",e):b.css({background:"-webkit-gradient(linear, 0 0, "+parseInt(100*a)+"% 0, color-stop(0, "+c.barColor+"), color-stop(0.98, "+c.barColor+"), color-stop(1.0, "+c.backgroundColor+"))",color:c.textColor});if(Object.IsFunc(c.change))return c.change(i)})};i=function(a,c){var b,d,c=Object.Extend({exclusive:!1,sticky:!1},c);d=f(a).addClass("accordion");b=function(a){var b,
e,g,a=f(a).children().first().filter("*");if(2!==a.len())throw Exception("accordion row requires 2 elements, not "+a.len());g=a.eq(0).addClass("title");b=a.eq(1).addClass("body").hide();e=!1;return g.click(function(){c.exclusive&&d.find(".body").hide();if(e){if(c.sticky)return b.show().addClass("visible"),g.addClass("selected").trigger("select"),e=!0;b.hide().removeClass("visible");g.removeClass("selected").trigger("deselect");return e=!1}b.show().addClass("visible");g.addClass("selected").trigger("select");
return e=!0})};d.bind("DOMNodeInserted",function(a){var c;c=d.children().first().filter("*");a=f(a.target).parents().first();return b(a.intersect(c))});d.children().first().filter("*").map(b);return d};b=function(a){var c,b,d;b=f(a).css({position:"relative",top:"0px",left:"0px"}.hide().map(f));c=0;b[c].show();b.next=function(){b[c].hide();c=++c%nn;return b[c].show()};b.activate=function(a){b[c].hide();c=a;return b[a].show()};a=0;for(d=b.len();0<=d?a<d:a>d;0<=d?a++:a--)b[a].zap("_viewIndex",a.zap("activate",
function(){return b.activate(this._viewIndex)}));return b};c=function(a,c){var b,d,e;e=f(a);c=f(c).viewStack();d=e.len();for(b=0;0<=d?b<=d:b>=d;0<=d?b++:b--)e._tabIndex=b;f(e[0]).addClass("active");return e.click(function(){e.removeClass("active");c.activate(this._tabIndex);return f(this).addClass("active")})};return{name:"UI",$:{UI:{Draggable:d,ProgressBar:a,ViewStack:b,Tabs:c,Accordion:i}},dialog:function(a){return e(this,a)},progressBar:function(c){return a(this,c)},viewStack:function(a){return b(this,
a)},tabs:function(a){return c(this,a)},accordion:function(a){return i(this,a)},draggable:function(a){return d(this,a)}}})})(Bling);
(function(){var f=Array.prototype.slice;$.plugin(function(){var i,e,d,a,c,b,g,j,h,l,r,n;j="px,pt,pc,em,%,in,cm,mm,ex".split(",");i=/(\d+\.*\d*)(px|pt|pc|em|%|in|cm|mm|ex)/;b=function(a){return i.exec(a)[2](i.test(a)?void 0:"")};a=function(c,b){return a[c][b]()};g=function(a){return function(){return a}};h=0;for(r=j.length;h<r;h++){e=j[h];l=0;for(n=j.length;l<n;l++)d=j[l],(a[e]||(a[e]={}))[d]=g(+(e===d||""===e||""===d))}a["in"].pt=function(){return 72};a["in"].px=function(){return 96};a["in"].cm=function(){return 2.54};
a.pc.pt=function(){return 12};a.cm.mm=function(){return 10};a.em.px=function(){var a,c;c=$("<span style='font-size:1em;visibility:hidden'>x</span>").appendTo("body");a=c.width().first();c.remove();return a};a.ex.px=function(){var a,c;c=$("<span style='font-size:1ex;visibility:hidden'>x</span>").appendTo("body");a=c.width().first();c.remove();return a};a.ex.em=function(){return 2};e=function(){var c,b,d,e,h,f;f=[];e=0;for(h=j.length;e<h;e++)c=j[e],f.push(function(){var e,h,f;f=[];e=0;for(h=j.length;e<
h;e++)b=j[e],!a(c,b)&&a(b,c)&&(console.log("found inverse: "+c+"."+b),a[c][b]=g(1/a(b,c))),f.push(function(){var e,h,f;f=[];h=0;for(e=j.length;h<e;h++)d=j[h],!a(c,d)&&a(c,b)&&a(b,d)?(console.log("found induction: "+c+"."+d),f.push(a[c][d]=g(a(c,b)*a(b,d)))):f.push(void 0);return f}());return f}());return f};e();e();$.assert("10cm"===parseFloat("300px")*a[b("300px")].cm()+"cm");c=function(a,c){var b,d,e;e=[];b=0;for(d=c.length;0<=d?b<d:b>d;0<=d?b++:b--)e.push(c[b]=convertTo(a,c[b]));return e};Object.Type.register("units",
{match:function(a){return i.test(a)}});e=function(a){return function(){var d,e;d=1<=arguments.length?f.call(arguments,0):[];c(e=b(this[0]),this);return a.apply(this,d)+e}};return{min:e(function(){return this.reduce(function(a){return Math.min(parseFloat(this),a)})}),max:e(function(){return this.reduce(function(a){return Math.max(parseFloat(this),a)})}),sum:e(function(){return this.reduce(function(a){return parseFloat(this)+a})}),mean:e(function(){return parseFloat(this.sum())/this.length}),magnitude:e(function(){return Math.sqrt(this.floats().squares().sum())}),
squares:function(){return this.map(function(){var a;return(a=parseFloat(this))*a})},scale:function(a){return this.map(function(){return a*parseFloat(this)})},add:function(a){return this.map(function(){return a+this})},normalize:function(){return this.scale(1/this.magnitude())}}})}).call(this);
$.plugin(function(){var f,i,e,d;f=function(){return"EOF"};for(d=0;1E3>d;d++)i=d;e=0;return function(a){a=extend({item:function(){return f},action:Function.Identity,latency:10},a);return extend(new $.EventEmitter,{run:function(){var c,b=this;c=function(){var d;if((d=a.action(a.item()))!==f)return b.emit("data",d),setTimeout(c,a.latency)};return setTimeout(c,a.latency)}})}({item:function(){return i[e++](e<i.length?void 0:f)},action:function(a){return a*a-1},latency:10}).on("data",function(a){return console.log("data:",
a.on("error",function(a){return console.log("error:",a.run())}))})});
(function(f){return f.plugin(function(){var i,e,d,a;e={};d=function(a,b){return e[a]=b};i=function(){return e[obj.t]};a=[];Object.Type.extend(null,{compact:function(a){return Object.String(a)}});Object.Type.extend("undefined",{compact:function(){return""}});Object.Type.extend("null",{compact:function(){return""}});Object.Type.extend("string",{compact:Function.Identity});Object.Type.extend("array",{compact:function(a){var b,d,e,h;h=[];d=0;for(e=a.length;d<e;d++)b=a[d],h.push(Object.Compact(b));return h.join("")}});
Object.Type.extend("bling",{compact:function(a){return a.map(Object.Compact).join("")}});Object.Type.extend("object",{compact:function(a){var b;return Object.Compact(null!=(b=i(a))?b.call(a,a):void 0)}});Object.Compact=function(c){var b;a.push(c);null!=(b=Object.Type.lookup(c))&&b.compact(c);return a.pop()};Object.Extend(Object.Compact,{register:d,lookup:i});d("page",function(){return["<!DOCTYPE html><html><head>",this.head,"</head><body>",this.body,"</body></html>"]});d("text",function(){return this.EN});
d("link",function(){var a,b,d,e,h;a=f(["<a"]);h=["href","name","target"];d=0;for(e=h.length;d<e;d++)b=h[d],b in this&&a.extend(" ",b,"='",this[b],"'");return a.extend(">",node.content,"</a>")});f.assert("<!DOCTYPE html><html><head></head><body>Hello World</body></html>"===Object.Compact({t:"page",head:[],body:{type:"text",EN:"Hello World"}}));return{name:"Compact"}})})(Bling);
(function(f){return f.plugin(function(){var i,e,d,a,c,b,g,j,h,l,r,n,k,o,m,s;r=/!==|!=|!|\#|\%|\%=|\&|\&\&|\&\&=|&=|\*|\*=|\+|\+=|-|-=|->|\.{1,3}|\/|\/=|:|::|;|<<=|<<|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\?|@|\[|\]|}|{|\^|\^=|\^\^|\^\^=|\|=|\|\|=|\|\||\||~/g;h=/\b[Ff]unction\b|\bvar\b|\.prototype\b|\.__proto__\b|\bString\b|\bArray\b|\bNumber\b|\bObject\b|\bbreak\b|\bcase\b|\bcontinue\b|\bdelete\b|\bdo\b|\bif\b|\belse\b|\bfinally\b|\binstanceof\b|\breturn\b|\bthrow\b|\btry\b|\btypeof\b|\btrue\b|\bfalse\b/g;
i=/\d+\.*\d*/g;e=/\$(\(|\.)/g;s=/\t/g;k=/\/\/.*?(?:\n|$)/;l=/\/\*(?:.|\n)*?\*\//;a=function(a){return a?"<span class='com'>"+a+"</span>":""};n=function(a){return a?"<span class='str'>"+a+"</span>":""};b=function(a,c){var b,d;b=a.indexOf('"',c);d=a.indexOf("'",c);-1===b&&(b=a.length);-1===d&&(d=a.length);return b===d?[null,-1]:b<d?['"',b]:["'",d]};d=function(a,c,b){for(c=a.indexOf(b,c);"\\"===a.charAt(c-1)&&0<c&&c<a.length;)c=a.indexOf(b,c+1);return c};m=function(a){var c,e,g,j,h;c=0;g=a.length;h=
[];if(!Object.IsString(a))if(Object.IsFunction(a.toString))a=a.toString(),g=a.length;else throw TypeError("invalid string argument to split_quoted");for(;c<g;){j=b(a,c);e=j[1];if(-1===e){h.push(a.substring(c));break}h.push(a.substring(c,e));c=d(a,e+1,j[0]);if(-1===c)throw Error("unclosed quote: "+j[0]+" starting at "+e);h.push(a.substring(e,c+1));c+=1}return h};c=function(a){var c;c=a.match(k);a=a.match(l);return c===a?[-1,null]:null===c&&null!==a?[a.index,a[0]]:null!==c&&null===a?[c.index,c[0]]:
a.index<c.index?[a.index,a[0]]:[c.index,c[0]]};o=function(a){var b,d,e,g,j,h;j=[];b=0;for(e=a.length;b<e;)if(h=a.substring(b),g=c(h),d=g[0],-1<d)j.push(h.substring(0,d)),j.push(g[1]),b+=d+g[1].length;else{j.push(h);break}return j};g=function(a,c){return a.replace(r,"<span class='opr'>$&</span>").replace(i,"<span class='num'>$&</span>").replace(h,"<span class='kwd'>$&</span>").replace(e,"<span class='bln'>$$</span>$1").replace(s,"&nbsp;&nbsp;")+n(c)};j=function(c,b){return f(m(c)).fold(g).join("")+
a(b)};return{name:"PrettyPrint",$:{prettyPrint:function(a,c){var b,d;Object.IsFunction(a)&&(a=a.toString());if(!Object.IsString(a))throw TypeError("prettyPrint requires a function or string to format, not '"+Object.Type(a)+"'");if(0===f("style#prettyPrint").length){d="code.pp .bln { font-size: 17px; } ";c=Object.Extend({opr:"#880",str:"#008",com:"#080",kwd:"#088",num:"#808",bln:"#800"},c);for(b in c)d+="code.pp ."+b+" { color: "+c[b]+"; } ";f.synth("style#prettyPrint").text(d).appendTo("head")}return"<code class='pp'>"+
f(o(a)).fold(j).join("")+"</code>"}}}})})(Bling);
(function(){var f=Object.prototype.hasOwnProperty,i=function(e,d){function a(){this.constructor=e}for(var c in d)f.call(d,c)&&(e[c]=d[c]);a.prototype=d.prototype;e.prototype=new a;e.__super__=d.prototype;return e};(function(e){e.plugin(function(){return{name:"StateMachine",$:{StateMachine:function(){function d(a){this.reset();this.table=a;Object.defineProperty(this,"modeline",{get:this.table[this._mode]});Object.defineProperty(this,"mode",{set:function(a){var b;this._lastMode=this._mode;this._mode=
a;if(this._mode!==this._lastMode&&null!=this.modeline&&"enter"in this.modeline)for(b=this.modeline.enter.call(this);Object.IsFunction(b);)b=b.call(this);return a},get:function(){return this._mode}})}d.prototype.reset=function(){return this._lastMode=this._mode=null};d.prototype.GO=function(a){return function(){return this.mode=a}};d.GO=function(a){return function(){return this.mode=a}};d.prototype.run=function(a){var c,b,d,e,h,f;e=this.mode=0;for(h=a.length;e<h;e++){c=a[e];d=this.modeline;null==d?
b=null:c in d?b=d[c]:"def"in d&&(b=d.def);for(;Object.IsFunction(b);)b=b.call(this,c)}if(Object.IsFunction(null!=(f=this.modeline)?f.eof:void 0))b=this.modeline.eof.call(this);for(;Object.IsFunction(b);)b=b.call(this);this.reset();return this};return d}()}}});return e.plugin(function(){var d;d=function(){function a(){a.__super__.constructor.call(this,a.STATE_TABLE);this.fragment=this.parent=document.createDocumentFragment()}i(a,e.StateMachine);a.STATE_TABLE=[{enter:function(){this.tag=this.id=this.cls=
this.attr=this.val=this.text="";this.attrs={};return this.GO(1)}},{'"':a.GO(6),"'":a.GO(7),"#":a.GO(2),".":a.GO(3),"[":a.GO(4)," ":a.GO(9),"+":a.GO(11),",":a.GO(10),def:function(a){return this.tag+=a},eof:a.GO(13)},{".":a.GO(3),"[":a.GO(4)," ":a.GO(9),"+":a.GO(11),",":a.GO(10),def:function(a){return this.id+=a},eof:a.GO(13)},{enter:function(){if(0<this.cls.length)return this.cls+=" "},"#":a.GO(2),".":a.GO(3),"[":a.GO(4)," ":a.GO(9),"+":a.GO(11),",":a.GO(10),def:function(a){return this.cls+=a},eof:a.GO(13)},
{"=":a.GO(5),"]":function(){this.attrs[this.attr]=this.val;return this.GO(1)},def:function(a){return this.attr+=a},eof:a.GO(12)},{"]":function(){this.attrs[this.attr]=this.val;return this.GO(1)},def:function(a){return this.val+=a},eof:a.GO(12)},{'"':a.GO(8),def:function(a){return this.text+=a},eof:a.GO(12)},{"'":a.GO(8),def:function(a){return this.text+=a},eof:a.GO(12)},{enter:function(){this.emitText();return this.GO(0)}},{enter:function(){this.emitNode();return this.GO(0)}},{enter:function(){this.emitNode();
this.parent=null;return this.GO(0)}},{enter:function(){var a;this.emitNode();this.parent=null!=(a=this.parent)?a.parentNode:void 0;return this.GO(0)}},{enter:function(){return e.log("Error in synth expression: "+this.input)}},{enter:function(){this.tag.length&&this.emitNode();if(this.text.length)return this.emitText()}}];a.prototype.emitNode=function(){var a,b;b=document.createElement(this.tag);b.id=this.id||null;b.className=this.cls||null;for(a in this.attrs)b.setAttribute(a,this.attrs[a]);this.parent.appendChild(b);
return this.parent=b};a.prototype.emitText=function(){this.parent.appendChild(e.HTML.parse(this.text));return this.text=""};return a}();return{name:"Synth",$:{synth:function(a){var c;c=new d;c.run(a);return 1===c.fragment.childNodes.length?e(c.fragment.childNodes[0]):e(c.fragment)}}}})})(Bling)}).call(this);
(function(){var f=Object.prototype.hasOwnProperty,i=function(e,d){function a(){this.constructor=e}for(var c in d)f.call(d,c)&&(e[c]=d[c]);a.prototype=d.prototype;e.prototype=new a;e.__super__=d.prototype;return e};(function(e){var d,a;d={};e.plugin(function(){var a,b;a=null;d={};b={register_engine:function(b,e){d[b]=e;if(null==a)return a=b},render:function(b,e){if(a in d)return d[a](b,e)}};b.__defineSetter__("engine",function(b){if(!b in d)throw Error("invalid template engine: "+b+" not one of "+
Object.Keys(d));return a=b});b.__defineGetter__("engine",function(){return a});return{name:"Template",$:{template:b}}});e.template.register_engine("null",function(){return function(a){return a}}());a=function(a,b,d,e,h){var f,i,n;null==h&&(h=-1);f=1;0>h&&(h=a.length+1+h);for(i=e;e<=h?i<h:i>h;e<=h?i++:i--)if(n=a[i],n===d?f+=1:n===b&&(f-=1),0===f)return i;return-1};e.template.register_engine("pythonic",function(){var c,b,d;d=/([0-9#0+-]*)\.*([0-9#+-]*)([diouxXeEfFgGcrsqm])((?:.|\n)*)/;c=/%[\(\/]/;b=
function(b){var e,f,i,n,k,o,m,b=b.split(c);k=b.length;m=[b[0]];for(f=i=1;1<=k?f<k:f>k;1<=k?f++:f--){e=a(b[f],")","(",0,-1);if(-1===e)return"Template syntax error: unmatched '%(' starting at: "+b[f].substring(0,15);n=b[f].substring(0,e);o=b[f].substring(e);e=d.exec(o);if(null===e)return"Template syntax error: invalid type specifier starting at '"+o+"'";o=e[4];m[i++]=n;m[i++]=e[1]|0;m[i++]=e[2]|0;m[i++]=e[3];m[i++]=o}return m};b.cache={};return function(a,c){var d,e,g,f,i,m,s,p,t,q,u;d=b.cache[a];null==
d&&(d=b.cache[a]=b(a));m=[d[0]];f=1;e=d.length;g=1;for(u=e-5;g<=u;g+=5){p=d.slice(g,g+4+1||9E9);i=p[0];s=p[1];e=p[2];t=p[3];p=p[4];q=c[i];null==q&&(q="missing value: "+i);switch(t){case "d":m[f++]=""+parseInt(q,10);break;case "f":m[f++]=parseFloat(q).toFixed(e);break;case "s":m[f++]=""+q;break;default:m[f++]=""+q}0<s&&(m[f]=String.PadLeft(m[f],s));m[f++]=p}return m.join("")}}());return e.template.register_engine("js-eval",function(){(function(){function a(){a.__super__.constructor.apply(this,arguments)}
i(a,e.StateMachine);a.STATE_TABLE=[{enter:function(){this.data=[];return this.GO(1)}},{}];return a})();return function(a){return a}}())})(Bling)}).call(this);
(function(f){return f.plugin(function(){var i,e,d;d=function(a){var c,b,d,j;c=a.indexOf(":");if(0<c)return d=parseInt(a.slice(0,c),10),b=a.slice(c+1,c+1+d),j=a[c+1+d],a=a.slice(c+d+2),b=function(){switch(j){case "#":return Number(b);case "'":return""+b;case "!":return"true"===b;case "~":return null;case "]":return i(b);case "}":return e(b)}}(),[b,a]};i=function(a){var c,b;for(c=[];0<a.length;)a=d(a),b=a[0],a=a[1],c.push(b);return c};e=function(a){var c,b,e;for(c={};0<a.length;)e=d(a),b=e[0],a=e[1],
a=d(a),e=a[0],a=a[1],c[b]=e;return c};return{name:"TNET",$:{TNET:{stringify:function(a){var c,b,d;d=function(){switch(Object.Type(a)){case "number":return[""+a,"#"];case "string":return[a,"'"];case "function":return[""+a,"'"];case "boolean":return[""+!!a,"!"];case "null":return["","~"];case "undefined":return["","~"];case "array":return[function(){var c,d,e;e=[];c=0;for(d=a.length;c<d;c++)b=a[c],e.push(f.TNET.stringify(b));return e}().join(""),"]"];case "object":return[function(){var c;c=[];for(b in a)c.push(f.TNET.stringify(b)+
f.TNET.stringify(a[b]));return c}().join(""),"}"]}}();c=d[0];return(c.length|0)+":"+c+d[1]},parse:function(a){var c;return null!=(c=d(a))?c[0]:void 0}}}}})})(Bling);
(function(f){return f.plugin(function(){var i,e,d,a,c,b;e=function(a,b){var c,b=Object.Extend({autoOpen:!1,draggable:!0},b);c=f(a).addClass("dialog");b.draggable&&c.draggable();b.autoOpen&&c.show().center();c.find("button.close, .close-button").bind("click touchstart",function(){c.hide();return!1});return c};d=function(a,b){var c,d,e,i,k,b=Object.Extend({handleCSS:{}},b);b.handleCSS=Object.Extend({position:"absolute",top:"0px",left:"0px",width:"100%",height:"6px"},b.handleCSS);c=f(a);e=!1;i=k=0;d=
f.synth("div.handle").defaultCss({background:"-webkit-gradient(linear, 50% 0%, 50% 100%, from(#eee), color-stop(0.25, #bbb), color-stop(0.3, #eee), color-stop(0.5, #eee), to(#bbb))",height:"6px","border-radius":"3px",cursor:"move"}.css(b.handleCSS.bind("mousedown, touchstart",function(a){e=!0;i||(i=a.pageX);k||(k=a.pageY);return!1})));f(document.bind("mousemove, touchmove",function(a){var b;if(e)return b=a.pageX-i,a=a.pageY-k,c.transform({translate:[b,a]},0).trigger("drag",{dragObject:c}),!1})).bind("mouseup, touchend",
function(){var a;if(e)return e=!1,a=d.position()[0],f(document.elementFromPoint(a.left,a.top-1).trigger("drop",{dropObject:c}))});return c.addClass("draggable").css({position:"relative","padding-top":c.css("padding-top").map(Number.AtLeast(parseInt(b.handleCSS.height,10))).px().first()}.append(d))};a=function(a,b){var c,d,e,i,b=Object.Extend({change:Function.Empty,backgroundColor:"#fff",barColor:"rgba(0,128,0,0.5)",textColor:"white",reset:!1},b);c=f(a).addClass("progress-bar");i=0;b.reset&&(d=c.css("background").first(),
e=c.css("color").first());return c.zap("updateProgress",function(a){for(;1<a;)a/=100;i=a;1===a&&b.reset?c.css("background",d).css("color",e):c.css({background:"-webkit-gradient(linear, 0 0, "+parseInt(100*a)+"% 0, color-stop(0, "+b.barColor+"), color-stop(0.98, "+b.barColor+"), color-stop(1.0, "+b.backgroundColor+"))",color:b.textColor});if(Object.IsFunc(b.change))return b.change(i)})};i=function(a,b){var c,d,b=Object.Extend({exclusive:!1,sticky:!1},b);d=f(a).addClass("accordion");c=function(a){var c,
e,g,a=f(a).children().first().filter("*");if(2!==a.len())throw Exception("accordion row requires 2 elements, not "+a.len());g=a.eq(0).addClass("title");c=a.eq(1).addClass("body").hide();e=!1;return g.click(function(){b.exclusive&&d.find(".body").hide();if(e){if(b.sticky)return c.show().addClass("visible"),g.addClass("selected").trigger("select"),e=!0;c.hide().removeClass("visible");g.removeClass("selected").trigger("deselect");return e=!1}c.show().addClass("visible");g.addClass("selected").trigger("select");
return e=!0})};d.bind("DOMNodeInserted",function(a){var b;b=d.children().first().filter("*");a=f(a.target).parents().first();return c(a.intersect(b))});d.children().first().filter("*").map(c);return d};b=function(a){var b,c,d;c=f(a).css({position:"relative",top:"0px",left:"0px"}.hide().map(f));b=0;c[b].show();c.next=function(){c[b].hide();b=++b%nn;return c[b].show()};c.activate=function(a){c[b].hide();b=a;return c[a].show()};a=0;for(d=c.len();0<=d?a<d:a>d;0<=d?a++:a--)c[a].zap("_viewIndex",a.zap("activate",
function(){return c.activate(this._viewIndex)}));return c};c=function(a,b){var c,d,e;e=f(a);b=f(b).viewStack();d=e.len();for(c=0;0<=d?c<=d:c>=d;0<=d?c++:c--)e._tabIndex=c;f(e[0]).addClass("active");return e.click(function(){e.removeClass("active");b.activate(this._tabIndex);return f(this).addClass("active")})};return{name:"UI",$:{UI:{Draggable:d,ProgressBar:a,ViewStack:b,Tabs:c,Accordion:i}},dialog:function(a){return e(this,a)},progressBar:function(b){return a(this,b)},viewStack:function(a){return b(this,
a)},tabs:function(a){return c(this,a)},accordion:function(a){return i(this,a)},draggable:function(a){return d(this,a)}}})})(Bling);
(function(f){return f.plugin(function(){var i,e,d,a,c,b,g,j,h,l,r,n,k,o,m,s;r=/!==|!=|!|\#|\%|\%=|\&|\&\&|\&\&=|&=|\*|\*=|\+|\+=|-|-=|->|\.{1,3}|\/|\/=|:|::|;|<<=|<<|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\?|@|\[|\]|}|{|\^|\^=|\^\^|\^\^=|\|=|\|\|=|\|\||\||~/g;h=/\b[Ff]unction\b|\bvar\b|\.prototype\b|\.__proto__\b|\bString\b|\bArray\b|\bNumber\b|\bObject\b|\bbreak\b|\bcase\b|\bcontinue\b|\bdelete\b|\bdo\b|\bif\b|\belse\b|\bfinally\b|\binstanceof\b|\breturn\b|\bthrow\b|\btry\b|\btypeof\b|\btrue\b|\bfalse\b/g;i=
/\d+\.*\d*/g;e=/\$(\(|\.)/g;s=/\t/g;k=/\/\/.*?(?:\n|$)/;l=/\/\*(?:.|\n)*?\*\//;a=function(a){return a?"<span class='com'>"+a+"</span>":""};n=function(a){return a?"<span class='str'>"+a+"</span>":""};b=function(a,b){var c,d;c=a.indexOf('"',b);d=a.indexOf("'",b);-1===c&&(c=a.length);-1===d&&(d=a.length);return c===d?[null,-1]:c<d?['"',c]:["'",d]};d=function(a,b,c){for(b=a.indexOf(c,b);"\\"===a.charAt(b-1)&&0<b&&b<a.length;)b=a.indexOf(c,b+1);return b};m=function(a){var c,e,g,f,h;c=0;g=a.length;h=[];
if(!Object.IsString(a))if(Object.IsFunction(a.toString))a=a.toString(),g=a.length;else throw TypeError("invalid string argument to split_quoted");for(;c<g;){f=b(a,c);e=f[1];if(-1===e){h.push(a.substring(c));break}h.push(a.substring(c,e));c=d(a,e+1,f[0]);if(-1===c)throw Error("unclosed quote: "+f[0]+" starting at "+e);h.push(a.substring(e,c+1));c+=1}return h};c=function(a){var b;b=a.match(k);a=a.match(l);return b===a?[-1,null]:null===b&&null!==a?[a.index,a[0]]:null!==b&&null===a?[b.index,b[0]]:a.index<
b.index?[a.index,a[0]]:[b.index,b[0]]};o=function(a){var b,d,e,g,f,h;f=[];b=0;for(e=a.length;b<e;)if(h=a.substring(b),g=c(h),d=g[0],-1<d)f.push(h.substring(0,d)),f.push(g[1]),b+=d+g[1].length;else{f.push(h);break}return f};g=function(a,b){return a.replace(r,"<span class='opr'>$&</span>").replace(i,"<span class='num'>$&</span>").replace(h,"<span class='kwd'>$&</span>").replace(e,"<span class='bln'>$$</span>$1").replace(s,"&nbsp;&nbsp;")+n(b)};j=function(b,c){return f(m(b)).fold(g).join("")+a(c)};return{name:"PrettyPrint",
$:{prettyPrint:function(a,b){var c,d;Object.IsFunction(a)&&(a=a.toString());if(!Object.IsString(a))throw TypeError("prettyPrint requires a function or string to format, not '"+Object.Type(a)+"'");if(0===f("style#prettyPrint").length){d="code.pp .bln { font-size: 17px; } ";b=Object.Extend({opr:"#880",str:"#008",com:"#080",kwd:"#088",num:"#808",bln:"#800"},b);for(c in b)d+="code.pp ."+c+" { color: "+b[c]+"; } ";f.synth("style#prettyPrint").text(d).appendTo("head")}return"<code class='pp'>"+f(o(a)).fold(j).join("")+
"</code>"}}}})})(Bling);
(function(){var f=Object.prototype.hasOwnProperty,i=function(e,d){function a(){this.constructor=e}for(var c in d)f.call(d,c)&&(e[c]=d[c]);a.prototype=d.prototype;e.prototype=new a;e.__super__=d.prototype;return e};(function(e){e.plugin(function(){return{name:"StateMachine",$:{StateMachine:function(){function d(a){this.reset();this.table=a;Object.defineProperty(this,"modeline",{get:this.table[this._mode]});Object.defineProperty(this,"mode",{set:function(a){var b;this._lastMode=this._mode;this._mode=
a;if(this._mode!==this._lastMode&&null!=this.modeline&&"enter"in this.modeline)for(b=this.modeline.enter.call(this);Object.IsFunction(b);)b=b.call(this);return a},get:function(){return this._mode}})}d.prototype.reset=function(){return this._lastMode=this._mode=null};d.prototype.GO=function(a){return function(){return this.mode=a}};d.GO=function(a){return function(){return this.mode=a}};d.prototype.run=function(a){var c,b,d,e,f,i;e=this.mode=0;for(f=a.length;e<f;e++){c=a[e];d=this.modeline;null==d?
b=null:c in d?b=d[c]:"def"in d&&(b=d.def);for(;Object.IsFunction(b);)b=b.call(this,c)}if(Object.IsFunction(null!=(i=this.modeline)?i.eof:void 0))b=this.modeline.eof.call(this);for(;Object.IsFunction(b);)b=b.call(this);this.reset();return this};return d}()}}});return e.plugin(function(){var d;d=function(){function a(){a.__super__.constructor.call(this,a.STATE_TABLE);this.fragment=this.parent=document.createDocumentFragment()}i(a,e.StateMachine);a.STATE_TABLE=[{enter:function(){this.tag=this.id=this.cls=
this.attr=this.val=this.text="";this.attrs={};return this.GO(1)}},{'"':a.GO(6),"'":a.GO(7),"#":a.GO(2),".":a.GO(3),"[":a.GO(4)," ":a.GO(9),"+":a.GO(11),",":a.GO(10),def:function(a){return this.tag+=a},eof:a.GO(13)},{".":a.GO(3),"[":a.GO(4)," ":a.GO(9),"+":a.GO(11),",":a.GO(10),def:function(a){return this.id+=a},eof:a.GO(13)},{enter:function(){if(0<this.cls.length)return this.cls+=" "},"#":a.GO(2),".":a.GO(3),"[":a.GO(4)," ":a.GO(9),"+":a.GO(11),",":a.GO(10),def:function(a){return this.cls+=a},eof:a.GO(13)},
{"=":a.GO(5),"]":function(){this.attrs[this.attr]=this.val;return this.GO(1)},def:function(a){return this.attr+=a},eof:a.GO(12)},{"]":function(){this.attrs[this.attr]=this.val;return this.GO(1)},def:function(a){return this.val+=a},eof:a.GO(12)},{'"':a.GO(8),def:function(a){return this.text+=a},eof:a.GO(12)},{"'":a.GO(8),def:function(a){return this.text+=a},eof:a.GO(12)},{enter:function(){this.emitText();return this.GO(0)}},{enter:function(){this.emitNode();return this.GO(0)}},{enter:function(){this.emitNode();
this.parent=null;return this.GO(0)}},{enter:function(){var a;this.emitNode();this.parent=null!=(a=this.parent)?a.parentNode:void 0;return this.GO(0)}},{enter:function(){return e.log("Error in synth expression: "+this.input)}},{enter:function(){this.tag.length&&this.emitNode();if(this.text.length)return this.emitText()}}];a.prototype.emitNode=function(){var a,b;b=document.createElement(this.tag);b.id=this.id||null;b.className=this.cls||null;for(a in this.attrs)b.setAttribute(a,this.attrs[a]);this.parent.appendChild(b);
return this.parent=b};a.prototype.emitText=function(){this.parent.appendChild(e.HTML.parse(this.text));return this.text=""};return a}();return{name:"Synth",$:{synth:function(a){var c;c=new d;c.run(a);return 1===c.fragment.childNodes.length?e(c.fragment.childNodes[0]):e(c.fragment)}}}})})(Bling)}).call(this);
(function(){var f=Object.prototype.hasOwnProperty,i=function(e,d){function a(){this.constructor=e}for(var c in d)f.call(d,c)&&(e[c]=d[c]);a.prototype=d.prototype;e.prototype=new a;e.__super__=d.prototype;return e};(function(e){var d,a;d={};e.plugin(function(){var a,b;a=null;d={};b={register_engine:function(b,e){d[b]=e;if(null==a)return a=b},render:function(b,e){if(a in d)return d[a](b,e)}};b.__defineSetter__("engine",function(b){if(!b in d)throw Error("invalid template engine: "+b+" not one of "+
Object.Keys(d));return a=b});b.__defineGetter__("engine",function(){return a});return{name:"Template",$:{template:b}}});e.template.register_engine("null",function(){return function(a){return a}}());a=function(a,b,d,e,f){var i,r,n;null==f&&(f=-1);i=1;0>f&&(f=a.length+1+f);for(r=e;e<=f?r<f:r>f;e<=f?r++:r--)if(n=a[r],n===d?i+=1:n===b&&(i-=1),0===i)return r;return-1};e.template.register_engine("pythonic",function(){var c,b,d;d=/([0-9#0+-]*)\.*([0-9#+-]*)([diouxXeEfFgGcrsqm])((?:.|\n)*)/;c=/%[\(\/]/;b=
function(b){var e,f,i,n,k,o,m,b=b.split(c);k=b.length;m=[b[0]];for(f=i=1;1<=k?f<k:f>k;1<=k?f++:f--){e=a(b[f],")","(",0,-1);if(-1===e)return"Template syntax error: unmatched '%(' starting at: "+b[f].substring(0,15);n=b[f].substring(0,e);o=b[f].substring(e);e=d.exec(o);if(null===e)return"Template syntax error: invalid type specifier starting at '"+o+"'";o=e[4];m[i++]=n;m[i++]=e[1]|0;m[i++]=e[2]|0;m[i++]=e[3];m[i++]=o}return m};b.cache={};return function(a,c){var d,e,f,g,i,m,s,p,t,q,u;d=b.cache[a];null==
d&&(d=b.cache[a]=b(a));m=[d[0]];g=1;e=d.length;f=1;for(u=e-5;f<=u;f+=5){p=d.slice(f,f+4+1||9E9);i=p[0];s=p[1];e=p[2];t=p[3];p=p[4];q=c[i];null==q&&(q="missing value: "+i);switch(t){case "d":m[g++]=""+parseInt(q,10);break;case "f":m[g++]=parseFloat(q).toFixed(e);break;case "s":m[g++]=""+q;break;default:m[g++]=""+q}0<s&&(m[g]=String.PadLeft(m[g],s));m[g++]=p}return m.join("")}}());return e.template.register_engine("js-eval",function(){(function(){function a(){a.__super__.constructor.apply(this,arguments)}
i(a,e.StateMachine);a.STATE_TABLE=[{enter:function(){this.data=[];return this.GO(1)}},{}];return a})();return function(a){return a}}())})(Bling)}).call(this);
(function(f){return f.plugin(function(){var i,e,d;d=function(a){var c,b,d,f;c=a.indexOf(":");if(0<c)return d=parseInt(a.slice(0,c),10),b=a.slice(c+1,c+1+d),f=a[c+1+d],a=a.slice(c+d+2),b=function(){switch(f){case "#":return Number(b);case "'":return""+b;case "!":return"true"===b;case "~":return null;case "]":return i(b);case "}":return e(b)}}(),[b,a]};i=function(a){var c,b;for(c=[];0<a.length;)a=d(a),b=a[0],a=a[1],c.push(b);return c};e=function(a){var c,b,e;for(c={};0<a.length;)e=d(a),b=e[0],a=e[1],
a=d(a),e=a[0],a=a[1],c[b]=e;return c};return{name:"TNET",$:{TNET:{stringify:function(a){var c,b,d;d=function(){switch(Object.Type(a)){case "number":return[""+a,"#"];case "string":return[a,"'"];case "function":return[""+a,"'"];case "boolean":return[""+!!a,"!"];case "null":return["","~"];case "undefined":return["","~"];case "array":return[function(){var c,d,e;e=[];c=0;for(d=a.length;c<d;c++)b=a[c],e.push(f.TNET.stringify(b));return e}().join(""),"]"];case "object":return[function(){var c;c=[];for(b in a)c.push(f.TNET.stringify(b)+
f.TNET.stringify(a[b]));return c}().join(""),"}"]}}();c=d[0];return(c.length|0)+":"+c+d[1]},parse:function(a){var c;return null!=(c=d(a))?c[0]:void 0}}}}})})(Bling);
(function(f){return f.plugin(function(){var i,e,d,a,c,b;e=function(a,b){var c,b=Object.Extend({autoOpen:!1,draggable:!0},b);c=f(a).addClass("dialog");b.draggable&&c.draggable();b.autoOpen&&c.show().center();c.find("button.close, .close-button").bind("click touchstart",function(){c.hide();return!1});return c};d=function(a,b){var c,d,e,i,k,b=Object.Extend({handleCSS:{}},b);b.handleCSS=Object.Extend({position:"absolute",top:"0px",left:"0px",width:"100%",height:"6px"},b.handleCSS);c=f(a);e=!1;i=k=0;d=
f.synth("div.handle").defaultCss({background:"-webkit-gradient(linear, 50% 0%, 50% 100%, from(#eee), color-stop(0.25, #bbb), color-stop(0.3, #eee), color-stop(0.5, #eee), to(#bbb))",height:"6px","border-radius":"3px",cursor:"move"}.css(b.handleCSS.bind("mousedown, touchstart",function(a){e=!0;i||(i=a.pageX);k||(k=a.pageY);return!1})));f(document.bind("mousemove, touchmove",function(a){var b;if(e)return b=a.pageX-i,a=a.pageY-k,c.transform({translate:[b,a]},0).trigger("drag",{dragObject:c}),!1})).bind("mouseup, touchend",
function(){var a;if(e)return e=!1,a=d.position()[0],f(document.elementFromPoint(a.left,a.top-1).trigger("drop",{dropObject:c}))});return c.addClass("draggable").css({position:"relative","padding-top":c.css("padding-top").map(Number.AtLeast(parseInt(b.handleCSS.height,10))).px().first()}.append(d))};a=function(a,b){var c,d,e,i,b=Object.Extend({change:Function.Empty,backgroundColor:"#fff",barColor:"rgba(0,128,0,0.5)",textColor:"white",reset:!1},b);c=f(a).addClass("progress-bar");i=0;b.reset&&(d=c.css("background").first(),
e=c.css("color").first());return c.zap("updateProgress",function(a){for(;a>1;)a=a/100;i=a;a===1&&b.reset?c.css("background",d).css("color",e):c.css({background:"-webkit-gradient(linear, 0 0, "+parseInt(a*100)+"% 0, color-stop(0, "+b.barColor+"), color-stop(0.98, "+b.barColor+"), color-stop(1.0, "+b.backgroundColor+"))",color:b.textColor});if(Object.IsFunc(b.change))return b.change(i)})};i=function(a,b){var c,d,b=Object.Extend({exclusive:!1,sticky:!1},b);d=f(a).addClass("accordion");c=function(a){var c,
e,g,a=f(a).children().first().filter("*");if(2!==a.len())throw Exception("accordion row requires 2 elements, not "+a.len());g=a.eq(0).addClass("title");c=a.eq(1).addClass("body").hide();e=!1;return g.click(function(){b.exclusive&&d.find(".body").hide();if(e){if(b.sticky)return c.show().addClass("visible"),g.addClass("selected").trigger("select"),e=!0;c.hide().removeClass("visible");g.removeClass("selected").trigger("deselect");return e=!1}c.show().addClass("visible");g.addClass("selected").trigger("select");
return e=!0})};d.bind("DOMNodeInserted",function(a){var b;b=d.children().first().filter("*");a=f(a.target).parents().first();return c(a.intersect(b))});d.children().first().filter("*").map(c);return d};b=function(a){var b,c,d;c=f(a).css({position:"relative",top:"0px",left:"0px"}.hide().map(f));b=0;c[b].show();c.next=function(){c[b].hide();b=++b%nn;return c[b].show()};c.activate=function(a){c[b].hide();b=a;return c[a].show()};a=0;for(d=c.len();0<=d?a<d:a>d;0<=d?a++:a--)c[a].zap("_viewIndex",a.zap("activate",
function(){return c.activate(this._viewIndex)}));return c};c=function(a,b){var c,d,e;e=f(a);b=f(b).viewStack();d=e.len();for(c=0;0<=d?c<=d:c>=d;0<=d?c++:c--)e._tabIndex=c;f(e[0]).addClass("active");return e.click(function(){e.removeClass("active");b.activate(this._tabIndex);return f(this).addClass("active")})};return{name:"UI",$:{UI:{Draggable:d,ProgressBar:a,ViewStack:b,Tabs:c,Accordion:i}},dialog:function(a){return e(this,a)},progressBar:function(b){return a(this,b)},viewStack:function(a){return b(this,
a)},tabs:function(a){return c(this,a)},accordion:function(a){return i(this,a)},draggable:function(a){return d(this,a)}}})})(Bling);
(function(){var f=Array.prototype.slice;$.plugin(function(){var i,e,d,a,c,b,g,j,h,l,r,n;j="px,pt,pc,em,%,in,cm,mm,ex,".split(",");i=/(\d+\.*\d*)(px|pt|pc|em|%|in|cm|mm|ex)/;b=function(a){return i.exec(a)[2](i.test(a)?void 0:"")};a=function(b,c){return a[b][c]()};g=function(a){return function(){return a}};h=0;for(r=j.length;h<r;h++){e=j[h];l=0;for(n=j.length;l<n;l++)d=j[l],(a[e]||(a[e]={}))[d]=g(+(e===d||""===e||""===d))}a["in"].pt=function(){return 72};a["in"].px=function(){return 96};a["in"].cm=
function(){return 2.54};a.pc.pt=function(){return 12};a.cm.mm=function(){return 10};a.em.px=function(){var a,b;b=$("<span style='font-size:1em;visibility:hidden'>x</span>").appendTo("body");a=b.width().first();b.remove();return a};a.ex.px=function(){var a,b;b=$("<span style='font-size:1ex;visibility:hidden'>x</span>").appendTo("body");a=b.width().first();b.remove();return a};a.ex.em=function(){return 2};e=function(){var b,c,d,e,f,h;h=[];e=0;for(f=j.length;e<f;e++)b=j[e],h.push(function(){var e,f,
h;h=[];e=0;for(f=j.length;e<f;e++)c=j[e],!a(b,c)&&a(c,b)&&(console.log("found inverse: "+b+"."+c),a[b][c]=g(1/a(c,b))),h.push(function(){var e,f,h;h=[];f=0;for(e=j.length;f<e;f++){d=j[f];if(!a(b,d)&&a(b,c)&&a(c,d)){console.log("found induction: "+b+"."+d);h.push(a[b][d]=g(a(b,c)*a(c,d)))}else h.push(void 0)}return h}());return h}());return h};e();e();$.assert("10cm"===parseFloat("300px")*a[b("300px")].cm()+"cm");c=function(a,b){var c,d,e;e=[];c=0;for(d=b.length;0<=d?c<d:c>d;0<=d?c++:c--)e.push(b[c]=
convertTo(a,b[c]));return e};Object.Type.register("units",{match:function(a){return i.test(a)}});e=function(a){return function(){var d,e;d=1<=arguments.length?f.call(arguments,0):[];c(e=b(this[0]),this);return a.apply(this,d)+e}};return{min:e(function(){return this.reduce(function(a){return Math.min(parseFloat(this),a)})}),max:e(function(){return this.reduce(function(a){return Math.max(parseFloat(this),a)})}),sum:e(function(){return this.reduce(function(a){return parseFloat(this)+a})}),mean:e(function(){return parseFloat(this.sum())/
this.length}),magnitude:e(function(){return Math.sqrt(this.floats().squares().sum())}),squares:function(){return this.map(function(){var a;return(a=parseFloat(this))*a})},scale:function(a){return this.map(function(){return a*parseFloat(this)})},add:function(a){return this.map(function(){return a+this})},normalize:function(){return this.scale(1/this.magnitude())}}})}).call(this);
$.plugin(function(){var f,i,e,d;f=function(){return"EOF"};for(d=0;1E3>d;d++)i=d;e=0;return function(a){a=extend({item:function(){return f},action:Function.Identity,latency:10},a);return extend(new $.EventEmitter,{run:function(){var c,b=this;c=function(){var d;if((d=a.action(a.item()))!==f)return b.emit("data",d),setTimeout(c,a.latency)};return setTimeout(c,a.latency)}})}({item:function(){return i[e++](e<i.length?void 0:f)},action:function(a){return a*a-1},latency:10}).on("data",function(a){return console.log("data:",
a.on("error",function(a){return console.log("error:",a.run())}))})});
