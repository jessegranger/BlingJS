(function(){(function(a){return a.plugin(function(){var d,e,c,b;e={};c=function(g,h){return e[g]=h};d=function(f){return e[f.t||f.type]};b=[];Object.Type.extend(null,{compact:function(f){return Object.String(f)}});Object.Type.extend("undefined",{compact:function(f){return""}});Object.Type.extend("null",{compact:function(f){return""}});Object.Type.extend("string",{compact:Function.Identity});Object.Type.extend("array",{compact:function(g){var f;return((function(){var j,i,h;h=[];for(j=0,i=g.length;j<i;j++){f=g[j];h.push(Object.Compact(f))}return h})()).join("")}});Object.Type.extend("bling",{compact:function(f){return f.map(Object.Compact).join("")}});Object.Type.extend("object",{compact:function(g){var f;return Object.Compact((f=d(g))!=null?f.call(g,g):void 0)}});Object.Compact=function(g){var f;b.push(g);if((f=Object.Type.lookup(g))!=null){f.compact(g)}return b.pop()};Object.Extend(Object.Compact,{register:c,lookup:d});c("page",function(){return["<!DOCTYPE html><html><head>",this.head,"</head><body>",this.body,"</body></html>"]});c("text",function(){return this.EN});c("link",function(){var g,h,j,f,i;g=a(["<a"]);i=["href","name","target"];for(j=0,f=i.length;j<f;j++){h=i[j];if(h in this){g.extend(" ",h,"='",this[h],"'")}}return g.extend(">",node.content,"</a>")});a.assert(Object.Compact({t:"page",head:[],body:{type:"text",EN:"Hello World"}})==="<!DOCTYPE html><html><head></head><body>Hello World</body></html>");return{name:"Compact"}})})(Bling)}).call(this);