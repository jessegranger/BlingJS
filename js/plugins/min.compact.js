(function(i){return i.plugin(function(){var g,h,c;h={};c=function(a,b){return h[a]=b};g=function(a){return h[a.TYPE]};Object.Type.extend("unknown",{compact:function(a){return Object.String(a)}});Object.Type.extend("string",{compact:function(a){return a}});Object.Type.extend("number",{compact:function(a){return Object.String(a)}});Object.Type.extend("array",{compact:function(a){var b,d,e,f;f=[];d=0;for(e=a.length;d<e;d++)b=a[d],f.push(Object.Compact(b));return f.join("")}});Object.Type.extend("bling",
{compact:function(a){return a.map(Object.Compact).join("")}});Object.Type.extend("undefined",{compact:function(){return""}});Object.Type.extend("null",{compact:function(){return""}});Object.Type.extend("object",{compact:function(a){var b;return Object.Compact(null!=(b=g(a))?b.prune.call(a,a):void 0)}});Object.Compact=function(a){var b;return null!=(b=Object.Type.lookup(a))?b.compact(a):void 0};Object.Extend(Object.Compact,{register:c,lookup:g});c("page",{prune:function(a){return["<!DOCTYPE html><html><head>",
a.HEAD,"</head><body>",a.BODY,"</body></html>"]}});c("text",{prune:function(a){return a.EN}});c("link",{prune:function(a){var b,d,e,f,c;b=["<a"];c=["href","name","target"];e=0;for(f=c.length;e<f;e++)d=c[e],d in a&&Array.Extend(b,[" ",d,"='",a[d],"'"]);Array.Extend(b,[">",a.CONTENT,"</a>"]);return b}});"<!DOCTYPE html><html><head></head><body>Hello World</body></html>"===Object.Compact({TYPE:"page",HEAD:[],BODY:{TYPE:"text",EN:"Hello World"}});return{name:"Compact"}})})(Bling);
