(function(f){return f.plugin(function(){var g,h,c,i;h={};c=function(a,b){return h[a]=b};g=function(){return h[obj.t]};i=[];Object.Type.extend(null,{compact:function(a){return Object.String(a)}});Object.Type.extend("undefined",{compact:function(){return""}});Object.Type.extend("null",{compact:function(){return""}});Object.Type.extend("string",{compact:Function.Identity});Object.Type.extend("array",{compact:function(a){var b,d,c,e;e=[];d=0;for(c=a.length;d<c;d++)b=a[d],e.push(Object.Compact(b));return e.join("")}});
Object.Type.extend("bling",{compact:function(a){return a.map(Object.Compact).join("")}});Object.Type.extend("object",{compact:function(a){var b;return Object.Compact(null!=(b=g(a))?b.call(a,a):void 0)}});Object.Compact=function(a){var b;i.push(a);null!=(b=Object.Type.lookup(a))&&b.compact(a);return i.pop()};Object.Extend(Object.Compact,{register:c,lookup:g});c("page",function(){return["<!DOCTYPE html><html><head>",this.head,"</head><body>",this.body,"</body></html>"]});c("text",function(){return this.EN});
c("link",function(){var a,b,d,c,e;a=f(["<a"]);e=["href","name","target"];d=0;for(c=e.length;d<c;d++)b=e[d],b in this&&a.extend(" ",b,"='",this[b],"'");return a.extend(">",node.content,"</a>")});f.assert("<!DOCTYPE html><html><head></head><body>Hello World</body></html>"===Object.Compact({t:"page",head:[],body:{type:"text",EN:"Hello World"}}));return{name:"Compact"}})})(Bling);
