<html>
	<head>
		<script src="../bling.js"></script>
		<script src="../plugins/bling.ui.js"></script>
		<style>
			div.droppable {
				width: 120px;
				height: 120px;
				text-align: center;
				line-height: 120px;
				border: 1px dashed black;
			}
		</style>
		<script>
			$(document).ready(function() {
				$.UI.Draggable(".draggable").bind("drag", function() {
					$(this).css({top: "", left: ""})
				})

				function snapToEdge(from, to, fromside, toside) {
					var $from = $(from), $to = $(to),
						fpos = $from.position()[0],
						tpos = $to.position()[0],
						top = fpos.top,
						left = fpos.left
					switch (toside) {
						case "left":
							left = tpos.left
							break
						case "right":
							left = tpos.width + tpos.left
							break
						case "top":
							top = tpos.top
							break
						case "bottom":
							top = tpos.top + tpos.height
							break
					}
					switch (fromside) {
						case "left":
						break
						case "right":
							left -= fpos.width
							break
						case "top":
						break
						case "bottom":
							top -= fpos.height
							break
					}
					$from.transform({
						top: top + "px",
						left: left + "px",
						translate: [ 0, 0 ]
					}, "slow", "linear")
				}

				$(".droppable").bind('drop', function(evt) {
					// snapToEdge(evt.dropObject, this, "left", "left")
					snapToEdge(evt.dropObject, this, "left", "right")
					// snapToEdge(evt.dropObject, this, "right", "right")
					// snapToEdge(evt.dropObject, this, "top", "top")
					/*
					var pos = $(this).position()[0]
					// this drop container has a snap-to-edge effect
					evt.dropObject.transform({
						position: "absolute",
						top: pos.top + "px",
						left: pos.left + "px",
						translate: [ 0, 0 ]
					}, 0)
					*/
				})
			})
		</script>
	</head>
	<body>
		<h1>UI Demos</h1>

		<h2>Drag / Drop</h2>
		<div class="droppable">Drop stuff here.</div>
		<span class="draggable">Drag me around.</span>

	</body>
</html>

