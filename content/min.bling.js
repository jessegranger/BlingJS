Function.prototype.inheritsFrom=function(c){this.prototype=new c;return this.prototype.constructor=this};function isType(c,e){return!c?e===c:typeof e==="string"?c.__proto__.constructor.name==e:c.__proto__.constructor===e}function isSubtype(c,e){return c==undefined?c==e:c.__proto__==undefined?false:c.__proto__.constructor==e?true:isSubtype(c.__proto__,e)}function isString(c){return typeof c=="string"||isSubtype(c,String)}function isNumber(c){return isFinite(c)}
function isFunc(c){return typeof c=="function"||isType(c,Function)}function isNode(c){return c?c.nodeType>0:false}function isFragment(c){return c?c.nodeType==11:false}function isArray(c){return c?Function.ToString(c)=="[object Array]"||isSubtype(c,Array):false}function isObject(c){return typeof c=="object"}function hasValue(c){return c!=null}
Function.prototype.bound=function(c,e){var a=this,d=function(){return a.apply(c,e?e:arguments)};d.toString=function(){return"bound-method of "+c+"."+a.name+"(...) { [code] }"};return d};Function.Empty=function(){};Function.NotNull=function(c){return c!=null};Function.NotUndefined=function(c){return c!=undefined};Function.IndexFound=function(c){return c>-1};Function.HtmlEscape=function(c){return c.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\t/g,"&nbsp;&nbsp;")};
Function.ReduceAnd=function(c){return c&&this};Function.UpperLimit=function(c){return function(e){return Math.min(c,e)}};Function.LowerLimit=function(c){return function(e){return Math.max(c,e)}};Function.ToString=function(c){return Object.prototype.toString.apply(c)};Function.Slice=function(c,e,a){var d=[],b=0,f=c.length;a=a==undefined?f:a<0?f+a:a;for(e=e==undefined?0:e<0?f+e:e;e<a;)d[b++]=c[e++];return d};Function.Px=function(c){return isString(c)?c:c+"px"};
function Bling(c,e){if(isBling(c))return c;e=e||document;if(c===undefined)return Bling.__init__(c,e,[]);if(typeof c==="string"){if(c[0]=="<")return Bling.__init__(c,e,[Bling.HTML.parse(c)]);if(isBling(e))return e.reduce(function(a,d){a.union(d.querySelectorAll(c))},Bling.__init__(c,e,[]));if(e.querySelectorAll!=undefined)return Bling.__init__(c,e,e.querySelectorAll(c));throw Error("invalid context object: "+e+")");}if(typeof c==="number")return Bling.__init__(c,e,Array(c));if(c===window||isNode(c))return Bling.__init__(c,
e,[c]);if(c.length!=undefined)return Bling.__init__(c,e,c);return Bling.__init__(c,e,[c])}Bling.inheritsFrom(Array);function isBling(c){return isType(c,Bling)}Bling.__init__=function(c,e,a){a.__proto__=Bling.prototype;a.selector=c;a.context=e;return a};Bling.extend=function(c,e,a){for(var d in e)if(a&&c[d]!=undefined)for(var b in a)c[d][b]=e[d][b];else c[d]=e[d];return c};
Bling.addOps=function(){for(var c=0,e=arguments.length;c<e;c++){var a=arguments[c];if(isFunc(a)){if(a.name==null)throw Error("cannot extend with an anonymous method (must have a name)");Bling.prototype[a.name]=a}else if(isObject(a))Bling.extend(Bling.prototype,a);else throw Error("can only extend by an object or function, not:"+typeof a);}};Bling.module=function(c,e){var a=e(),d=arguments.callee;d.order.push(c);d[c]=a;Bling.addOps(a)};Bling.module.order=[];
Bling.module("core",function(){function c(a){if(isObject(a)&&isNumber(a))return Number(a);return a}var e=new function(){this.queue=[];this.next=function(){this.queue.length>0&&this.queue.shift()()}.bound(this);this.schedule=function(a,d){if(isFunc(a)){var b=this.queue.length;a.order=d+(new Date).getTime();if(b==0||a.order>this.queue[b-1].order)this.queue[b]=a;else for(var f=0;f<b;f++)this.queue[f].order>a.order&&this.queue.splice(f,0,a);setTimeout(this.next,d)}}};return{len:function(){for(var a=this.length;a>
-1&&this[--a]==undefined;);return a+1},each:function(a){this.forEach(function(d){a.call(d,d)});return this},map:function(a){var d=Bling(this.length),b=0;this.each(function(f){try{d[b]=a.call(f,f)}catch(g){if(isType(g,TypeError))d[b]=a(f);else throw g;}b++});return d},reduce:function(a,d){if(!a)return this;var b=d,f=this;if(d==null){b=this[0];f=this.skip(1)}f.each(function(){b=a.call(this,b,this)});return b},filter:function(a){for(var d=0,b=-1,f=this.length,g=Bling(f),h=null;d<f;d++)if(h=this[d])if(isFunc(a)&&
a.call(h,h)||isString(a)&&h.webkitMatchesSelector&&h.webkitMatchesSelector(a))g[++b]=h;return g},matches:function(a){return this.map(function(){if(this.webkitMatchesSelector)return this.webkitMatchesSelector(a);return false})},distinct:function(){var a={},d=0,b=null,f=Bling();this.each(function(){a[this]=1});for(b in a)f[d++]=b;return f},union:function(a){var d=Bling(),b=0,f=0,g=null;for(this.each(function(){d[b++]=this});g=a[f++];)d.contains(g)||(d[b++]=g);return d},intersect:function(a){var d=Bling(),
b=0,f=0,g=this.length,h=a.length;if(isBling(a))for(;b<g;b++){if(a.contains(this[b]))d[d.length]=this[b]}else for(b=0;b<g;b++)for(;f<h;f++)if(this[b]==a[f])d[d.length]=this[b];return d},contains:function(a){return this.count(a)>0},count:function(a){a=c(a);if(isObject(a)&&isNumber(a))a=Number(a);var d=0;this.each(function(){var b=this;if(isObject(b)&&isNumber(b))b=Number(b);b==a&&d++});return d},zip:function(){function a(m){var k;return function(){k=this[m];return isFunc(k)?k.bound(this):k}}function d(m){var k=
m.indexOf(".");return k>-1?this.zip(m.substr(0,k)).zip(m.substr(k+1)):this.map(a(m))}switch(arguments.length){case 0:return this;case 1:return d.call(this,arguments[0]);default:var b={},f=Bling(),g=arguments.length,h=this.length,j=0,l=0,n=null;for(j=0;j<g;j++)b[j]=d.call(this,arguments[j]);for(j=0;j<h;j++){g={};for(n in b)g[n]=b[n].shift();f[l++]=g}return f}},zap:function(a,d){if(!a)return this;var b=a.indexOf(".");return b>-1?this.zip(a.substr(0,b)).zap(a.substr(b+1),d):isArray(d)?this.each(function(f){f[a]=
d[++b]}):this.each(function(){this[a]=d})},take:function(a){a=Math.min(a|0,this.len());for(var d=Bling(a),b=0;b<a;b++)d[b]=this[b];return d},skip:function(a){a=Math.min(this.len(),Math.max(0,a|0));var d=Bling(a);i=0;for(nn=this.len()-a;i<nn;i++)d[i]=this[i+a];return d},last:function(a){return a?this.skip(this.len()-a):this[this.length-1]},first:function(a){return a?this.take(a):this[0]},join:function(a){if(this.length==0)return"";return this.reduce(function(d){return d+a+this})},slice:function(a,
d){return Bling(Function.Slice(this,a,d))},concat:function(a){for(var d=this.len()-1,b=-1,f=a.length;b<f;)this[++d]=a[++b];return this},weave:function(a){var d=a.length,b=this.length,f=Bling(2*Math.max(b,d));for(i=b-1;i>=0;i--)f[i*2+1]=this[i];for(;++i<d;)f[i*2]=a[i];return f},fold:function(a){var d=this.length,b=0;if(d<2)return this;for(var f=Bling(d/2),g=0;g<d-1;g+=2)f[b++]=a.call(this,this[g],this[g+1]);return f},call:function(){return this.apply(null,arguments)},apply:function(a,d){return this.map(function(){if(isFunc(this))return this.apply(a,
d);return this})},toString:function(){return Bling.symbol+"(["+this.map(function(){return this.toString()}).join(", ")+"])"},future:function(a,d){d&&e.schedule(d.bound(this),a);return this},log:function(a){a?console.log(a,this,this.length+" items"):console.log(this,this.length+" items");return this}}});
Bling.module("html",function(){function c(b){for(var f=b.cloneNode(),g=0;g<b.childNodes.length;g++)f.appendChild(c(b.childNodes[g])).parentNode=f;return f}var e=function(b,f){b&&f&&b.parentNode.insertBefore(f,b)},a=function(b){b=isNode(b)?b:isBling(b)?b.toFragment():isString(b)?Bling(b).toFragment():isFunc(b.toString)?Bling(b.toString()).toFragment():undefined;Bling.nextguid=Bling.nextguid||1;if(b.guid==null)b.guid=Bling.nextguid++;return b},d=null;Bling.HTML={parse:function(b){var f=document.createElement("div");
f.innerHTML=b;b=document.createDocumentFragment();for(var g=0,h=f.childNodes.length;g<h;g++)b.appendChild(f.removeChild(f.childNodes[0]));return h==1?b.removeChild(b.childNodes[0]):b},stringify:function(b){b=c(b);var f=document.createElement("div");f.appendChild(b);var g=f.innerHTML;f.removeChild(b);b.parentNode=null;return g},escape:function(b){d=d||Bling("<div>&nbsp;</div>").child(0);d.zap("data",b);return d.parent().html().first()}};return{html:function(b){return b==undefined?this.zip("innerHTML"):
isString(b)?this.zap("innerHTML",b):isBling(b)?this.html(b.toFragment()):isNode(b)?this.each(function(){for(this.replaceChild(this.childNodes[0],b);this.childNodes.length>1;)this.removeChild(this.childNodes[1])}):undefined},append:function(b){b=a(b);var f=this.zip("appendChild");f.take(1).call(b);f.skip(1).each(function(){this(c(b))});return this},appendTo:function(b){Bling(b).append(this);return this},prepend:function(b){b=a(b);this.take(1).each(function(){e(this.childNodes[0],b)});this.skip(1).each(function(){e(this.childNodes[0],
c(b))});return this},prependTo:function(b){Bling(b).prepend(this);return this},before:function(b){b=a(b);this.take(1).each(function(){e(this,b)});this.skip(1).each(function(){e(this,c(b))});return this},after:function(b){b=a(b);this.take(1).each(function(){this.parentNode.insertBefore(b,this.nextSibling)});this.skip(1).each(function(){this.parentNode.insertBefore(c(b),this.nextSibling)});return this},wrap:function(b){b=a(b);if(isFragment(b))throw Error("cannot wrap something with a fragment");return this.map(function(f){if(isFragment(f))b.appendChild(f);
else if(isNode(f)){var g=f.parentNode;if(g){var h=document.createElement("dummy");b.appendChild(g.replaceChild(h,f));g.replaceChild(b,h)}else b.appendChild(f)}return f})},unwrap:function(){return this.each(function(){this.parentNode&&this.parentNode.parentNode&&this.parentNode.parentNode.replaceChild(this,this.parentNode)})},replace:function(b){b=a(b);var f=Bling(),g=-1;this.take(1).each(function(){if(this.parentNode){this.parentNode.replaceChild(b,this);f[++g]=b}});this.skip(1).each(function(){if(this.parentNode){var h=
c(b);this.parentNode.replaceChild(h,this);f[++g]=h}});return f},attr:function(b,f){var g=this.zip(f?"setAttribute":"getAttribute").call(b,f);return f?this:g},addClass:function(b){return this.removeClass(b).each(function(){var f=this.className.split(" ").filter(function(g){return g&&g!=""});f.push(b);this.className=f.join(" ")})},removeClass:function(b){var f=function(g){return g!=b};return this.each(function(){this.className=this.className.split(" ").filter(f).join(" ")})},toggleClass:function(b){var f=
function(g){return g!=b};return this.each(function(g){var h=g.className.split(" ");g.className=h.indexOf(b)>-1?h.filter(f).join(" "):h.push(b).join(" ")})},hasClass:function(b){return this.zip("className.split").call(" ").zip("indexOf").call(b).map(Function.IndexFound)},text:function(b){return b?this.zap("innerText",b):this.zip("innerText")},val:function(b){return b?this.zap("value",b):this.zip("value")},css:function(b,f){if(hasValue(f)||isObject(b)){var g=this.zip("style.setProperty");if(isString(b))g.call(b,
f);else for(var h in b)g.call(h,b[h]);return this}g=this.map(window.getComputedStyle).zip("getPropertyValue").call(b);return this.zip("style").zip(b).weave(g).fold(function(j,l){return j?j:l})},rect:function(){return this.zip("getBoundingClientRect").call()},width:function(){return this.rect().zip("width")},height:function(b){return b==null?this.rect().zip("height"):this.css("height",b)},top:function(b){return b==null?this.rect().zip("top"):this.css("top",b)},left:function(b){return b==null?this.rect().zip("left"):
this.css("left",b)},position:function(b,f){return b==null?this.rect():f==null?this.css("left",Function.Px(b)):this.css({top:Function.Px(f),left:Function.Px(b)})},center:function(b){b=b||"viewport";var f=document.body.clientHeight/2,g=document.body.clientWidth/2;return this.each(function(){var h=Bling(this),j=h.height().floats().first(),l=h.width().floats().first();l=b=="viewport"||b=="horizontal"?document.body.scrollLeft+g-l/2:NaN;y=b=="viewport"||b=="vertical"?document.body.scrollTop+f-j/2:NaN;h.css({position:"absolute",
left:isNumber(l)?l+"px":undefined,top:isNumber(y)?y+"px":undefined})})},trueColor:function(b,f){function f(g){g[0]+=(this[0]-g[0])*this[3];g[1]+=(this[1]-g[1])*this[3];g[2]+=(this[2]-g[2])*this[3];g[3]=Math.min(1,g[3]+this[3]);return g}b=b||"background-color";return this.parents().map(function(){return this.map(window.getComputedStyle).filter(hasValue).zip("getPropertyValue").call(b).filter(isString).toColors().reverse().reduce(f,Bling([0,0,0,0])).toRGBAString()})},toColors:function(){if(this.length==
0)return this;return this.map(function(){if(isString(this)){var b=document.createElement("div");b.style.color=this;if(b=b.style.getPropertyValue("color")){b=b.slice(b.indexOf("(")+1,b.indexOf(")")).split(", ");if(b.length==3)b[3]=1;return Bling(b).floats()}}})},toRGBAString:function(){function b(f){f=f.map(Function.UpperLimit(255)).map(Function.LowerLimit(0));f[3]=Math.min(1,f[3]);return"rgba("+f.join(", ")+")"}return isBling(this[0])?this.map(b):b(this)},child:function(b){return this.map(function(){return this.childNodes[b]})},
children:function(){return this.map(function(){return Bling(this.childNodes)})},parent:function(){return this.zip("parentNode")},parents:function(){return this.map(function(){for(var b=Bling(),f=-1,g=this;g=g.parentNode;)b[++f]=g;return b})},remove:function(){return this.each(function(){this.parentNode&&this.parentNode.removeChild(this)})},find:function(b){return this.map(function(){return Bling(b,this)}).reduce(function(f){return f.concat(this)})},clone:function(){return this.map(c)},toFragment:function(){if(this.length==
1)return a(this[0]);var b=document.createDocumentFragment();this.map(a).map(b.appendChild.bound(b));return b}}});
Bling.module("math",function(){return{floats:function(){return this.map(function(){if(isBling(this))return this.floats();return parseFloat(this)})},ints:function(){return this.map(function(){if(isBling(this))return this.ints();return parseInt(this)})},px:function(c){c=c||0;return this.ints().map(function(){return this+c+"px"})},min:function(){return this.reduce(function(c){if(isBling(this))return this.min();return Math.min(this,c)})},max:function(){return this.reduce(function(c){if(isBling(this))return this.max();
return Math.max(this,c)})},average:function(){return this.sum()/this.length},sum:function(){return this.reduce(function(c){if(isBling(this))return c+this.sum();return c+this})},squares:function(){return this.map(function(){if(isBling(this))return this.squares();return this*this})},magnitude:function(){var c=this.map(function(){if(isBling(this))return this.magnitude();return parseFloat(this)});return Math.sqrt(c.squares().sum())},scale:function(c){return this.map(function(){if(isBling(this))return this.scale(c);
return c*this})},normalize:function(){return this.scale(1/this.magnitude())}}});
Bling.module("event",function(){function c(e){return function(a){return isFunc(a)?this.bind(e,a):this.trigger(e,a?a:[])}}Bling.ready=function(e){return Bling(window).bind("load",e)};return{bind:function(e,a){return this.each(function(){this.addEventListener(e,a)})},once:function(e,a){var d=function(b){a.call(this,b);this.unbind(e,d)};return this.bind(e,d)},cycle:function(e){var a=0,d=Function.Slice(arguments,1,arguments.length);return this.bind(e,function(b){d[a].call(this,b);a=++a%d.length})},unbind:function(e,
a){return this.each(function(){this.removeEventListener(e,a)})},trigger:function(e,a){var d=undefined;a=Bling.extend({bubbles:true,cancelable:true},a);switch(e){case "click":case "mousemove":case "mousedown":case "mouseup":case "mouseover":case "mouseout":d=document.createEvent("MouseEvents");a=Bling.extend({detail:1,screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false,button:0,relatedTarget:null},a);d.initMouseEvent(e,a.bubbles,a.cancelable,window,a.detail,
a.screenX,a.screenY,a.clientX,a.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,a.button,a.relatedTarget);break;case "blur":case "focus":case "reset":case "submit":case "abort":case "change":case "load":case "unload":d=document.createEvent("UIEvents");d.initUIEvent(e,a.bubbles,a.cancelable,window,1);break;case "touchstart":case "touchmove":case "touchend":case "touchcancel":d=document.createEvent("TouchEvents");a=Bling.extend({detail:1,screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:false,altKey:false,
shiftKey:false,metaKey:false,touches:[],targetTouches:[],changedTouches:[],scale:1,rotation:0},a);d.initTouchEvent(e,a.bubbles,a.cancelable,window,a.detail,a.screenX,a.screenY,a.clientX,a.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,a.touches,a.targetTouches,a.changedTouches,a.scale,a.rotation);break;case "gesturestart":case "gestureend":case "gesturecancel":d=document.createEvent("GestureEvents");a=Bling.extend({detail:1,screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:false,altKey:false,shiftKey:false,
metaKey:false,target:null,scale:1,rotation:0},a);d.initGestureEvent(e,a.bubbles,a.cancelable,window,a.detail,a.screenX,a.screenY,a.clientX,a.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,a.target,a.scale,a.rotation);break;default:d=document.createEvent("Events");d.initEvent(e,a.bubbles,a.cancelable)}return d?this.each(function(){this.dispatchEvent(d);d.result=d.returnValue=undefined}):this},live:function(e,a){var d=this.selector,b=this.context;Bling(b).bind(e,function(g){Bling(d,b).intersect(Bling(g.target).parents().first()).each(function(){g.target=
this;a.call(this,g)})});var f=b.__livers__=b.__livers__||{};f[d]=f[d]||{};f[d][e]=f[d][e]||[];f[d][e].push(a)},die:function(e,a){var d=this.selector,b=this.context,f=Bling(b);g=b.__livers__;if(g==null)return this;var g=b.__livers__[d][e];d=0;for(b=g.length;d<b;d++)if(a==undefined||a==g[d]){f.unbind(e,a);g.splice(d,1);b--;d--}},click:function(e){this.css("cursor").first()=="auto"&&this.css("cursor","pointer");return isFunc(e)?this.bind("click",e):this.trigger("click",[])},mousemove:c("mousemove"),
mousedown:c("mousedown"),mouseup:c("mouseup"),mouseover:c("mouseover"),mouseout:c("mouseout"),blur:c("blur"),focus:c("focus"),load:c("load"),ready:c("load"),unload:c("unload"),reset:c("reset"),submit:c("submit"),change:c("change"),abort:c("abort"),cut:c("cut"),copy:c("copy"),paste:c("paste"),selection:c("selection"),drag:c("drag"),drop:c("drop"),orientationchange:c("orientationchange"),touchstart:c("touchstart"),touchmove:c("touchmove"),touchend:c("touchend"),touchcancel:c("touchcancel"),gesturestart:c("gesturestart"),
gestureend:c("gestureend"),gesturecancel:c("gesturecancel")}});
Bling.module("transform",function(){Bling.duration=function(c){var e={slow:700,medium:500,normal:300,fast:100}[c];return e?e:parseFloat(c)};return{transform:function(c,e,a){if(typeof e=="function"){a=e;e=undefined}e=e||"normal";var d=Bling.duration(e);e=[];var b=0,f="",g={},h;for(h in c)if(/(?:scale|translate|rotate|scale3d|translateX|translateY|translateZ|translate3d|rotateX|rotateY|rotateZ|rotate3d)/.test(h)){var j=c[h];if(j.join)j=j.join(", ");else if(j.toString)j=j.toString();f+=" "+h+"("+j+")"}else g[h]=
c[h];for(h in g)e[b++]=h;if(f)e[b++]="-webkit-transfrom";this.css("-webkit-transition-property",e.join(", "));this.css("-webkit-transition-duration",e.map(function(){return d+"ms"}).join(", "));for(h in g)this.css(h,g[h]);f&&this.css("-webkit-transform",f);return this.future(d,a)},hide:function(c){return this.each(function(){this._display=this.style.display=="none"?undefined:this.style.display;this.style.display="none"}).future(50,c)},show:function(c){return this.each(function(){this.style.display=
this._display?this._display:"block";this._display=undefined}).future(50,c)},toggle:function(c){return this.each(function(){var e=Bling(this).css("display").first();if(e=="none")if(this._display!=undefined){this.style.display=this._display;this._display=undefined}else this.style.display="block";else{this._display=e;this.style.display="none"}}).future(50,c)},fadeIn:function(c,e){return this.css("opacity","0.0").show(function(){this.transform({opacity:"1.0",translate3d:[0,0,0]},c,e)})},fadeOut:function(c,
e,a,d){a=a||0;d=d||0;return this.each(function(b){Bling(b).transform({opacity:"0.0",translate3d:[a,d,0]},c,function(){this.hide()})}).future(Bling.duration(c),e)},fadeLeft:function(c,e){return this.fadeOut(c,e,"-"+this.width().first(),0)},fadeRight:function(c,e){return this.fadeOut(c,e,this.width().first(),0)},fadeUp:function(c,e){return this.fadeOut(c,e,0,"-"+this.height().first())},fadeDown:function(c,e){return this.fadeOut(c,e,0,this.height().first())}}});
Bling.module("http",function(){var c=function(e){var a=[],d=0;e=JSON.parse(JSON.stringify(e));for(var b in e)a[d++]=b+"="+escape(e[b]);return a.join("&")};Bling.extend(Bling,{http:function(e,a){var d=new XMLHttpRequest;if(isFunc(a))a={success:a.bound(d)};a=Bling.extend({method:"GET",data:null,state:Function.Empty,success:Function.Empty,error:Function.Empty,async:true,withCredentials:false},a);a.state=a.state.bound(d);a.success=a.success.bound(d);a.error=a.error.bound(d);if(a.data&&a.method=="GET")e+=
"?"+c(a.data);else if(a.data&&a.method=="POST")a.data=c(a.data);d.open(a.method,e,a.async);d.withCredentials=a.withCredentials;d.onreadystatechange=function(){a.state&&a.state();if(d.readyState==4)d.status==200?a.success(d.responseText):a.error(d.status,d.statusText)};d.send(a.data);return Bling([d])},post:function(e,a){if(isFunc(a))a={success:a};a=a||{};a.method="POST";return Bling.http(e,a)},get:function(e,a){if(isFunc(a))a={success:a};a=a||{};a.method="GET";return Bling.http(e,a)}});return{}});
Bling.module("database",function(){function c(e,a){throw Error("sql error ["+a.code+"] "+a.message);}Bling.db=function(e,a,d,b){return Bling([window.openDatabase(e||"bling.db",a||"1.0",d||"bling database",b||1024)])};return{transaction:function(e){this.zip("transaction").call(e);return this},sql:function e(e,a,d,b){if(e!=undefined){if(typeof a=="function"){b=d;d=a;a=undefined}a=a||[];d=d||Function.Empty;b=b||c;assert(isType(this[0],"Database"),"can only call .sql() on a bling of Database");return this.transaction(function(f){f.executeSql(e,
a,d,b)})}}}});
Bling.module("dialog",function(){function c(e,a,d){var b=e.find(".buttons");if(b.length==0)b=e.append("<div class='buttons'></div>").find(".buttons");a=a||"undefined";a=a.replace(/_/g," ");return Bling("<button>"+a+"</button>").bind("click",d.bound(e)).appendTo(b)}return{dialog:function(){var e=0,a=arguments.length,d="create";if(isString(arguments[0])){d=arguments[0];e++}if("create"==d){if(this.isDialog)return this;d=Bling("<div class='dialog' style='display:none'/>");d.isDialog=true;this.wrap(d);
d.contentNode=d[0].childNodes[0];for(e==a&&c(d,"OK",function(){this.hide()});e<a;e++){var b=arguments[e];if(!(b==null||isString(b)))if(isFunc(b))c(d,b.name,b);else for(var f in b)isFunc(b[f])&&c(d,f,b[f])}d[0].parentNode==null&&d.appendTo("body");e=d.css("top").first();a=d.css("left").first();return d.css("position","absolute").css("top",e).css("left",a)}else if("destroy"==d){if(this.isDialog){this.isDialog=false;return Bling(this.contentNode).unwrap()}return this}}}});$=Bling;Bling.symbol="$";
