(function(){function y(j,x){if(Object.IsBling(j))return j;x=x||document;var u=null;if(j==null)u=[];else if(typeof j==="number")u=Array(j);else if(j===window||Object.IsNode(j))u=[j];else if(typeof j==="string"){j=j.trimLeft();if(j[0]==="<")u=[y.HTML.parse(j)];else if(x.querySelectorAll)try{u=x.querySelectorAll(j)}catch(v){throw Error("invalid selector: "+j,v);}else if(Object.IsBling(x))u=x.reduce(function(n,I){for(var D=I.querySelectorAll(j),E=0,J=D.length;E<J;E++)n.push(D[E]);return n},[]);else throw Error("invalid context: "+
x);}else u=j;u.__proto__=y.fn;u.selector=j;u.context=x;return u}y.fn=[];y.fn.constructor=y;y.symbol="$";window[y.symbol]=window.Bling=y;(function(j){var x=", ",u=/, */,v=" ",n="",I=/\[object (\w+)\]/,D=Math.min,E=Math.max,J=Math.ceil,L=Math.sqrt;Object.Keys=function(g,i){var f=[],c=0,d=null;for(d in g)if(i||g.hasOwnProperty(d))f[c++]=d;return f};Object.Extend=function(g,i,f){var c;if(Object.prototype.toString.apply(f)==="[object Array]")for(c in f)g[f[c]]=i[f[c]]!==void 0?i[f[c]]:g[f[c]];else for(c in f=
Object.Keys(i))g[f[c]]=i[f[c]];return g};Object.Extend(Object,{Values:function(g,i){var f=Object.Keys(g,i),c={},d=0,a=null;for(d in f){a=f[d];c[g[a]]=a}return c},IsType:function(g,i){return g==null?g===i:g.__proto__==null?false:g.__proto__.constructor===i?true:typeof i==="string"?g.__proto__.constructor.name===i:Object.IsType(g.__proto__,i)},IsString:function(g){return typeof g==="string"||Object.IsType(g,String)},IsNumber:isFinite,IsFunc:function(g){return typeof g==="function"||Object.IsType(g,
Function)},IsNode:function(g){return g?g.nodeType>0:false},IsFragment:function(g){return g?g.nodeType===11:false},IsArray:function(g){return g?Function.ToString(g)==="[object Array]"||Object.IsType(g,Array):false},IsBling:function(g){return Object.IsType(g,y)},IsObject:function(g){return typeof g==="object"},HasValue:function(g){return g!=null},Unbox:function(g){if(Object.IsObject(g))switch(true){case Object.IsString(g):return g.toString();case Object.IsNumber(g):return Number(g)}return g}});Object.Extend(Function,
{Empty:function(){},Bound:function(g,i,f){f=f||[];f.splice(0,0,i);f=g.bind.apply(g,f);f.toString=function(){return"bound-method of "+i+"."+g.name};return f},Trace:function(g,i){var f=function(){console.log(i?i:n+(this.name?this.name:this),"."+g.name+"(",Array.Slice(arguments,0),")");return g.apply(this,arguments)};f.toString=function(){return g.toString()};console.log("Function.Trace:",i?i:g.name,"created");return f},NotNull:function(g){return g!=null},IndexFound:function(g){return g>-1},ReduceAnd:function(g){return g&&
this},UpperLimit:function(g){return function(i){return Math.min(g,i)}},LowerLimit:function(g){return function(i){return Math.max(g,i)}},ToString:function(g){return Object.prototype.toString.apply(g)},Px:function(g){return function(){return Number.Px(this,g)}}});Object.Extend(Array,{Slice:function(g,i,f){var c=[],d=0,a=g.length;f=f==null?a:f<0?a+f:f;for(i=i==null?0:i<0?a+i:i;i<f;)c[d++]=g[i++];return c},Coalesce:function(){var g;if(arguments.length>1)g=arguments;else if(Object.IsArray(arguments[0]))g=
arguments[0];else throw Error.ArgumentError("expected either multiple arguments or an Array as first argument");for(var i=g.length,f=0;f<i;f++)if(g[f]!=null)return g[f]}});Object.Extend(Number,{Px:function(g,i){return parseInt(g,10)+(i|0)+"px"},AtLeast:function(g){return function(i){return E(parseFloat(i||0),g)}},AtMost:function(g){return function(i){return D(parseFloat(i||0),g)}}});Object.Extend(String,{PadLeft:function(g,i,f){for(f=f||v;g.length<i;)g=f+g;return g},PadRight:function(g,i,f){for(f=
f||v;g.length<i;)g+=f;return g},Splice:function(g,i,f,c){var d=g.length;f=f==null?d:f<0?d+f:f;return g.substring(0,i==null?0:i<0?d+i:i)+c+g.substring(f)}});Object.Extend(Event,{Prevent:function(g){g.stopPropagation();g.preventDefault();g.cancelBubble=true;g.returnValue=false},Stop:function(g){g.preventDefault();g.cancelBubble=true},Cancel:function(g){g.stopPropagation();g.returnValue=false}});Object.Extend(Error,{ArgumentError:function(){return Error.apply(this,arguments)},TypeError:TypeError});String.prototype.trimLeft=
Array.Coalesce(String.prototype.trimLeft,function(){return this.replace(/^\s+/,"")});Element.prototype.matchesSelector=Array.Coalesce(Element.prototype.webkitMatchesSelector,Element.prototype.mozMatchesSelector,Element.prototype.matchesSelector);j.plugin=function(g){function i(e,h){if(e[0]===y.symbol)y[e.substr(1)]=h;else y.fn[e]=h}var f=g.call(j,j),c=arguments.callee.s=arguments.callee.s||[],d=0,a=0,b=null;if(Object.IsArray(f)&&(a=f.length)>0)for(;d<a;d++)i(f[d].name,f[d]);else for(d in b=Object.Keys(f,
true))i(b[d],f[b[d]]);c.push(g.name);c[g.name]=f};j.plugin(function(){function g(c){var d;return function(){d=this[c];return Object.IsFunc(d)?Function.Bound(d,this):d}}function i(c){var d=c.indexOf(".");return d>-1?this.zip(c.substr(0,d)).zip(c.substr(d+1)):this.map(g(c))}var f=new function(){this.queue=[];this.next=Function.Bound(function(){this.queue.length>0&&this.queue.shift()()},this);this.schedule=function(c,d){if(Object.IsFunc(c)){var a=this.queue.length;c.order=d+(new Date).getTime();if(a===
0||c.order>this.queue[a-1].order)this.queue[a]=c;else{for(var b=false,e=0;e<a;e++)if(this.queue[e].order>c.order){this.queue.splice(e,0,c);b=true;break}b||this.queue.push(c)}setTimeout(this.next,d)}}};return[function(c){return j([this[c]])},function(c){for(var d=-1,a=this.length,b=null;++d<a;){b=this[d];c.call(b,b)}return this},function(c){var d=this.len(),a=j(d),b=0,e=null;a.context=this;for(a.selector=c;b<d;b++){e=this[b];try{a[b]=c.call(e,e)}catch(h){a[b]=h}}return a},function(c,d){if(!c)return this;
var a=d,b=this;if(d==null){a=this[0];b=this.skip(1)}b.each(function(){a=c.call(this,a,this)});return a},function(c,d){var a=j(),b,e,h=b=e=0;a.context=this.context;for(a.selector=this.selector;h=this[e++];)a.contains(h,d)||(a[b++]=h);for(e=0;h=c[e++];)a.contains(h,d)||(a[b++]=h);return a},function(c){var d=j(),a=0,b=0,e=this.length,h=c.length;d.context=this.context;for(d.selector=this.selector;a<e;a++)for(b=0;b<h;b++)if(this[a]===c[b]){d[d.length]=this[a];break}return d},function(c){return this.union(this,
c)},function(c,d){return this.count(c,d)>0},function(c,d){if(c===void 0)return this.len();var a=0;this.each(function(b){if(d&&b===c||!d&&b==c)a++});return a},function(){switch(arguments.length){case 0:return this;case 1:return i.call(this,arguments[0]);default:for(var c={},d=j(),a=arguments.length,b=this.length,e=0,h=0,k=null;e<a;e++)c[arguments[e]]=i.call(this,arguments[e]);for(e=0;e<b;e++){a={};for(k in c)a[k]=c[k].shift();d[h++]=a}return d}},function(c,d){if(!c)return this;var a=c.indexOf(".");
return a>-1?this.zip(c.substr(0,a)).zap(c.substr(a+1),d):Object.IsArray(d)?this.each(function(b){b[c]=d[++a]}):this.each(function(){this[c]=d})},function(c){c=D(c|0,this.len());var d=j(c),a=-1;d.context=this.context;for(d.selector=this.selector;++a<c;)d[a]=this[a];return d},function(c){c=D(this.len(),E(0,c|0));var d=0,a=this.len()-c,b=j(a);b.context=this.context;for(b.selector=this.selector;d<a;d++)b[d]=this[d+c];return b},function(c){return c?this.take(c):this[0]},function(c){return c?this.skip(this.len()-
c):this[this.length-1]},function(c){if(this.length===0)return n;return this.reduce(function(d){return d+c+this})},function(c,d){var a=j(Array.Slice(this,c,d));a.context=this.context;a.selector=this.selector;return a},function(c){for(var d=this.len()-1,a=-1,b=c.length;a<b-1;)this[++d]=c[++a];return this},function(c){Array.prototype.push.call(this,c);return this},function(c){var d=0,a=-1,b=this.length,e=j(),h=null;e.context=this;for(e.selector=c;d<b;d++)if(h=this[d])if(Object.IsFunc(c)&&c.call(h,h)||
Object.IsString(c)&&h.webkitMatchesSelector&&h.webkitMatchesSelector(c)||Object.IsType(c,"RegExp")&&c.test(h))e[++a]=h;return e},function(c){return this.map(function(){return c.test(this)})},function(c){return this.zip("matchesSelector").call(c)},function(c){var d=c.length,a=this.length,b=j(2*E(a,d));a=a-1;b.context=this.context;for(b.selector=this.selector;a>=0;a--)b[a*2+1]=this[a];for(;++a<d;)b[a*2]=c[a];return b},function(c){var d=this.len(),a=0,b=j(J(d/2)),e=0;b.context=this.context;b.selector=
this.selector;for(e=0;e<d-1;e+=2)b[a++]=c.call(this,this[e],this[e+1]);if(d%2===1)b[a++]=c.call(this,this[d-1],undefined);return b},function(){var c=j(),d=this.len(),a=null,b=0,e=0,h=0,k=0;c.context=this.context;for(c.selector=this.selector;e<d;e++){a=this[e];h=0;for(b=a.length;h<b;)c[k++]=a[h++]}return c},function(){return this.apply(null,arguments)},function(c,d){return this.map(function(){if(Object.IsFunc(this))return this.apply(c,d);return this})},function(){return j.symbol+"(["+this.map(function(){return this===
undefined||this===window?"undefined":this===null?"null":this.toString().replace(I,"$1")}).join(x)+"])"},function(c,d){d&&f.schedule(Function.Bound(d,this),c);return this},function(c){c?console.log(c,this,this.length+" items"):console.log(this,this.length+" items");return this},function(){for(var c=this.length;c>-1&&this[--c]===undefined;);return c+1}]});j.plugin(function(){function g(a,b){a&&b&&a.parentNode.insertBefore(b,a)}function i(a){return Object.IsNode(a)?a:Object.IsBling(a)?a.toFragment():
Object.IsString(a)?j(a).toFragment():Object.IsFunc(a.toString)?j(a.toString()).toFragment():undefined}function f(a){for(var b=a.cloneNode(),e=0,h=a.childNodes.length;e<h;e++)b.appendChild(f(a.childNodes[e]));return b}function c(a){return function(){window.getComputedStyle(this,null).getPropertyValue(a)}}var d=null;return{$HTML:{parse:function(a){var b=document.createElement("html"),e=document.createDocumentFragment();b.innerHTML=a;a=b.childNodes[1];b=a.childNodes;var h=b.length;if(h===1)return a.removeChild(b[0]);
for(var k=0;k<h;k++)e.appendChild(a.removeChild(b[0]));return e},stringify:function(a){a=f(a);var b=document.createElement("div");b.appendChild(a);var e=b.innerHTML;b.removeChild(a);a.parentNode=null;return e},escape:function(a){d=d||j("<div>&nbsp;</div>").child(0);a=d.zap("data",a).zip("parentNode.innerHTML").first();d.zap("data",n);return a}},$Color:{fromCss:function(a){a=a||this;if(Object.IsString(a)){var b=document.createElement("div");b.style.display="none";b.style.color=a;a=j(b).appendTo(document.body);
b=window.getComputedStyle(b,null).getPropertyValue("color");a.remove();if(b){b=b.slice(b.indexOf("(")+1,b.indexOf(")")).split(u);if(b.length===3)b[3]="1.0";return j(b).floats()}}},toCss:function(a){function b(e){e=e.map(Function.UpperLimit(255)).map(Function.LowerLimit(0));e[3]=D(1,e[3]);return"rgba("+e.join(x)+")"}a=a||this;return Object.IsBling(a[0])?a.map(b):b(a)},invert:function(a){var b=j(4);if(Object.IsString(a))a=j.Color.fromCss(a);b[0]=255-a[0];b[1]=255-a[1];b[2]=255-a[2];b[3]=a[3];return b}},
html:function(a){return a===undefined?this.zip("innerHTML"):Object.IsString(a)?this.zap("innerHTML",a):Object.IsBling(a)?this.html(a.toFragment()):Object.IsNode(a)?this.each(function(){for(this.replaceChild(this.childNodes[0],a);this.childNodes.length>1;)this.removeChild(this.childNodes[1])}):undefined},append:function(a){if(a==null)return this;a=i(a);var b=this.zip("appendChild");b.take(1).call(a);b.skip(1).each(function(){this(f(a))});return this},appendTo:function(a){if(a==null)return this;j(a).append(this);
return this},prepend:function(a){if(a==null)return this;a=i(a);this.take(1).each(function(){g(this.childNodes[0],a)});this.skip(1).each(function(){g(this.childNodes[0],f(a))});return this},prependTo:function(a){if(a==null)return this;j(a).prepend(this);return this},before:function(a){if(a==null)return this;a=i(a);this.take(1).each(function(){g(this,a)});this.skip(1).each(function(){g(this,f(a))});return this},after:function(a){if(a==null)return this;a=i(a);this.take(1).each(function(){this.parentNode.insertBefore(a,
this.nextSibling)});this.skip(1).each(function(){this.parentNode.insertBefore(f(a),this.nextSibling)});return this},wrap:function(a){a=i(a);if(Object.IsFragment(a))throw Error("cannot wrap something with a fragment");return this.map(function(b){if(Object.IsFragment(b))a.appendChild(b);else if(Object.IsNode(b)){var e=b.parentNode;if(e){var h=document.createElement("dummy");a.appendChild(e.replaceChild(h,b));e.replaceChild(a,h)}else a.appendChild(b)}return b})},unwrap:function(){return this.each(function(){this.parentNode&&
this.parentNode.parentNode&&this.parentNode.parentNode.replaceChild(this,this.parentNode)})},replace:function(a){a=i(a);var b=j(),e=-1;this.take(1).each(function(){if(this.parentNode){this.parentNode.replaceChild(a,this);b[++e]=a}});this.skip(1).each(function(){if(this.parentNode){var h=f(a);this.parentNode.replaceChild(h,this);b[++e]=h}});return b},attr:function(a,b){var e=this.zip(b===undefined?"getAttribute":b===null?"removeAttribute":"setAttribute").call(a,b);return b?this:e},addClass:function(a){return this.removeClass(a).each(function(){var b=
this.className.split(v).filter(function(e){return e&&e!=n});b.push(a);this.className=b.join(v)})},removeClass:function(a){var b=function(e){return e!=a};return this.each(function(){this.className=this.className.split(v).filter(b).join(v)})},toggleClass:function(a){function b(e){return e!=a}return this.each(function(e){var h=e.className.split(v);if(h.indexOf(a)>-1)e.className=h.filter(b).join(v);else{h.push(a);e.className=h.join(v)}})},hasClass:function(a){return this.zip("className.split").call(v).zip("indexOf").call(a).map(Function.IndexFound)},
text:function(a){return a?this.zap("textContent",a):this.zip("textContent")},val:function(a){return a?this.zap("value",a):this.zip("value")},css:function(a,b){if(Object.HasValue(b)||Object.IsObject(a)){var e=this.zip("style.setProperty"),h=0,k=0,p=e.length;if(Object.IsString(a))e.call(a,b);else if(Object.IsArray(b))for(k=E(b.length,p);h<k;h++)e[h%p](b[h%k]);else if(Object.IsObject(a))for(h in a)e.call(h,a[h]);return this}e=this.map(c(a));return this.zip("style").zip(a).weave(e).fold(function(m,t){return m?
m:t})},defaultCss:function(a,b){var e=this.selector,h=n;if(Object.IsString(a))if(Object.IsString(b))h+=e+" { "+a+": "+b+" } ";else throw Error("defaultCss requires a value with a string key");else if(Object.IsObject(a)){h+=e+" { ";for(var k in a)h+=k+": "+a[k]+"; ";h+="} "}j.synth("style").text(h).appendTo("head");return this},empty:function(){return this.html(n)},rect:function(){return this.zip("getBoundingClientRect").call()},width:function(a){return a==null?this.rect().zip("width"):this.css("width",
a)},height:function(a){return a==null?this.rect().zip("height"):this.css("height",a)},top:function(a){return a==null?this.rect().zip("top"):this.css("top",a)},left:function(a){return a==null?this.rect().zip("left"):this.css("left",a)},bottom:function(a){return a==null?this.rect().zip("bottom"):this.css("bottom",a)},right:function(a){return a==null?this.rect().zip("right"):this.css("right",a)},position:function(a,b){return a==null?this.rect():b==null?this.css("left",Number.Px(a)):this.css({top:Number.Px(b),
left:Number.Px(a)})},center:function(a){a=a||"viewport";var b=document.body.scrollLeft+document.body.clientHeight/2,e=document.body.scrollTop+document.body.clientWidth/2;return this.each(function(){var h=j(this),k=h.height().floats().first(),p=h.width().floats().first();p=a==="viewport"||a==="horizontal"?e-p/2:NaN;k=a==="viewport"||a==="vertical"?b-k/2:NaN;h.css({position:"absolute",left:Object.IsNumber(p)?p+"px":undefined,top:Object.IsNumber(k)?k+"px":undefined})})},trueColor:function(a,b){a=a||
"background-color";b=b||function(e){e[0]+=(this[0]-e[0])*this[3];e[1]+=(this[1]-e[1])*this[3];e[2]+=(this[2]-e[2])*this[3];e[3]=D(1,e[3]+this[3]);return e};return this.parents().map(function(){return this.map(window.getComputedStyle).filter(Object.HasValue).zip("getPropertyValue").call(a).filter(Object.IsString).map(j.Color.fromCss).reverse().reduce(b,j([0,0,0,0])).map(j.Color.toCss)})},child:function(a){return this.map(function(){var b=this.childNodes.length,e=a>=0?a:a+b;if(e<b)return this.childNodes[e];
return null})},children:function(){return this.map(function(){return j(this.childNodes,this)})},parent:function(){return this.zip("parentNode")},parents:function(){return this.map(function(){for(var a=j(),b=-1,e=this;e=e.parentNode;)a[++b]=e;return a})},prev:function(){return this.map(function(){for(var a=j(),b=-1,e=this;e=e.previousSibling;)a[++b]=e;return a})},next:function(){return this.map(function(){for(var a=j(),b=-1,e=this;e=e.nextSibling;)a[++b]=e;return a})},remove:function(){return this.each(function(){this.parentNode&&
this.parentNode.removeChild(this)})},find:function(a){return this.filter("*").map(function(){return j(a,this)}).flatten()},clone:function(){return this.map(f)},toFragment:function(){if(this.length===1)return i(this[0]);var a=document.createDocumentFragment();this.map(i).map(Function.Bound(a.appendChild,a));return a}}});j.plugin(function(){return[function(){return this.map(function(){if(Object.IsBling(this))return this.floats();return parseFloat(this)})},function(){return this.map(function(){if(Object.IsBling(this))return this.ints();
return parseInt(this,10)})},function(g){g=g||0;return this.ints().map(Function.Px(g))},function(){return this.reduce(function(g){if(Object.IsBling(this))return this.min();return D(this,g)})},function(){return this.reduce(function(g){if(Object.IsBling(this))return this.max();return E(this,g)})},function(){return this.sum()/this.length},function(){return this.reduce(function(g){if(Object.IsBling(this))return g+this.sum();return g+this})},function(){return this.map(function(){if(Object.IsBling(this))return this.squares();
return this*this})},function(){var g=this.map(function(){if(Object.IsBling(this))return this.magnitude();return parseFloat(this)});return L(g.squares().sum())},function(g){return this.map(function(){if(Object.IsBling(this))return this.scale(g);return g*this})},function(){return this.scale(1/this.magnitude())}]});j.plugin(function(){function g(d){eval("var g = function "+d+"(f) { // ."+d+"([f]) - trigger [or bind] the '"+d+"' event \nreturn Object.IsFunc(f) ? this.bind('"+d+"',f) : this.trigger('"+
d+"', f ? f : {}) }");return eval("g")}function i(d,a,b,e,h){j(a).bind(b,h).each(function(){var k=this.__alive__=this.__alive__||{};k=k[d]=k[d]||{};(k[b]=k[b]||{})[e]=h})}function f(d,a,b,e){var h=j(a);h.each(function(){var k=this.__alive__=this.__alive__||{};k=k[d]=k[d]||{};k=k[b]=k[b]||{};h.unbind(b,k[e]);delete k[e]})}setTimeout(function(){j.fn.trigger!=null&&document.readyState==="complete"?j(document).trigger("ready"):setTimeout(arguments.callee,20)},0);var c=[function(d,a){var b=(d||n).split(u),
e=b.length,h=0;return this.each(function(){for(h=0;h<e;h++)this.addEventListener(b[h],a)})},function(d,a){var b=0,e=(d||n).split(u),h=e.length;return this.each(function(){for(;b<h;b++)this.removeEventListener(e[b],a)})},function(d,a){for(var b=0,e=(d||n).split(u),h=e.length;b<h;b++)this.bind(e[b],function(k){a.call(this,k);this.unbind(k.type,arguments.callee)})},function(d){function a(){var m=0;return function(t){e[m].call(this,t);m=++m%p}}for(var b=0,e=Array.Slice(arguments,1,arguments.length),h=
(d||n).split(u),k=h.length,p=e.length;b<k;)this.bind(h[b++],a());return this},function(d,a){var b,e=0,h=(d||n).split(u),k=h.length,p=null;for(a=Object.Extend({bubbles:true,cancelable:true},a);e<k;e++){p=h[e];switch(p){case "click":case "mousemove":case "mousedown":case "mouseup":case "mouseover":case "mouseout":b=document.createEvent("MouseEvents");a=Object.Extend({detail:1,screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false,button:0,relatedTarget:null},
a);b.initMouseEvent(p,a.bubbles,a.cancelable,window,a.detail,a.screenX,a.screenY,a.clientX,a.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,a.button,a.relatedTarget);break;case "blur":case "focus":case "reset":case "submit":case "abort":case "change":case "load":case "unload":b=document.createEvent("UIEvents");b.initUIEvent(p,a.bubbles,a.cancelable,window,1);break;case "touchstart":case "touchmove":case "touchend":case "touchcancel":b=document.createEvent("TouchEvents");a=Object.Extend({detail:1,
screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false,touches:[],targetTouches:[],changedTouches:[],scale:1,rotation:0},a);b.initTouchEvent(p,a.bubbles,a.cancelable,window,a.detail,a.screenX,a.screenY,a.clientX,a.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,a.touches,a.targetTouches,a.changedTouches,a.scale,a.rotation);break;case "gesturestart":case "gestureend":case "gesturecancel":b=document.createEvent("GestureEvents");a=Object.Extend({detail:1,screenX:0,
screenY:0,clientX:0,clientY:0,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false,target:null,scale:1,rotation:0},a);b.initGestureEvent(p,a.bubbles,a.cancelable,window,a.detail,a.screenX,a.screenY,a.clientX,a.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,a.target,a.scale,a.rotation);break;default:b=document.createEvent("Events");b.initEvent(p,a.bubbles,a.cancelable);b=Object.Extend(b,a)}b&&this.each(function(){this.dispatchEvent(b);delete b.result;delete b.returnValue})}return this},function(d,
a){function b(k){j(e,h).intersect(j(k.target).parents().first().union(j(k.target))).each(function(){k.target=this;a.call(this,k)})}var e=this.selector,h=this.context;j(h).bind(d,b);i(e,h,d,a,b);return this},function(d,a){var b=this.context,e=f(this.selector,b,d,a);j(b).unbind(d,e);return this},function(d){var a=0,b=Array.Slice(arguments,1,arguments.length);return this.live(d,function(e){b[a].call(this,e);a=++a%b.length})},function(d){this.css("cursor").intersect(["auto",n]).len()>0&&this.css("cursor",
"pointer");return Object.IsFunc(d)?this.bind("click",d):this.trigger("click",d?d:{})}];["mousemove","mousedown","mouseup","mouseover","mouseout","blur","focus","load","ready","unload","reset","submit","keyup","keydown","change","abort","cut","copy","paste","selection","drag","drop","orientationchange","touchstart","touchmove","touchend","touchcancel","gesturestart","gestureend","gesturecancel"].forEach(function(d){c.push(g(d))});return c});j.plugin(function(){var g={slow:700,medium:500,normal:300,
fast:100,instant:0,now:0},i=/(?:scale(?:3d)*|translate(?:[XYZ]|3d)*|rotate(?:[XYZ]|3d)*)/;return[function(f){var c=g[f];return Object.HasValue(c)?c:parseFloat(f)},function(f,c,d,a){if(Object.IsFunc(c)){a=c;d=c=null}else if(Object.IsFunc(d)){a=d;d=null}c=Object.HasValue(c)?c:"normal";d=d||"ease";var b=j.duration(c);c=[];var e=0,h=0,k=null,p=n,m={};for(h in f)if(i.test(h)){k=f[h];if(k.join)k=j(k).px().join(x);else if(k.toString)k=k.toString();p+=v+h+"("+k+")"}else m[h]=f[h];for(h in m)c[e++]=h;if(p)c[e++]=
"-webkit-transform";b+="ms";m["-webkit-transition-property"]=c.join(x);m["-webkit-transition-duration"]=c.map(function(){return b}).join(x);m["-webkit-transition-timing-function"]=c.map(function(){return d}).join(x);if(p)m["-webkit-transform"]=p;this.css(m);return this.delay(b,a)},function(f){return this.each(function(){if(this.style){this._display=this.style.display==="none"?n:this.style.display;this.style.display="none"}}).trigger("hide").delay(50,f)},function(f){return this.each(function(){if(this.style){this.style.display=
this._display;delete this._display}}).trigger("show").delay(50,f)},function(){var f,c=f=null;return this.parents().map(function(d){for(var a=-1,b=d.length;++a<b;){var e=j(d[a]);if(e[0]===document){c=c||document;f=f||document}else{if(e.css("overflow-x").first()=="hidden")c=e;if(e.css("overflow-y").first()=="hidden")f=e;if(c&&f)break}}return j([c,f])})},function(f){this.weave(this.css("display")).fold(function(c,d){if(c==="none"){d.style.display=d._display||n;delete d._display;j(d).trigger("show")}else{d._display=
c;d.style.display="none";j(d).trigger("hide")}return d}).delay(50,f)},function(f,c){return this.css("opacity","0.0").show(function(){this.transform({opacity:"1.0",translate3d:[0,0,0]},f,c)})},function(f,c,d,a){d=d||0;a=a||0;return this.transform({opacity:"0.0",translate3d:[d,a,0]},f,function(){this.hide(c)})},function(f,c){return this.fadeOut(f,c,"-"+this.width().first(),0)},function(f,c){return this.fadeOut(f,c,this.width().first(),0)},function(f,c){return this.fadeOut(f,c,0,"-"+this.height().first())},
function(f,c){return this.fadeOut(f,c,0,this.height().first())}]});j.plugin(function(){function g(i){var f=[],c=0;i=JSON.parse(JSON.stringify(i));for(var d in i)f[c++]=d+"="+escape(i[d]);return f.join("&")}return[function(i,f){var c=new XMLHttpRequest;if(Object.IsFunc(f))f={success:Function.Bound(f,c)};f=Object.Extend({method:"GET",data:null,state:Function.Empty,success:Function.Empty,error:Function.Empty,async:true,timeout:0,withCredentials:false,followRedirects:false,asBlob:false},f);f.state=Function.Bound(f.state,
c);f.success=Function.Bound(f.success,c);f.error=Function.Bound(f.error,c);if(f.data&&f.method==="GET")i+="?"+g(f.data);else if(f.data&&f.method==="POST")f.data=g(f.data);c.open(f.method,i,f.async);c.withCredentials=f.withCredentials;c.asBlob=f.asBlob;c.timeout=f.timeout;c.followRedirects=f.followRedirects;c.onreadystatechange=function(){f.state&&f.state();if(c.readyState===4)c.status===200?f.success(c.responseText):f.error(c.status,c.statusText)};c.send(f.data);return j([c])},function(i,f){if(Object.IsFunc(f))f=
{success:f};f=f||{};f.method="POST";return j.http(i,f)},function(i,f){if(Object.IsFunc(f))f={success:f};f=f||{};f.method="GET";return j.http(i,f)}]});j.plugin(function(){function g(d,a){throw Error("sql error ["+a.code+"] "+a.message);}function i(d,a){if(!d)throw Error("assert failed: "+a);}function f(d,a,b,e){if(d==null)return null;if(Object.IsFunc(a)){e=b;b=a;a=null}a=a||[];b=b||Function.Empty;e=e||g;i(Object.IsType(this[0],"Database"),"can only call .sql() on a bling of Database");return this.transaction(function(h){h.executeSql(d,
a,b,e)})}function c(d){this.zip("transaction").call(d);return this}return[function(d,a,b,e){d=j([window.openDatabase(d||"bling.db",a||"1.0",b||"bling database",e||1024)]);d.transaction=c;d.execute=f;return d}]});j.plugin(function(){function g(m){var t=[];m=m.split(/%[\(\/]/);var o=-1,s=1,z=m.length,q=null,w=o=null;for(t.push(m[0]);s<z;s++){a:{q=m[s];o=-1;w=1;if(o==null||o===-1)o=q.length;for(var A=0;A<o;A++){if(q[A]==="(")w+=1;else if(q[A]===")")w-=1;if(w===0){o=A;break a}}o=-1}if(o===-1)return"Template syntax error: unmatched '%(' in chunk starting at: "+
m[s].substring(0,15);q=m[s].substring(0,o);o=m[s].substring(o);w=c.exec(o);if(w===null)return"Template syntax error: invalid type specifier starting at '"+o+"'";o=w[4];t.push(q);t.push(w[1]|0);t.push(w[2]|0);t.push(w[3]);t.push(o)}return t}function i(m,t){for(var o=g.cache[m]||(g.cache[m]=g(m)),s=[o[0]],z=1,q=1,w=o.length;q<w-4;q+=5){var A=o[q],G=o[q+1],H=o[q+2],B=o[q+3],l=o[q+4],C=t[A];if(C==null)C="missing required value: "+A;switch(B){case "d":s[z++]=n+parseInt(C,10);break;case "f":s[z++]=parseFloat(C).toFixed(H);
break;default:s[z++]=n+C}if(G>0)s[z]=String.PadLeft(s[z],G);s[z++]=l}return s.join(n)}function f(m){function t(){var F=j.HTML.parse(G);B?B.appendChild(F):C.push(F);G=n;l=d}function o(){var F=document.createElement(s);F.id=z?z:null;F.className=q?q:null;for(var K in H)F.setAttribute(K,H[K]);B?B.appendChild(F):C.push(F);B=F;G=A=w=q=z=s=n;H={};l=d}var s=n,z=n,q=n,w=n,A=n,G=n,H={},B=null,l=d,C=j([]),M=0,r=null;C.selector=m;for(C.context=document;r=m[M++];)if(r==="+"&&l===d)B=B?B.parentNode:B;else if(r===
"#"&&(l===d||l===b||l===e))l=a;else if(r==="."&&(l===d||l===a||l===e)){if(q.length>0)q+=v;l=b}else if(r==="."&&q.length>0)q+=v;else if(r==="["&&(l===d||l===a||l===b||l===e))l=e;else if(r==="="&&l===e)l=h;else if(r==='"'&&l===d)l=k;else if(r==="'"&&l===d)l=p;else if(r==="]"&&(l===e||l===h)){H[w]=A;A=w=n;l=d}else if(r==='"'&&l===k)t();else if(r==="'"&&l===p)t();else if((r===v||r===",")&&l!==h&&l!==e&&s.length>0){o();if(r==",")B=null}else if(l===d)s+=r!=v?r:n;else if(l===a)z+=r;else if(l===b)q+=r;else if(l===
e)w+=r;else if(l===h)A+=r;else if(l===k||l===p)G+=r;else throw Error("Unknown input/state: '"+r+"'/"+l);s.length>0&&o();G.length>0&&t();return C}var c=/([0-9#0+-]*)\.*([0-9#+-]*)([diouxXeEfFgGcrsqm])((?:.|\n)*)/;g.cache={};var d=1,a=2,b=3,e=4,h=5,k=6,p=7;return[i,f,function(m){this.render=function(t){return i(this.map(j.HTML.stringify).join(n),Object.Extend(m,t))};return this.remove()},function(m){return i(this.map(j.HTML.stringify).join(n),m)},function(m){return f(m).appendTo(this)}]})})(y)})();
