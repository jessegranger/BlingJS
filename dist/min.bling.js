(function(){var l,q,t,B,z,w,C,A,y,r=Array.prototype.slice,E=Object.prototype.hasOwnProperty,F=function(a,h){function f(){this.constructor=a}for(var e in h)E.call(h,e)&&(a[e]=h[e]);f.prototype=h.prototype;a.prototype=new f;a.__super__=h.prototype;return a},D=function(a,h){return function(){return a.apply(h,arguments)}};!1 in document?alert("This browser is not supported"):(y=console&&console.log?function(){var a;a=1<=arguments.length?r.call(arguments,0):[];return console.log.apply(console,a)}:function(){var a;
a=1<=arguments.length?r.call(arguments,0):[];return alert(a.join(", "))},t=Math.min,q=Math.max,B=Math.sqrt,z=Object.prototype.toString,w=/,* +/,C=/^\s+/,A=/\[object (\w+)\]/,l=function(a,h){var f;h==null&&(h=document);f=Object.Type(a);if(f==="node"||f==="window"||f==="function")f=[a];else if(f==="number")f=Array(a);else if(f==="string")if(a=a.trimLeft(),a[0]==="<")f=[l.HTML.parse(a)];else if(h.querySelectorAll)f=h.querySelectorAll(a);else throw Error("invalid context: "+h+" (type: "+Object.Type(h)+
")");else if(f==="array"||f==="bling"||f==="nodelist")f=a;else if(f==="undefined"||f==="null")f=[];else throw Error("invalid selector: "+a+" (type: "+Object.Type(a)+")");f.constructor=l;f.__proto__=l.fn;f.selector=a;f.context=h;f.length=f.len();return f},l.fn=[],Object.Keys=function(a,h){var f,e,c;h==null&&(h=!1);c=[];e=0;for(f in a)if(h||a.hasOwnProperty(f))c[e++]=f;return c},Object.Extend=function(a,h,f){var e,c,d;if(z.apply(f)==="[object Array]")for(e in f)h[f[e]]!==void 0&&(a[f[e]]=h[f[e]]);else{d=
Object.Keys(h);f=0;for(c=d.length;f<c;f++)e=d[f],a[e]=h[e]}return a},Object.Extend(Object,{Type:function(a){var h;switch(!0){case a===void 0:return"undefined";case a===null:return"null";case Object.IsString(a):return"string";case Object.IsType(a,l):return"bling";case Object.IsType(a,NodeList):return"nodelist";case Object.IsArray(a):return"array";case Object.IsNumber(a):return"number";case Object.IsFragment(a):return"fragment";case Object.IsNode(a):return"node";case Object.IsFunc(a):return"function";
case Object.IsType(a,"RegExp"):return"regexp";case (h=String(a))==="true"||h==="false":return"boolean";case Object.IsObject(a):return"setInterval"in a?"window":"object"}},IsType:function(a,h){return a===null?a===h:a.constructor===h?!0:typeof h==="string"?a.constructor.name===h||z.apply(a).replace(A,"$1")===h:Object.IsType(a.__proto__,h)},IsString:function(a){return a!=null&&(typeof a==="string"||Object.IsType(a,String))},IsNumber:function(a){return a!=null&&Object.IsType(a,Number)},IsBoolean:function(a){return typeof a===
"boolean"},IsFunc:function(a){return a!=null&&(typeof a==="function"||Object.IsType(a,Function))&&a.call!=null},IsNode:function(a){return a!=null&&a.nodeType>0},IsFragment:function(a){return a!=null&&a.nodeType===11},IsArray:function(a){return a!=null&&(Object.ToString(a)==="[object Array]"||Object.IsType(a,Array))},IsBling:function(a){return a!=null&&Object.IsType(a,l)},IsObject:function(a){return a!=null&&typeof a==="object"},IsDefined:function(a){return a!=null},Unbox:function(a){if(a!=null&&Object.IsObject(a)){if(Object.IsString(a))return a.toString();
if(Object.IsNumber(a))return Number(a)}return a},ToString:function(a){return z.apply(a)}}),Object.Extend(Function,{Empty:function(){},Bound:function(a,h,f){var e;f==null&&(f=[]);"bind"in a?(f.splice(0,0,h),e=a.bind.apply(a,f)):e=function(){1<=arguments.length&&r.call(arguments,0);return a.apply(h,f)};e.toString=function(){return"bound-method of "+h+"."+a.name};return e},Trace:function(a,h,f){var e;f==null&&(f=y);e=function(){var c;c=1<=arguments.length?r.call(arguments,0):[];f(""+(h||"")+(this.name||
this)+"."+a.name+"(",c,")");return a.apply(this,c)};f("Function.Trace: "+(h||a.name)+" created.");e.toString=a.toString;return e},NotNull:function(a){return a!==null},IndexFound:function(a){return a>-1},ReduceAnd:function(a){return a&&this},UpperLimit:function(a){return function(h){return t(a,h)}},LowerLimit:function(a){return function(h){return q(a,h)}},Px:function(a){return function(){return Number.Px(this,a)}}}),Object.Extend(Array,{Coalesce:function(){var a,h,f,e;a=1<=arguments.length?r.call(arguments,
0):[];if(Object.IsArray(a[0]))return Array.Coalesce.apply(Array,a[0]);else{f=0;for(e=a.length;f<e;f++)if(h=a[f],h!=null)return h}},Extend:function(a,h){var f,e,c,d;e=a.length;c=0;for(d=h.length;c<d;c++)f=h[c],a[e++]=f;return a}}),Object.Extend(Number,{Px:function(a,h){h==null&&(h=0);return a!=null&&parseInt(a,10)+(h|0)+"px"},AtLeast:function(a){return function(h){return q(parseFloat(h||0),a)}},AtMost:function(a){return function(h){return t(parseFloat(h||0),a)}}}),Object.Extend(String,{PadLeft:function(a,
h,f){for(f==null&&(f=" ");a.length<h;)a=f+a;return a},PadRight:function(a,h,f){for(f==null&&(f=" ");a.length<h;)a+=f;return a},Splice:function(a,h,f,e){var c;c=a.length;f<0&&(f+=c);h<0&&(h+=c);return a.substring(0,h)+e+a.substring(f)},Checksum:function(a){var h,f,e;h=f=0;for(e=a.length;0<=e?h<e:h>e;0<=e?h++:h--)f+=a.charCodeAt(h);return f}}),Object.Extend(Event,{Cancel:function(a){a.stopPropagation();a.preventDefault();a.cancelBubble=!0;return a.returnValue=!1},Prevent:function(a){return a.preventDefault()},
Stop:function(a){a.stopPropagation();return a.cancelBubble=!0}}),function(a){a.plugins=[];a.plugin=function(h){var f,e,c,d,b,i,g;try{d=h.call(a,a);c=h.name||d.name;if(!c)throw Error("plugin requires a 'name'");e=function(b,c){return b[0]===l.symbol?l[b.substr(1)]=c:l.fn[b]=c};g=Object.Keys(d,!0);b=0;for(i=g.length;b<i;b++)f=g[b],f!=="name"&&e(f,d[f]);a.plugins.push(c);return a.plugins[c]=d}catch(j){return console.log("failed to load plugin",j)}};a.plugin(function(){var h;h=null;l.__defineSetter__("symbol",
function(a){h in window&&delete window[h];h=a;return window[a]=l});l.__defineGetter__("symbol",function(){return h});l.symbol="$";window.Bling=a=l;return{name:"Symbol"}});a.plugin(function(){var a,f;String.prototype.trimLeft=Array.Coalesce(String.prototype.trimLeft,function(){return this.replace(C,"")});String.prototype.split=Array.Coalesce(String.prototype.split,function(a){var c,d,b,i;c=[];for(d=i=0;(b=this.indexOf(a,d))>-1;)c[i++]=this.substring(d+1,b+1),d=b+1;return c});Array.prototype.join=Array.Coalesce(Array.prototype.join,
function(a){var c,d;c=this.length;if(c===0)return"";for(d=this[c-1];--c>0;)d=this[c-1]+a+d;return d});Element.prototype.matchesSelector=Array.Coalesce(Element.prototype.webkitMatchesSelector,Element.prototype.mozMatchesSelector,Element.prototype.matchesSelector);f=Element.prototype.toString;Element.prototype.toString=function(a){return a?(a=this.nodeName.toLowerCase(),this.id!=null?a+="#"+this.id:this.className!=null&&(a+="."+this.className.split(" ").join(".")),a):f.apply(this)};if(Element.prototype.cloneNode.length===
0)a=Element.prototype.cloneNode,Element.prototype.cloneNode=function(e){var c,d,b,i;e==null&&(e=!1);c=a.call(this);if(e){i=this.childNodes;d=0;for(b=i.length;d<b;d++)e=i[d],c.appendChild(e.cloneNode(!0))}return c};return{name:"Compat"}});a.plugin(function(){var h,f,e;h=new (function(){function c(){var c;c=D(function(){if(this.length>0)return this.shift()()},this);this.schedule=D(function(b,a){var g,j;if(!Object.IsFunc(b))throw Error("function expected, got: "+typeof b);j=this.length;b.order=a+(new Date).getTime();
if(j===0||b.order>this[j-1].order)this[j]=b;else for(g=0;0<=j?g<j:g>j;0<=j?g++:g--)if(this[g].order>b.order){this.splice(g,0,b);break}setTimeout(c,a);return this},this)}F(c,Array);return c}());f=function(c){return function(){var a;a=this[c];return Object.IsFunc(a)?Function.Bound(a,this):a}};e=function(c){var a;a=c.indexOf(".");return a>-1?this.zip(c.substr(0,a)).zip(c.substr(a+1)):this.map(f(c))};return{name:"Core",querySelectorAll:function(c){return this.filter("*").reduce(function(a,b){return Array.Extend(a,
b.querySelectorAll(c))},a())},eq:function(c){var d;d=a([this[c]]);d.context=this;return d.selector=["eq",c]},each:function(a){var d,b,i;b=0;for(i=this.length;b<i;b++)d=this[b],a.call(d,d);return this},map:function(c){var d,b,i,g;d=a();d.context=this;d.selector=["map",c];i=this.len();for(b=0;0<=i?b<i:b>i;0<=i?b++:b--){g=this[b];try{d[b]=c.call(g,g)}catch(j){d[b]=j}}return d},reduce:function(a,d){var b,i;b=d;i=this;d==null&&(b=this[0],i=this.skip(1));i.each(function(){return b=a.call(this,b,this)});
return b},union:function(c,d){var b,i,g,j;g=a();b=i=0;g.context=[this,c];for(g.selector="union";j=this[i++];)g.contains(j,d)||(g[b++]=j);for(i=0;j=c[i++];)g.contains(j,d)||(g[b++]=j);return g},intersect:function(c){var d,b,i,g,j,n;n=a();i=0;g=this.len();j=Object.IsFunc(c.len)?c.len():c.length;n.context=[this,c];n.selector="intersect";for(d=0;0<=g?d<g:d>g;0<=g?d++:d--)for(b=0;0<=j?b<j:b>j;0<=j?b++:b--)if(this[d]===c[b]){n[i++]=this[d];break}return n},distinct:function(a){return this.union(this,a)},
contains:function(a,d){var b,i,g;i=0;for(g=this.length;i<g;i++)if(b=this[i],d&&b===a||!d&&b===a)return!0;return!1},count:function(a,d){var b;if(a===void 0)return this.len();b=0;this.each(function(i){if(d&&i===a||!d&&i===a)return b++});return b},zip:function(){var c,d,b,i,g,j,n,f;c=1<=arguments.length?r.call(arguments,0):[];j=c.length;switch(j){case 0:return a();case 1:return e.call(this,c[0]);default:f={};n=this.len();g=a();for(d=b=0;0<=j?d<j:d>j;0<=j?d++:d--)f[c[d]]=e.call(this,c[d]);for(d=0;0<=
n?d<n:d>n;0<=n?d++:d--){c={};for(i in f)c[i]=f[i].shift();g[b++]=c}return g}},zap:function(a,d){var b;b=a.indexOf(".");return b>-1?this.zip(a.substr(0,b)).zap(a.substr(b+1),d):Object.IsArray(d)?this.each(function(){return this[a]=d[++b%d.length]}):this.each(function(){return this[a]=d})},zipzapmap:function(a,d){var b;b=this.zip(a);b=b.map(d);return this.zap(a,b)},take:function(c){var d,b,c=t(c|0,this.len());d=a();d.context=this;d.selector=["take",c];for(b=0;0<=c?b<c:b>c;0<=c?b++:b--)d[b]=this[b];
return d},skip:function(c){var d,b,i;c==null&&(c=0);c=t(this.len(),q(0,c|0));i=this.len()-c;d=a();d.context=this.context;d.selector=this.selector;for(b=0;0<=i?b<i:b>i;0<=i?b++:b--)d[b]=this[b+c];return d},first:function(a){a==null&&(a=1);return a===1?this[0]:this.take(a)},last:function(a){a==null&&(a=1);return a===1?this[this.len()-1]:this.skip(this.len()-a)},slice:function(c,d){var b,i,g;c==null&&(c=0);d==null&&(d=this.len());b=a();g=0;i=this.len();c<0&&(c+=i);d<0&&(d+=i);b.context=this;b.selector=
["slice",c,d];for(i=c;c<=d?i<d:i>d;c<=d?i++:i--)b[g++]=this[i];return b},concat:function(a){var d,b,i;d=this.len()-1;b=-1;for(i=Object.IsFunc(a.len)?a.len():a.length;b<i-1;)this[++d]=a[++b];return this},push:function(a){Array.prototype.push.call(this,a);return this},filter:function(c){var d,b,i,g,j,n;d=a();d.context=this;d.selector=c;g=0;switch(Object.Type(c)){case "string":b=function(b){return b.matchesSelector(c)};break;case "regexp":b=function(b){return c.test(b)};break;case "function":b=c}j=0;
for(n=this.length;j<n;j++)i=this[j],b.call(i,i)&&(d[g++]=i);return d},test:function(a){return this.map(function(){return a.test(this)})},matches:function(a){return this.zip("matchesSelector").call(a)},weave:function(c){var d,b,i,g;i=c.len();b=this.len();d=a();d.context=[this,c];d.selector="weave";for(b=g=b-1;g<=0?b<=0:b>=0;g<=0?b++:b--)d[b*2+1]=this[b];for(b=0;0<=i?b<i:b>i;0<=i?b++:b--)d[b*2]=c[b];return d},fold:function(c){var d,b,i,g,j;g=this.len();i=0;d=a();d.context=this;d.selector=["fold",c];
b=0;for(j=g-1;0<=j?b<j:b>j;b+=2)d[i++]=c.call(this,this[b],this[b+1]);g%2===1&&(d[i++]=c.call(this,this[g-1],void 0));return d},flatten:function(){var c,d,b,i,g,j,n;c=a();n=this.len();j=0;c.context=this;c.selector="flatten";for(i=0;0<=n?i<n:i>n;0<=n?i++:i--){d=this[i];b=Object.IsFunc(d.len)?d.len():d.length;for(g=0;0<=b?g<b:g>b;0<=b?g++:g--)c[j++]=d[g]}return c},call:function(){return this.apply(null,arguments)},apply:function(a,d){return this.map(function(){return Object.IsFunc(this)?this.apply(a,
d):this})},toString:function(){return a.symbol+"(["+this.map(function(){switch(this){case void 0:return"undefined";case null:return"null";case window:return"window";default:return this.toString().replace(A,"$1")}}).join(", ")+"])"},delay:function(a,d){d&&h.schedule(Function.Bound(d,this),a);return this},log:function(a){var d;d=this.len();a?y(a,this,d+" items"):y(this,d+" items");return this},len:function(){var a;for(a=this.length;this[a]!==void 0;)a++;for(;a>-1&&this[a]===void 0;)a--;return a+1}}});
a.plugin(function(){var h,f,e,c,d;f=function(b,a){return b.parentNode.insertBefore(a,b)};h=function(b,a){return b.parentNode.insertBefore(a,b.nextSibling)};d=function(b){switch(Object.Type(b)){case "fragment":return b;case "node":return b;case "bling":return b.toFragment();case "string":return a(b).toFragment();case "function":return a(b.toString()).toFragment();default:throw Error("toNode called with invalid argument: "+b+" (type: "+Object.Type(b)+")");}};e=null;c=function(b){return function(){return window.getComputedStyle(this,
null).getPropertyValue(b)}};return{name:"Html",$HTML:{parse:function(b){var a,g,j,c;c=document.createElement("div");c.innerHTML=b;b=c.childNodes;j=b.length;if(j===1)return c.removeChild(b[0]);a=document.createDocumentFragment();for(g=0;0<=j?g<j:g>j;0<=j?g++:g--)a.appendChild(c.removeChild(b[0]));return a},stringify:function(b){var a,g;switch(Object.Type(b)){case "string":return b;case "node":return b=b.cloneNode(!0),a=document.createElement("div"),a.appendChild(b),g=a.innerHTML,a.removeChild(b),delete b,
g}},escape:function(b){e||(e=a("<div>&nbsp;</div>").child(0));b=e.zap("data",b).zip("parentNode.innerHTML").first();e.zap("data","");return b}},html:function(b){switch(Object.Type(b)){case "undefined":return this.zip("innerHTML");case "string":return this.zap("innerHTML",b);case "bling":return this.html(b.toFragment());case "node":return this.each(function(){var a;this.replaceChild(this.childNodes[0],b);for(a=[];this.childNodes.length>1;)a.push(this.removeChild(this.childNodes[1]));return a})}},append:function(b){var a,
b=d(b);a=this.zip("appendChild");a.take(1).call(b);a.skip(1).each(function(a){return a(b.cloneNode(!0))});return this},appendTo:function(b){a(b).append(this);return this},prepend:function(b){b!=null&&(b=d(b),this.take(1).each(function(){return f(this.childNodes[0],b)}),this.skip(1).each(function(){return f(this.childNodes[0],b.cloneNode(!0))}));return this},prependTo:function(b){b!=null&&a(b).prepend(this);return this},before:function(b){b!=null&&(b=d(b),this.take(1).each(function(){return f(this,
b)}),this.skip(1).each(function(){return f(this,b.cloneNode(!0))}));return this},after:function(b){b!=null&&(b=d(b),this.take(1).each(function(){return h(this,b)}),this.skip(1).each(function(){return h(this,b.cloneNode(!0))}));return this},wrap:function(b){b=d(b);if(Object.IsFragment(b))throw Error("cannot wrap with a fragment");return this.map(function(a){var g,j;if(Object.IsFragment(a))b.appendChild(a);else if(Object.IsNode(a))(j=a.parentNode)?(g=document.createElement("dummy"),b.appendChild(j.replaceChild(g,
a)),j.replaceChild(b,g)):b.appendChild(a);return a})},unwrap:function(){return this.each(function(){if(this.parentNode&&this.parentNode.parentNode)return this.parentNode.parentNode.replaceChild(this,this.parentNode)})},replace:function(b){var c,g,b=d(b);c=a();g=0;this.take(1).each(function(){if(this.parentNode)return this.parentNode.replaceChild(b,this),c[g++]=b});this.skip(1).each(function(){var a;if(this.parentNode)return a=b.cloneNode(!0),this.parentNode.replaceChild(a,this),c[g++]=a});return c},
attr:function(a,c){switch(c){case void 0:return this.zip("getAttribute").call(a,c);case null:return this.zip("removeAttribute").call(a,c);default:return this.zip("setAttribute").call(a,c),this}},addClass:function(a){return this.removeClass(a).each(function(){var c;c=this.className.split(" ").filter(function(a){return a!==""});c.push(a);return this.className=c.join(" ")})},removeClass:function(a){var c;c=function(g){return g!==a};return this.each(function(){return this.className=this.className.split(" ").filter(c).join(" ")})},
toggleClass:function(a){var c;c=function(g){return g!==a};return this.each(function(){var g;g=this.className.split(" ");return g.indexOf(a)>-1?this.className=g.filter(c).join(" "):(g.push(a),this.className=g.join(" "))})},hasClass:function(a){return this.zip("className.split").call(" ").zip("indexOf").call(a).map(Function.IndexFound)},text:function(a){return a!=null?this.zap("textContent",a):this.zip("textContent")},val:function(a){return a!=null?this.zap("value",a):this.zip("value")},css:function(a,
d){var g,j,n,e;if(d!=null||Object.IsObject(a)){e=this.zip("style.setProperty");n=e.len();if(Object.IsObject(a))for(g in a)e.call(g,a[g],"");else if(Object.IsString(d))e.call(a,d,"");else if(Object.IsArray(d)){j=q(d.length,n);for(g=0;0<=j?g<j:g>j;0<=j?g++:g--)e[g%n](a,d[g%j],"")}return this}else return g=this.map(c(a)),j=this.zip("style").zip(a),j.weave(g).fold(function(a,b){return a||b})},defaultCss:function(b,c){var g,j,d;j=this.selector;d="";if(Object.IsString(b))if(Object.IsString(c))d+=""+j+" { "+
b+": "+c+" } ";else throw Error("defaultCss requires a value with a string key");else if(Object.IsObject(b)){d+=""+j+" { ";for(g in b)d+=""+g+": "+b[g]+"; ";d+="} "}a.synth("style").text(d).appendTo("head");return this},empty:function(){return this.html("")},rect:function(){return this.zip("getBoundingClientRect").call()},width:function(a){return a===null?this.rect().zip("width"):this.css("width",a)},height:function(a){return a===null?this.rect().zip("height"):this.css("height",a)},top:function(a){return a===
null?this.rect().zip("top"):this.css("top",a)},left:function(a){return a===null?this.rect().zip("left"):this.css("left",a)},bottom:function(a){return a===null?this.rect().zip("bottom"):this.css("bottom",a)},right:function(a){return a===null?this.rect().zip("right"):this.css("right",a)},position:function(a,c){return a===null?this.rect():c===null?this.css("left",Number.Px(a)):this.css({top:Number.Px(c),left:Number.Px(a)})},center:function(b){var c,g,j;b==null&&(b="viewport");c=document.body;g=c.scrollTop+
c.clientHeight/2;j=c.scrollLeft+c.clientWidth/2;return this.each(function(){var c,d,i;d=a(this);c=d.height().floats().first();i=d.width().floats().first();i=b==="viewport"||b==="horizontal"?j-i/2:NaN;c=b==="viewport"||b==="vertical"?g-c/2:NaN;return d.css({position:"absolute",left:Number.Px(i),top:Number.Px(c)})})},scrollToCenter:function(){document.body.scrollTop=this.zip("offsetTop")[0]-window.innerHeight/2;return this},child:function(a){return this.zip("childNodes").map(function(){var c;c=a;c<
0&&(c+=this.length);return this[c]})},children:function(){return this.map(function(){return a(this.childNodes,this)})},parent:function(){return this.zip("parentNode")},parents:function(){return this.map(function(){var b,c,g;b=a();c=0;for(g=this;g=g.parentNode;)b[c++]=g;return b})},prev:function(){return this.map(function(){var b,c,g;b=a();c=0;for(g=this;g=g.previousSibling;)b[c++]=g;return b})},next:function(){return this.map(function(){var b,c,g;b=a();c=0;for(g=this;g=g.nextSibling;)b[c++]=g;return b})},
remove:function(){return this.each(function(){if(this.parentNode)return this.parentNode.removeChild(this)})},find:function(b){return this.filter("*").map(function(){return a(b,this)}).flatten()},clone:function(a){a==null&&(a=!0);return this.map(function(){return Object.IsNode(this)?this.cloneNode(a):null})},toFragment:function(){var a,c;return this.len()>1?(c=document.createDocumentFragment(),a=Function.Bound(c.appendChild,c),this.map(d).map(a),c):d(this[0])}}});a.plugin(function(){return{name:"Maths",
floats:function(){return this.map(parseFloat)},ints:function(){return this.map(function(){return parseInt(this,10)})},px:function(a){a==null&&(a=0);return this.ints().map(Function.Px(a))},min:function(){return this.reduce(function(a){return t(this,a)})},max:function(){return this.reduce(function(a){return q(this,a)})},average:function(){return this.sum()/this.len()},sum:function(){return this.reduce(function(a){return a+this})},squares:function(){return this.map(function(){return this*this})},magnitude:function(){return B(this.floats().squares().sum())},
scale:function(a){return this.map(function(){return a*this})},normalize:function(){return this.scale(1/this.magnitude())}}});a.plugin(function(){var h,f,e,c,d,b,i;h=function(a){return function(b){b==null&&(b={});return Object.IsFunc(b)?this.bind(a,b):this.trigger(a,b)}};c=function(b,c,d,i,e){return a(c).bind(d,e).each(function(){var a;a=this.__alive__||(this.__alive__={});a=a[b]||(a[b]={});return(a[d]||(a[d]={}))[i]=e})};i=function(b,c,d,i){var e;e=a(c);return e.each(function(){var a;a=this.__alive__||
(this.__alive__={});a=a[b]||(a[b]={});a=a[d]||(a[d]={});e.unbind(d,a[i]);return delete a[i]})};f=e=0;b=function(){if(!e++)return a(document).trigger("ready").unbind("ready"),typeof document.removeEventListener==="function"&&document.removeEventListener("DOMContentLoaded",b,!1),typeof window.removeEventListener==="function"?window.removeEventListener("load",b,!1):void 0};f++||(typeof document.addEventListener==="function"&&document.addEventListener("DOMContentLoaded",b,!1),typeof window.addEventListener===
"function"&&window.addEventListener("load",b,!1));d={name:"Events",bind:function(a,b){var c,i;c=(a||"").split(w);i=function(a){d=b.apply(this,arguments);d===!1&&Event.Prevent(a);return d};return this.each(function(){var a,b,d,g;g=[];b=0;for(d=c.length;b<d;b++)a=c[b],g.push(this.addEventListener(a,i,!1));return g})},unbind:function(a,b){var c;c=(a||"").split(w);return this.each(function(){var a,d,g,i;i=[];d=0;for(g=c.length;d<g;d++)a=c[d],i.push(this.removeEventListener(a,b,null));return i})},once:function(a,
b){var c,d,i,e,f;c=(a||"").split(w);f=[];i=0;for(e=c.length;i<e;i++)d=c[i],f.push(this.bind(d,function(a){b.call(this,a);return this.removeEventListener(a.type,arguments.callee,null)}));return f},cycle:function(){var a,b,c,d,i,e,f;a=arguments[0];c=2<=arguments.length?r.call(arguments,1):[];a=(a||"").split(w);i=c.length;b=function(){var a;a=0;return function(b){c[a].call(this,b);return a=++a%i}};e=0;for(f=a.length;e<f;e++)d=a[e],this.bind(d,b());return this},trigger:function(a,b){var c,d,i,e,f;b==
null&&(b={});i=(a||"").split(w);b=Object.Extend({bubbles:!0,cancelable:!0},b);e=0;for(f=i.length;e<f;e++){d=i[e];if(d==="click"||d==="mousemove"||d==="mousedown"||d==="mouseup"||d==="mouseover"||d==="mouseout")c=document.createEvent("MouseEvents"),b=Object.Extend({detail:1,screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:null},b),c.initMouseEvent(d,b.bubbles,b.cancelable,window,b.detail,b.screenX,b.screenY,b.clientX,b.clientY,b.ctrlKey,b.altKey,
b.shiftKey,b.metaKey,b.button,b.relatedTarget);else if(d==="blur"||d==="focus"||d==="reset"||d==="submit"||d==="abort"||d==="change"||d==="load"||d==="unload")c=document.createEvent("UIEvents"),c.initUIEvent(d,b.bubbles,b.cancelable,window,1);else if(d==="touchstart"||d==="touchmove"||d==="touchend"||d==="touchcancel")c=document.createEvent("TouchEvents"),b=Object.Extend({detail:1,screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,touches:[],targetTouches:[],changedTouches:[],
scale:1,rotation:0},b),c.initTouchEvent(d,b.bubbles,b.cancelable,window,b.detail,b.screenX,b.screenY,b.clientX,b.clientY,b.ctrlKey,b.altKey,b.shiftKey,b.metaKey,b.touches,b.targetTouches,b.changedTouches,b.scale,b.rotation);else if(d==="gesturestart"||d==="gestureend"||d==="gesturecancel")c=document.createEvent("GestureEvents"),b=Object.Extend({detail:1,screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,target:null,scale:1,rotation:0},b),c.initGestureEvent(d,b.bubbles,
b.cancelable,window,b.detail,b.screenX,b.screenY,b.clientX,b.clientY,b.ctrlKey,b.altKey,b.shiftKey,b.metaKey,b.target,b.scale,b.rotation);else{c=document.createEvent("Events");c.initEvent(d,b.bubbles,b.cancelable);try{c=Object.Extend(c,b)}catch(h){}}if(c)try{this.each(function(){return this.dispatchEvent(c)})}catch(k){y("dispatchEvent error:",k)}}return this},live:function(b,d){var i,e;e=this.selector;i=this.context;c(e,i,b,d,function(b){return a(e,i).intersect(a(b.target).parents().first().union(a(b.target))).each(function(){b.target=
this;return d.call(this,b)})});return this},die:function(b,c){var d,e;e=this.selector;d=this.context;e=i(e,d,b,c);a(d).unbind(b,e);return this},liveCycle:function(){var a,b,c;a=arguments[0];b=2<=arguments.length?r.call(arguments,1):[];c=0;return this.live(a,function(a){b[c].call(this,a);return c=++c%b.length})},click:function(a){a==null&&(a={});this.css("cursor").intersect(["auto",""]).len()>0&&this.css("cursor","pointer");return Object.IsFunc(a)?this.bind("click",a):this.trigger("click",a)},ready:function(a){a==
null&&(a={});return Object.IsFunc(a)?e?a.call(this):this.bind("ready",a):this.trigger("ready",a)}};["mousemove","mousedown","mouseup","mouseover","mouseout","blur","focus","load","unload","reset","submit","keyup","keydown","change","abort","cut","copy","paste","selection","drag","drop","orientationchange","touchstart","touchmove","touchend","touchcancel","gesturestart","gestureend","gesturecancel","hashchange"].forEach(function(a){return d[a]=h(a)});return d});a.plugin(function(){var h,f,e,c,d,b,
i;f={slow:700,medium:500,normal:300,fast:100,instant:0,now:0};h=/(?:scale(?:3d)*|translate(?:[XYZ]|3d)*|rotate(?:[XYZ]|3d)*)/;e=document.createElement("div").style;"WebkitTransform"in e?(c="-webkit-transform",b="-webkit-transition-property",d="-webkit-transition-duration",i="-webkit-transition-timing-function"):"MozTransform"in e?(c="-moz-transform",b="-moz-transition-property",d="-moz-transition-duration",i="-moz-transition-timing-function"):"OTransform"in e&&(c="-o-transform",b="-o-transition-property",
d="-o-transition-duration",i="-o-transition-timing-function");delete e;return{name:"Transform",$duration:function(a){var b;b=f[a];return b!=null?b:parseFloat(a)},transform:function(g,e,f,x){var v,p,m,l,k,o;Object.IsFunc(e)?(x=e,f=e=null):Object.IsFunc(f)&&(x=f,f=null);e==null&&(e="normal");f||(f="ease");v=a.duration(e)+"ms";k=[];l=0;o="";e={};for(p in g)h.test(p)?(m=g[p],m.join?m=a(m).px().join(", "):m.toString&&(m=m.toString()),o+=" "+p+"("+m+")"):e[p]=g[p];for(p in e)k[l++]=p;o&&(k[l++]=c);e[b]=
k.join(", ");e[d]=k.map(function(){return v}).join(", ");e[i]=k.map(function(){return f}).join(", ");o&&(e[c]=o);this.css(e);return this.delay(v,x)},hide:function(a){return this.each(function(){if(this.style){this._display="";if(this.style.display===!1)this._display=this.syle.display;return this.style.display="none"}}).trigger("hide").delay(50,a)},show:function(a){return this.each(function(){if(this.style)return this.style.display=this._display,delete this._display}).trigger("show").delay(50,a)},
toggle:function(b){return this.weave(this.css("display")).fold(function(b,c){b==="none"?(c.style.display=c._display||"",delete c._display,a(c).trigger("show")):(c._display=b,c.style.display="none",a(c).trigger("hide"));return c}).delay(50,b)},fadeIn:function(a,b){return this.css("opacity","0.0").show(function(){return this.transform({opacity:"1.0",translate3d:[0,0,0]},a,b)})},fadeOut:function(a,b,c,d){c==null&&(c=0);d==null&&(d=0);return this.transform({opacity:"0.0",translate3d:[c,d,0]},a,function(){return this.hide(b)})},
fadeLeft:function(a,b){return this.fadeOut(a,b,"-"+this.width().first(),0)},fadeRight:function(a,b){return this.fadeOut(a,b,this.width().first(),0)},fadeUp:function(a,b){return this.fadeOut(a,b,0,"-"+this.height().first())},fadeDown:function(a,b){return this.fadeOut(a,b,0,this.height().first())}}});a.plugin(function(){var h;h=function(a){var e,c,d;d=[];c=0;a=JSON.parse(JSON.stringify(a));for(e in a)d[c++]=""+e+"="+escape(a[e]);return d.join("&")};return{name:"Http",$http:function(f,e){var c;e==null&&
(e={});c=new XMLHttpRequest;Object.IsFunc(e)&&(e={success:Function.Bound(e,c)});e=Object.Extend({method:"GET",data:null,state:Function.Empty,success:Function.Empty,error:Function.Empty,async:!0,timeout:0,withCredentials:!1,followRedirects:!1,asBlob:!1},e);e.state=Function.Bound(e.state,c);e.success=Function.Bound(e.success,c);e.error=Function.Bound(e.error,c);if(e.data&&e.method==="GET")f+="?"+h(e.data);else if(e.data&&e.method==="POST")e.data=h(e.data);c.open(e.method,f,e.async);c.withCredentials=
e.withCredentials;c.asBlob=e.asBlob;c.timeout=e.timeout;c.followRedirects=e.followRedirects;c.onreadystatechange=function(){e.state&&e.state();if(c.readyState===4)return c.status===200?e.success(c.responseText):e.error(c.status,c.statusText)};c.send(e.data);return a([c])},$post:function(f,e){e==null&&(e={});Object.IsFunc(e)&&(e={success:e});e.method="POST";return a.http(f,e)},$get:function(f,e){e==null&&(e={});Object.IsFunc(e)&&(e={success:e});e.method="GET";return a.http(f,e)}}});a.plugin(function(){var h,
f,e,c,d,b;e=function(a,b,c,d,e){var f,h;f=1;if(e===null||e===-1)e=a.length;for(h=d;d<=e?h<e:h>e;d<=e?h++:h--)if(a[h]===c?f+=1:a[h]===b&&(f-=1),f===0)return h;return-1};b=/([0-9#0+-]*)\.*([0-9#+-]*)([diouxXeEfFgGcrsqm])((?:.|\n)*)/;h=/%[\(\/]/;f=function(a){var c,d,f,x,v,p,m,a=a.split(h);v=a.length;m=[a[0]];for(d=f=1;1<=v?d<v:d>v;1<=v?d++:d--){c=e(a[d],")","(",0,-1);if(c===-1)return"Template syntax error: unmatched '%(' starting at: "+a[d].substring(0,15);x=a[d].substring(0,c);p=a[d].substring(c);
c=b.exec(p);if(c===null)return"Template syntax error: invalid type specifier starting at '"+p+"'";p=c[4];m[f++]=x;m[f++]=c[1]|0;m[f++]=c[2]|0;m[f++]=c[3];m[f++]=p}return m};f.cache={};c=function(a,b){var c,d,e,h,p,m,l,k,o,s,u;c=f.cache[a];c==null&&(c=f.cache[a]=f(a));m=[c[0]];h=1;d=c.length;e=1;for(u=d-4;1<=u?e<u:e>u;e+=5){p=c[e];l=c[e+1];d=c[e+2];o=c[e+3];k=c[e+4];s=b[p];s==null&&(s="missing value: "+p);switch(o){case "d":m[h++]=""+parseInt(s,10);break;case "f":m[h++]=parseFloat(s).toFixed(d);break;
case "s":m[h++]=""+s;break;default:m[h++]=""+s}l>0&&(m[h]=String.PadLeft(m[h],l));m[h++]=k}return m.join("")};d=function(b){var c,d,e,f,h,l,m,r,k,o,s,u,q,t;o=null;q=t=c=f=r=u="";d={};k=1;s=a([]);m=0;s.selector=b;l=function(){var b;b=a.HTML.parse(q);o?o.appendChild(b):s.push(b);q="";return k=1};for(h=function(){var a,b;b=document.createElement(u);b.id=r||null;b.className=f||null;for(a in d)b.setAttribute(a,d[a]);o?o.appendChild(b):s.push(b);o=b;q=t=c=f=r=u="";d={};return k=1};e=b[m++];)if(e==="+"&&
k===1){if(o)o=o.parentNode}else if(e==="#"&&(k===1||k===3||k===4))k=2;else if(e==="."&&(k===1||k===2||k===4))f.length>0&&(f+=" "),k=3;else if(e==="."&&f.length>0)f+=" ";else if(e==="["&&(k===1||k===2||k===3||k===4))k=4;else if(e==="="&&k===4)k=5;else if(e==='"'&&k===1)k=6;else if(e==="'"&&k===1)k=7;else if(e==="]"&&(k===4||k===5))d[c]=t,t=c="",k=1;else if(e==='"'&&k===6)l();else if(e==="'"&&k===7)l();else if((e===" "||e===",")&&k!==5&&k!==4&&u.length>0)h(),e===","&&(o=null);else if(k===1)e!==" "&&
(u+=e);else if(k===2)r+=e;else if(k===3)f+=e;else if(k===4)c+=e;else if(k===5)t+=e;else if(k===6||k===7)q+=e;else throw Error("Unknown input/state: '"+e+"'/"+k);u.length>0&&h();q.length>0&&l();return s};return{name:"Template",$render:c,$synth:d,template:function(b){this.render=function(d){return c(this.map(a.HTML.stringify).join(""),Object.Extend(b,d))};return this.remove()},render:function(b){return c(this.map(a.HTML.stringify).join(""),b)},synth:function(a){return d(a).appendTo(this)}}});return a.plugin(function(){var h,
f,e;e=function(a){var d,b,e,g;d=a.indexOf(":");if(d>0)return e=parseInt(a.slice(0,d),10),b=a.slice(d+1,d+1+e),g=a[d+1+e],a=a.slice(d+e+2),b=function(){switch(g){case "#":return Number(b);case "'":return String(b);case "!":return b==="true";case "~":return null;case "]":return h(b);case "}":return f(b)}}(),[b,a]};h=function(a){var d,b;for(d=[];a.length>0;)a=e(a),b=a[0],a=a[1],d.push(b);return d};f=function(a){var d,b,f;for(d={};a.length>0;)f=e(a),b=f[0],a=f[1],a=e(a),f=a[0],a=a[1],d[b]=f;return d};
return{name:"TNET",$TNET:{stringify:function(c){var d,b,e;e=function(){switch(Object.Type(c)){case "number":return[String(c),"#"];case "string":return[c,"'"];case "function":return[String(c),"'"];case "boolean":return[String(!!c),"!"];case "null":return["","~"];case "undefined":return["","~"];case "array":return[function(){var d,e,f;f=[];d=0;for(e=c.length;d<e;d++)b=c[d],f.push(a.TNET.stringify(b));return f}().join(""),"]"];case "object":return[function(){var d;d=[];for(b in c)d.push(a.TNET.stringify(b)+
a.TNET.stringify(c[b]));return d}().join(""),"}"]}}();d=e[0];return(d.length|0)+":"+d+e[1]},parse:function(a){var d;return(d=e(a))!=null?d[0]:void 0}}}})}(l))}).call(this);
