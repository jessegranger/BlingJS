(function(){var l,r,t,B,y,v,C,z,x,p=Array.prototype.slice,E=Object.prototype.hasOwnProperty,F=function(a,g){function f(){this.constructor=a}for(var e in g)E.call(g,e)&&(a[e]=g[e]);f.prototype=g.prototype;a.prototype=new f;a.__super__=g.prototype;return a},D=function(a,g){return function(){return a.apply(g,arguments)}};!1 in document?alert("This browser is not supported"):(x=console&&console.log?function(){var a;a=1<=arguments.length?p.call(arguments,0):[];return console.log.apply(console,a)}:function(){var a;
a=1<=arguments.length?p.call(arguments,0):[];return alert(a.join(", "))},t=Math.min,r=Math.max,B=Math.sqrt,y=Object.prototype.toString,v=/,* +/,C=/^\s+/,z=/\[object (\w+)\]/,l=function(a,g){var f;g==null&&(g=document);f=Object.Type(a);if(f==="node"||f==="window"||f==="function")f=[a];else if(f==="number")f=Array(a);else if(f==="string")if(a=a.trimLeft(),a[0]==="<")f=[l.HTML.parse(a)];else if(g.querySelectorAll)f=g.querySelectorAll(a);else throw Error("invalid context: "+g+" (type: "+Object.Type(g)+
")");else if(f==="array"||f==="bling"||f==="nodelist")f=a;else if(f==="undefined"||f==="null")f=[];else throw Error("invalid selector: "+a+" (type: "+Object.Type(a)+")");f.constructor=l;f.__proto__=l.fn;f.selector=a;f.context=g;f.length=f.len();return f},l.fn=[],Object.Keys=function(a,g){var f,e,d;g==null&&(g=!1);d=[];e=0;for(f in a)if(g||a.hasOwnProperty(f))d[e++]=f;return d},Object.Extend=function(a,g,f){var e,d,b;if(y.apply(f)==="[object Array]")for(e in f)g[f[e]]!==void 0&&(a[f[e]]=g[f[e]]);else{b=
Object.Keys(g);f=0;for(d=b.length;f<d;f++)e=b[f],a[e]=g[e]}return a},Object.Extend(Object,{Type:function(a){var g;switch(!0){case a===void 0:return"undefined";case a===null:return"null";case Object.IsString(a):return"string";case Object.IsType(a,l):return"bling";case Object.IsType(a,NodeList):return"nodelist";case Object.IsArray(a):return"array";case Object.IsNumber(a):return"number";case Object.IsFragment(a):return"fragment";case Object.IsNode(a):return"node";case Object.IsFunc(a):return"function";
case Object.IsType(a,"RegExp"):return"regexp";case (g=String(a))==="true"||g==="false":return"boolean";case Object.IsObject(a):return"setInterval"in a?"window":"object"}},IsType:function(a,g){return a===null?a===g:a.constructor===g?!0:typeof g==="string"?a.constructor.name===g||y.apply(a).replace(z,"$1")===g:Object.IsType(a.__proto__,g)},IsString:function(a){return a!=null&&(typeof a==="string"||Object.IsType(a,String))},IsNumber:function(a){return a!=null&&Object.IsType(a,Number)},IsBoolean:function(a){return typeof a===
"boolean"},IsFunc:function(a){return a!=null&&(typeof a==="function"||Object.IsType(a,Function))&&a.call!=null},IsNode:function(a){return a!=null&&a.nodeType>0},IsFragment:function(a){return a!=null&&a.nodeType===11},IsArray:function(a){return a!=null&&(Object.ToString(a)==="[object Array]"||Object.IsType(a,Array))},IsBling:function(a){return a!=null&&Object.IsType(a,l)},IsObject:function(a){return a!=null&&typeof a==="object"},IsDefined:function(a){return a!=null},Unbox:function(a){if(a!=null&&Object.IsObject(a)){if(Object.IsString(a))return a.toString();
if(Object.IsNumber(a))return Number(a)}return a},ToString:function(a){return y.apply(a)}}),Object.Extend(Function,{Empty:function(){},Bound:function(a,g,f){var e;f==null&&(f=[]);"bind"in a?(f.splice(0,0,g),e=a.bind.apply(a,f)):e=function(){1<=arguments.length&&p.call(arguments,0);return a.apply(g,f)};e.toString=function(){return"bound-method of "+g+"."+a.name};return e},Trace:function(a,g,f){var e;f==null&&(f=x);e=function(){var d;d=1<=arguments.length?p.call(arguments,0):[];f(""+(g||"")+(this.name||
this)+"."+a.name+"(",d,")");return a.apply(this,d)};f("Function.Trace: "+(g||a.name)+" created.");e.toString=a.toString;return e},NotNull:function(a){return a!==null},IndexFound:function(a){return a>-1},ReduceAnd:function(a){return a&&this},UpperLimit:function(a){return function(g){return t(a,g)}},LowerLimit:function(a){return function(g){return r(a,g)}},Px:function(a){return function(){return Number.Px(this,a)}}}),Object.Extend(Array,{Coalesce:function(){var a,g,f,e;a=1<=arguments.length?p.call(arguments,
0):[];if(Object.IsArray(a[0]))return Array.Coalesce.apply(Array,a[0]);else{f=0;for(e=a.length;f<e;f++)if(g=a[f],g!=null)return g}},Extend:function(a,g){var f,e,d,b;e=a.length;d=0;for(b=g.length;d<b;d++)f=g[d],a[e++]=f;return a}}),Object.Extend(Number,{Px:function(a,g){g==null&&(g=0);return a!=null&&parseInt(a,10)+(g|0)+"px"},AtLeast:function(a){return function(g){return r(parseFloat(g||0),a)}},AtMost:function(a){return function(g){return t(parseFloat(g||0),a)}}}),Object.Extend(String,{PadLeft:function(a,
g,f){for(f==null&&(f=" ");a.length<g;)a=f+a;return a},PadRight:function(a,g,f){for(f==null&&(f=" ");a.length<g;)a+=f;return a},Splice:function(a,g,f,e){var d;d=a.length;f<0&&(f+=d);g<0&&(g+=d);return a.substring(0,g)+e+a.substring(f)},Checksum:function(a){var g,f,e;g=f=0;for(e=a.length;0<=e?g<e:g>e;0<=e?g++:g--)f+=a.charCodeAt(g);return f}}),Object.Extend(Event,{Cancel:function(a){a.stopPropagation();a.preventDefault();a.cancelBubble=!0;return a.returnValue=!1},Prevent:function(a){return a.preventDefault()},
Stop:function(a){a.stopPropagation();return a.cancelBubble=!0}}),function(a){a.plugins=[];a.plugin=function(g){var f,e;try{e=g.call(a,a);f=g.name||e.name;if(!f)throw Error("plugin requires a 'name'");a.plugins.push(f);a.plugins[f]=e;delete e.name;e[l.symbol]&&(Object.Extend(l,e[l.symbol]),delete e[l.symbol]);return Object.Extend(l.fn,e)}catch(d){return console.log("failed to load plugin",d)}};a.plugin(function(){var g;g=null;l.__defineSetter__("symbol",function(a){g in window&&delete window[g];g=
a;return window[a]=l});l.__defineGetter__("symbol",function(){return g});l.symbol="$";window.Bling=a=l;return{name:"Symbol"}});a.plugin(function(){var a,f;String.prototype.trimLeft=Array.Coalesce(String.prototype.trimLeft,function(){return this.replace(C,"")});String.prototype.split=Array.Coalesce(String.prototype.split,function(a){var d,b,c,i;d=[];for(b=i=0;(c=this.indexOf(a,b))>-1;)d[i++]=this.substring(b+1,c+1),b=c+1;return d});Array.prototype.join=Array.Coalesce(Array.prototype.join,function(a){var d,
b;d=this.length;if(d===0)return"";for(b=this[d-1];--d>0;)b=this[d-1]+a+b;return b});Element.prototype.matchesSelector=Array.Coalesce(Element.prototype.webkitMatchesSelector,Element.prototype.mozMatchesSelector,Element.prototype.matchesSelector);f=Element.prototype.toString;Element.prototype.toString=function(a){return a?(a=this.nodeName.toLowerCase(),this.id!=null?a+="#"+this.id:this.className!=null&&(a+="."+this.className.split(" ").join(".")),a):f.apply(this)};if(Element.prototype.cloneNode.length===
0)a=Element.prototype.cloneNode,Element.prototype.cloneNode=function(e){var d,b,c,i;e==null&&(e=!1);d=a.call(this);if(e){i=this.childNodes;b=0;for(c=i.length;b<c;b++)e=i[b],d.appendChild(e.cloneNode(!0))}return d};return{name:"Compat"}});a.plugin(function(){var g,f,e;g=new (function(){function d(){var d;d=D(function(){if(this.length>0)return this.shift()()},this);this.schedule=D(function(c,a){var h,j;if(!Object.IsFunc(c))throw Error("function expected, got: "+typeof c);j=this.length;c.order=a+(new Date).getTime();
if(j===0||c.order>this[j-1].order)this[j]=c;else for(h=0;0<=j?h<j:h>j;0<=j?h++:h--)if(this[h].order>c.order){this.splice(h,0,c);break}setTimeout(d,a);return this},this)}F(d,Array);return d}());f=function(d){return function(){var a;a=this[d];return Object.IsFunc(a)?Function.Bound(a,this):a}};e=function(a){var b;b=a.indexOf(".");return b>-1?this.zip(a.substr(0,b)).zip(a.substr(b+1)):this.map(f(a))};return{name:"Core",eq:function(d){var b;b=a([this[d]]);b.context=this;return b.selector=["eq",d]},each:function(a){var b,
c,i;c=0;for(i=this.length;c<i;c++)b=this[c],a.call(b,b);return this},map:function(d){var b,c,i,h;b=a();b.context=this;b.selector=["map",d];i=this.len();for(c=0;0<=i?c<i:c>i;0<=i?c++:c--){h=this[c];try{b[c]=d.call(h,h)}catch(j){b[c]=j}}return b},reduce:function(a,b){var c,i;c=b;i=this;b==null&&(c=this[0],i=this.skip(1));i.each(function(){return c=a.call(this,c,this)});return c},union:function(d,b){var c,i,h,j;h=a();c=i=0;h.context=[this,d];for(h.selector="union";j=this[i++];)h.contains(j,b)||(h[c++]=
j);for(i=0;j=d[i++];)h.contains(j,b)||(h[c++]=j);return h},intersect:function(d){var b,c,i,h,j,n;n=a();i=0;h=this.len();j=Object.IsFunc(d.len)?d.len():d.length;n.context=[this,d];n.selector="intersect";for(b=0;0<=h?b<h:b>h;0<=h?b++:b--)for(c=0;0<=j?c<j:c>j;0<=j?c++:c--)if(this[b]===d[c]){n[i++]=this[b];break}return n},distinct:function(a){return this.union(this,a)},contains:function(a,b){var c,i,h;i=0;for(h=this.length;i<h;i++)if(c=this[i],b&&c===a||!b&&c===a)return!0;return!1},count:function(a,b){var c;
if(a===void 0)return this.len();c=0;this.each(function(i){if(b&&i===a||!b&&i===a)return c++});return c},zip:function(){var d,b,c,i,h,j,n,f;d=1<=arguments.length?p.call(arguments,0):[];j=d.length;switch(j){case 0:return a();case 1:return e.call(this,d[0]);default:f={};n=this.len();h=a();for(b=c=0;0<=j?b<j:b>j;0<=j?b++:b--)f[d[b]]=e.call(this,d[b]);for(b=0;0<=n?b<n:b>n;0<=n?b++:b--){d={};for(i in f)d[i]=f[i].shift();h[c++]=d}return h}},zap:function(a,b){var c;c=a.indexOf(".");return c>-1?this.zip(a.substr(0,
c)).zap(a.substr(c+1),b):Object.IsArray(b)?this.each(function(){return this[a]=b[++c%b.length]}):this.each(function(){return this[a]=b})},zipzapmap:function(a,b){var c;c=this.zip(a);c=c.map(b);return this.zap(a,c)},take:function(d){var b,c,d=t(d|0,this.len());b=a();b.context=this;b.selector=["take",d];for(c=0;0<=d?c<d:c>d;0<=d?c++:c--)b[c]=this[c];return b},skip:function(d){var b,c,i;d==null&&(d=0);d=t(this.len(),r(0,d|0));i=this.len()-d;b=a();b.context=this.context;b.selector=this.selector;for(c=
0;0<=i?c<i:c>i;0<=i?c++:c--)b[c]=this[c+d];return b},first:function(a){a==null&&(a=1);return a===1?this[0]:this.take(a)},last:function(a){a==null&&(a=1);return a===1?this[this.len()-1]:this.skip(this.len()-a)},slice:function(d,b){var c,i,h;d==null&&(d=0);b==null&&(b=this.len());c=a();h=0;i=this.len();d<0&&(d+=i);b<0&&(b+=i);c.context=this;c.selector=["slice",d,b];for(i=d;d<=b?i<b:i>b;d<=b?i++:i--)c[h++]=this[i];return c},concat:function(a){var b,c,i;b=this.len()-1;c=-1;for(i=Object.IsFunc(a.len)?
a.len():a.length;c<i-1;)this[++b]=a[++c];return this},push:function(a){Array.prototype.push.call(this,a);return this},filter:function(d){var b,c,i,h,j,n;b=a();b.context=this;b.selector=d;h=0;switch(Object.Type(d)){case "string":c=function(c){return c.matchesSelector(d)};break;case "regexp":c=function(c){return d.test(c)};break;case "function":c=d}j=0;for(n=this.length;j<n;j++)i=this[j],c.call(i,i)&&(b[h++]=i);return b},test:function(a){return this.map(function(){return a.test(this)})},matches:function(a){return this.zip("matchesSelector").call(a)},
querySelectorAll:function(d){return this.filter("*").reduce(function(a,c){return Array.Extend(a,c.querySelectorAll(d))},a())},weave:function(d){var b,c,i,h;i=d.len();c=this.len();b=a();b.context=this;b.selector=["weave",d];for(c=h=c-1;h<=0?c<=0:c>=0;h<=0?c++:c--)b[c*2+1]=this[c];for(c=0;0<=i?c<i:c>i;0<=i?c++:c--)b[c*2]=d[c];return b},fold:function(d){var b,c,i,h,j;h=this.len();i=0;b=a();b.context=this;b.selector=["fold",d];c=0;for(j=h-1;0<=j?c<j:c>j;c+=2)b[i++]=d.call(this,this[c],this[c+1]);h%2===
1&&(b[i++]=d.call(this,this[h-1],void 0));return b},flatten:function(){var d,b,c,i,h,j,n;d=a();n=this.len();j=0;d.context=this;d.selector="flatten";for(i=0;0<=n?i<n:i>n;0<=n?i++:i--){b=this[i];c=Object.IsFunc(b.len)?b.len():b.length;for(h=0;0<=c?h<c:h>c;0<=c?h++:h--)d[j++]=b[h]}return d},call:function(){return this.apply(null,arguments)},apply:function(a,b){return this.map(function(){return Object.IsFunc(this)?this.apply(a,b):this})},toString:function(){return a.symbol+"(["+this.map(function(){switch(this){case void 0:return"undefined";
case null:return"null";case window:return"window";default:return this.toString().replace(z,"$1")}}).join(", ")+"])"},delay:function(a,b){b&&g.schedule(Function.Bound(b,this),a);return this},log:function(a){var b;b=this.len();a?x(a,this,b+" items"):x(this,b+" items");return this},len:function(){var a;for(a=this.length;this[a]!==void 0;)a++;for(;a>-1&&this[a]===void 0;)a--;return a+1}}});a.plugin(function(){var g,f,e,d,b;f=function(c,a){return c.parentNode.insertBefore(a,c)};g=function(c,a){return c.parentNode.insertBefore(a,
c.nextSibling)};b=function(c){switch(Object.Type(c)){case "fragment":return c;case "node":return c;case "bling":return c.toFragment();case "string":return a(c).toFragment();case "function":return a(c.toString()).toFragment();default:throw Error("toNode called with invalid argument: "+c+" (type: "+Object.Type(c)+")");}};e=null;d=function(c){return function(){return window.getComputedStyle(this,null).getPropertyValue(c)}};return{name:"Html",$:{HTML:{parse:function(c){var a,h,j,b;b=document.createElement("div");
b.innerHTML=c;c=b.childNodes;j=c.length;if(j===1)return b.removeChild(c[0]);a=document.createDocumentFragment();for(h=0;0<=j?h<j:h>j;0<=j?h++:h--)a.appendChild(b.removeChild(c[0]));return a},stringify:function(c){var a,h;switch(Object.Type(c)){case "string":return c;case "node":return c=c.cloneNode(!0),a=document.createElement("div"),a.appendChild(c),h=a.innerHTML,a.removeChild(c),delete c,h}},escape:function(c){e||(e=a("<div>&nbsp;</div>").child(0));c=e.zap("data",c).zip("parentNode.innerHTML").first();
e.zap("data","");return c}}},html:function(c){switch(Object.Type(c)){case "undefined":return this.zip("innerHTML");case "string":return this.zap("innerHTML",c);case "bling":return this.html(c.toFragment());case "node":return this.each(function(){var a;this.replaceChild(this.childNodes[0],c);for(a=[];this.childNodes.length>1;)a.push(this.removeChild(this.childNodes[1]));return a})}},append:function(c){var a,c=b(c);a=this.zip("appendChild");a.take(1).call(c);a.skip(1).each(function(a){return a(c.cloneNode(!0))});
return this},appendTo:function(c){a(c).append(this);return this},prepend:function(a){a!=null&&(a=b(a),this.take(1).each(function(){return f(this.childNodes[0],a)}),this.skip(1).each(function(){return f(this.childNodes[0],a.cloneNode(!0))}));return this},prependTo:function(c){c!=null&&a(c).prepend(this);return this},before:function(a){a!=null&&(a=b(a),this.take(1).each(function(){return f(this,a)}),this.skip(1).each(function(){return f(this,a.cloneNode(!0))}));return this},after:function(a){a!=null&&
(a=b(a),this.take(1).each(function(){return g(this,a)}),this.skip(1).each(function(){return g(this,a.cloneNode(!0))}));return this},wrap:function(a){a=b(a);if(Object.IsFragment(a))throw Error("cannot wrap with a fragment");return this.map(function(b){var h,j;if(Object.IsFragment(b))a.appendChild(b);else if(Object.IsNode(b))(j=b.parentNode)?(h=document.createElement("dummy"),a.appendChild(j.replaceChild(h,b)),j.replaceChild(a,h)):a.appendChild(b);return b})},unwrap:function(){return this.each(function(){if(this.parentNode&&
this.parentNode.parentNode)return this.parentNode.parentNode.replaceChild(this,this.parentNode)})},replace:function(c){var d,h,c=b(c);d=a();h=0;this.take(1).each(function(){if(this.parentNode)return this.parentNode.replaceChild(c,this),d[h++]=c});this.skip(1).each(function(){var a;if(this.parentNode)return a=c.cloneNode(!0),this.parentNode.replaceChild(a,this),d[h++]=a});return d},attr:function(a,b){switch(b){case void 0:return this.zip("getAttribute").call(a,b);case null:return this.zip("removeAttribute").call(a,
b);default:return this.zip("setAttribute").call(a,b),this}},addClass:function(a){return this.removeClass(a).each(function(){var b;b=this.className.split(" ").filter(function(a){return a!==""});b.push(a);return this.className=b.join(" ")})},removeClass:function(a){var b;b=function(h){return h!==a};return this.each(function(){return this.className=this.className.split(" ").filter(b).join(" ")})},toggleClass:function(a){var b;b=function(b){return b!==a};return this.each(function(){var h;h=this.className.split(" ");
return h.indexOf(a)>-1?this.className=h.filter(b).join(" "):(h.push(a),this.className=h.join(" "))})},hasClass:function(a){return this.zip("className.split").call(" ").zip("indexOf").call(a).map(Function.IndexFound)},text:function(a){return a!=null?this.zap("textContent",a):this.zip("textContent")},val:function(a){return a!=null?this.zap("value",a):this.zip("value")},css:function(a,b){var h,j,n,e;if(b!=null||Object.IsObject(a)){e=this.zip("style.setProperty");n=e.len();if(Object.IsObject(a))for(h in a)e.call(h,
a[h],"");else if(Object.IsString(b))e.call(a,b,"");else if(Object.IsArray(b)){j=r(b.length,n);for(h=0;0<=j?h<j:h>j;0<=j?h++:h--)e[h%n](a,b[h%j],"")}return this}else return h=this.map(d(a)),j=this.zip("style").zip(a),j.weave(h).fold(function(a,c){return a||c})},defaultCss:function(c,b){var h,j,d;j=this.selector;d="";if(Object.IsString(c))if(Object.IsString(b))d+=""+j+" { "+c+": "+b+" } ";else throw Error("defaultCss requires a value with a string key");else if(Object.IsObject(c)){d+=""+j+" { ";for(h in c)d+=
""+h+": "+c[h]+"; ";d+="} "}a.synth("style").text(d).appendTo("head");return this},empty:function(){return this.html("")},rect:function(){return this.zip("getBoundingClientRect").call()},width:function(a){return a===null?this.rect().zip("width"):this.css("width",a)},height:function(a){return a===null?this.rect().zip("height"):this.css("height",a)},top:function(a){return a===null?this.rect().zip("top"):this.css("top",a)},left:function(a){return a===null?this.rect().zip("left"):this.css("left",a)},
bottom:function(a){return a===null?this.rect().zip("bottom"):this.css("bottom",a)},right:function(a){return a===null?this.rect().zip("right"):this.css("right",a)},position:function(a,b){return a===null?this.rect():b===null?this.css("left",Number.Px(a)):this.css({top:Number.Px(b),left:Number.Px(a)})},center:function(c){var b,h,j;c==null&&(c="viewport");b=document.body;h=b.scrollTop+b.clientHeight/2;j=b.scrollLeft+b.clientWidth/2;return this.each(function(){var b,d,i;d=a(this);b=d.height().floats().first();
i=d.width().floats().first();i=c==="viewport"||c==="horizontal"?j-i/2:NaN;b=c==="viewport"||c==="vertical"?h-b/2:NaN;return d.css({position:"absolute",left:Number.Px(i),top:Number.Px(b)})})},scrollToCenter:function(){document.body.scrollTop=this.zip("offsetTop")[0]-window.innerHeight/2;return this},child:function(a){return this.zip("childNodes").map(function(){var b;b=a;b<0&&(b+=this.length);return this[b]})},children:function(){return this.map(function(){return a(this.childNodes,this)})},parent:function(){return this.zip("parentNode")},
parents:function(){return this.map(function(){var c,b,h;c=a();b=0;for(h=this;h=h.parentNode;)c[b++]=h;return c})},prev:function(){return this.map(function(){var c,b,h;c=a();b=0;for(h=this;h=h.previousSibling;)c[b++]=h;return c})},next:function(){return this.map(function(){var b,d,h;b=a();d=0;for(h=this;h=h.nextSibling;)b[d++]=h;return b})},remove:function(){return this.each(function(){if(this.parentNode)return this.parentNode.removeChild(this)})},find:function(b){return this.filter("*").map(function(){return a(b,
this)}).flatten()},clone:function(a){a==null&&(a=!0);return this.map(function(){return Object.IsNode(this)?this.cloneNode(a):null})},toFragment:function(){var a,d;return this.len()>1?(d=document.createDocumentFragment(),a=Function.Bound(d.appendChild,d),this.map(b).map(a),d):b(this[0])}}});a.plugin(function(){return{name:"Maths",floats:function(){return this.map(parseFloat)},ints:function(){return this.map(function(){return parseInt(this,10)})},px:function(a){a==null&&(a=0);return this.ints().map(Function.Px(a))},
min:function(){return this.reduce(function(a){return t(this,a)})},max:function(){return this.reduce(function(a){return r(this,a)})},average:function(){return this.sum()/this.len()},sum:function(){return this.reduce(function(a){return a+this})},squares:function(){return this.map(function(){return this*this})},magnitude:function(){return B(this.floats().squares().sum())},scale:function(a){return this.map(function(){return a*this})},normalize:function(){return this.scale(1/this.magnitude())}}});a.plugin(function(){var g,
f,e,d,b,c,i;g=function(a){return function(b){b==null&&(b={});return Object.IsFunc(b)?this.bind(a,b):this.trigger(a,b)}};d=function(b,c,d,e,i){return a(c).bind(d,i).each(function(){var a;a=this.__alive__||(this.__alive__={});a=a[b]||(a[b]={});return(a[d]||(a[d]={}))[e]=i})};i=function(b,c,d,e){var i;i=a(c);return i.each(function(){var a;a=this.__alive__||(this.__alive__={});a=a[b]||(a[b]={});a=a[d]||(a[d]={});i.unbind(d,a[e]);return delete a[e]})};f=e=0;c=function(){if(!e++)return a(document).trigger("ready").unbind("ready"),
typeof document.removeEventListener==="function"&&document.removeEventListener("DOMContentLoaded",c,!1),typeof window.removeEventListener==="function"?window.removeEventListener("load",c,!1):void 0};f++||(typeof document.addEventListener==="function"&&document.addEventListener("DOMContentLoaded",c,!1),typeof window.addEventListener==="function"&&window.addEventListener("load",c,!1));b={name:"Events",bind:function(a,c){var d,e;d=(a||"").split(v);e=function(a){b=c.apply(this,arguments);b===!1&&Event.Prevent(a);
return b};return this.each(function(){var a,b,c,h;h=[];b=0;for(c=d.length;b<c;b++)a=d[b],h.push(this.addEventListener(a,e,!1));return h})},unbind:function(a,b){var c;c=(a||"").split(v);return this.each(function(){var a,d,h,e;e=[];d=0;for(h=c.length;d<h;d++)a=c[d],e.push(this.removeEventListener(a,b,null));return e})},once:function(a,b){var c,d,e,i,f;c=(a||"").split(v);f=[];e=0;for(i=c.length;e<i;e++)d=c[e],f.push(this.bind(d,function(a){b.call(this,a);return this.removeEventListener(a.type,arguments.callee,
null)}));return f},cycle:function(){var a,b,c,d,e,i,f;a=arguments[0];c=2<=arguments.length?p.call(arguments,1):[];a=(a||"").split(v);e=c.length;b=function(){var a;a=0;return function(b){c[a].call(this,b);return a=++a%e}};i=0;for(f=a.length;i<f;i++)d=a[i],this.bind(d,b());return this},trigger:function(a,b){var c,d,e,i,f;b==null&&(b={});e=(a||"").split(v);b=Object.Extend({bubbles:!0,cancelable:!0},b);i=0;for(f=e.length;i<f;i++){d=e[i];if(d==="click"||d==="mousemove"||d==="mousedown"||d==="mouseup"||
d==="mouseover"||d==="mouseout")c=document.createEvent("MouseEvents"),b=Object.Extend({detail:1,screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:null},b),c.initMouseEvent(d,b.bubbles,b.cancelable,window,b.detail,b.screenX,b.screenY,b.clientX,b.clientY,b.ctrlKey,b.altKey,b.shiftKey,b.metaKey,b.button,b.relatedTarget);else if(d==="blur"||d==="focus"||d==="reset"||d==="submit"||d==="abort"||d==="change"||d==="load"||d==="unload")c=document.createEvent("UIEvents"),
c.initUIEvent(d,b.bubbles,b.cancelable,window,1);else if(d==="touchstart"||d==="touchmove"||d==="touchend"||d==="touchcancel")c=document.createEvent("TouchEvents"),b=Object.Extend({detail:1,screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,touches:[],targetTouches:[],changedTouches:[],scale:1,rotation:0},b),c.initTouchEvent(d,b.bubbles,b.cancelable,window,b.detail,b.screenX,b.screenY,b.clientX,b.clientY,b.ctrlKey,b.altKey,b.shiftKey,b.metaKey,b.touches,b.targetTouches,
b.changedTouches,b.scale,b.rotation);else if(d==="gesturestart"||d==="gestureend"||d==="gesturecancel")c=document.createEvent("GestureEvents"),b=Object.Extend({detail:1,screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,target:null,scale:1,rotation:0},b),c.initGestureEvent(d,b.bubbles,b.cancelable,window,b.detail,b.screenX,b.screenY,b.clientX,b.clientY,b.ctrlKey,b.altKey,b.shiftKey,b.metaKey,b.target,b.scale,b.rotation);else{c=document.createEvent("Events");c.initEvent(d,
b.bubbles,b.cancelable);try{c=Object.Extend(c,b)}catch(g){}}if(c)try{this.each(function(){return this.dispatchEvent(c)})}catch(k){x("dispatchEvent error:",k)}}return this},live:function(b,c){var e,i;i=this.selector;e=this.context;d(i,e,b,c,function(b){return a(i,e).intersect(a(b.target).parents().first().union(a(b.target))).each(function(){b.target=this;return c.call(this,b)})});return this},die:function(b,c){var d,e;e=this.selector;d=this.context;e=i(e,d,b,c);a(d).unbind(b,e);return this},liveCycle:function(){var a,
b,c;a=arguments[0];b=2<=arguments.length?p.call(arguments,1):[];c=0;return this.live(a,function(a){b[c].call(this,a);return c=++c%b.length})},click:function(a){a==null&&(a={});this.css("cursor").intersect(["auto",""]).len()>0&&this.css("cursor","pointer");return Object.IsFunc(a)?this.bind("click",a):this.trigger("click",a)},ready:function(a){a==null&&(a={});return Object.IsFunc(a)?e?a.call(this):this.bind("ready",a):this.trigger("ready",a)}};["mousemove","mousedown","mouseup","mouseover","mouseout",
"blur","focus","load","unload","reset","submit","keyup","keydown","change","abort","cut","copy","paste","selection","drag","drop","orientationchange","touchstart","touchmove","touchend","touchcancel","gesturestart","gestureend","gesturecancel","hashchange"].forEach(function(a){return b[a]=g(a)});return b});a.plugin(function(){var g,f,e,d,b,c,i;f={slow:700,medium:500,normal:300,fast:100,instant:0,now:0};g=/(?:scale(?:3d)*|translate(?:[XYZ]|3d)*|rotate(?:[XYZ]|3d)*)/;e=document.createElement("div").style;
"WebkitTransform"in e?(d="-webkit-transform",c="-webkit-transition-property",b="-webkit-transition-duration",i="-webkit-transition-timing-function"):"MozTransform"in e?(d="-moz-transform",c="-moz-transition-property",b="-moz-transition-duration",i="-moz-transition-timing-function"):"OTransform"in e&&(d="-o-transform",c="-o-transition-property",b="-o-transition-duration",i="-o-transition-timing-function");delete e;return{name:"Transform",$:{duration:function(a){var b;b=f[a];return b!=null?b:parseFloat(a)}},
transform:function(h,e,f,w){var A,q,m,l,k,o;Object.IsFunc(e)?(w=e,f=e=null):Object.IsFunc(f)&&(w=f,f=null);e==null&&(e="normal");f||(f="ease");A=a.duration(e)+"ms";k=[];l=0;o="";e={};for(q in h)g.test(q)?(m=h[q],m.join?m=a(m).px().join(", "):m.toString&&(m=m.toString()),o+=" "+q+"("+m+")"):e[q]=h[q];for(q in e)k[l++]=q;o&&(k[l++]=d);e[c]=k.join(", ");e[b]=k.map(function(){return A}).join(", ");e[i]=k.map(function(){return f}).join(", ");o&&(e[d]=o);this.css(e);return this.delay(A,w)},hide:function(a){return this.each(function(){if(this.style){this._display=
"";if(this.style.display===!1)this._display=this.syle.display;return this.style.display="none"}}).trigger("hide").delay(50,a)},show:function(a){return this.each(function(){if(this.style)return this.style.display=this._display,delete this._display}).trigger("show").delay(50,a)},toggle:function(b){return this.weave(this.css("display")).fold(function(b,c){b==="none"?(c.style.display=c._display||"",delete c._display,a(c).trigger("show")):(c._display=b,c.style.display="none",a(c).trigger("hide"));return c}).delay(50,
b)},fadeIn:function(a,b){return this.css("opacity","0.0").show(function(){return this.transform({opacity:"1.0",translate3d:[0,0,0]},a,b)})},fadeOut:function(a,b,c,d){c==null&&(c=0);d==null&&(d=0);return this.transform({opacity:"0.0",translate3d:[c,d,0]},a,function(){return this.hide(b)})},fadeLeft:function(a,b){return this.fadeOut(a,b,"-"+this.width().first(),0)},fadeRight:function(a,b){return this.fadeOut(a,b,this.width().first(),0)},fadeUp:function(a,b){return this.fadeOut(a,b,0,"-"+this.height().first())},
fadeDown:function(a,b){return this.fadeOut(a,b,0,this.height().first())}}});a.plugin(function(){var g;g=function(a){var e,d,b;b=[];d=0;a=JSON.parse(JSON.stringify(a));for(e in a)b[d++]=""+e+"="+escape(a[e]);return b.join("&")};return{name:"Http",$:{http:function(f,e){var d;e==null&&(e={});d=new XMLHttpRequest;Object.IsFunc(e)&&(e={success:Function.Bound(e,d)});e=Object.Extend({method:"GET",data:null,state:Function.Empty,success:Function.Empty,error:Function.Empty,async:!0,timeout:0,withCredentials:!1,
followRedirects:!1,asBlob:!1},e);e.state=Function.Bound(e.state,d);e.success=Function.Bound(e.success,d);e.error=Function.Bound(e.error,d);if(e.data&&e.method==="GET")f+="?"+g(e.data);else if(e.data&&e.method==="POST")e.data=g(e.data);d.open(e.method,f,e.async);d.withCredentials=e.withCredentials;d.asBlob=e.asBlob;d.timeout=e.timeout;d.followRedirects=e.followRedirects;d.onreadystatechange=function(){e.state&&e.state();if(d.readyState===4)return d.status===200?e.success(d.responseText):e.error(d.status,
d.statusText)};d.send(e.data);return a([d])},post:function(f,e){e==null&&(e={});Object.IsFunc(e)&&(e={success:e});e.method="POST";return a.http(f,e)},get:function(f,e){e==null&&(e={});Object.IsFunc(e)&&(e={success:e});e.method="GET";return a.http(f,e)}}}});a.plugin(function(){var g,f,e,d,b,c;e=function(a,b,c,d,e){var f,g;f=1;if(e===null||e===-1)e=a.length;for(g=d;d<=e?g<e:g>e;d<=e?g++:g--)if(a[g]===c?f+=1:a[g]===b&&(f-=1),f===0)return g;return-1};c=/([0-9#0+-]*)\.*([0-9#+-]*)([diouxXeEfFgGcrsqm])((?:.|\n)*)/;
g=/%[\(\/]/;f=function(a){var b,d,f,w,l,q,m,a=a.split(g);l=a.length;m=[a[0]];for(d=f=1;1<=l?d<l:d>l;1<=l?d++:d--){b=e(a[d],")","(",0,-1);if(b===-1)return"Template syntax error: unmatched '%(' starting at: "+a[d].substring(0,15);w=a[d].substring(0,b);q=a[d].substring(b);b=c.exec(q);if(b===null)return"Template syntax error: invalid type specifier starting at '"+q+"'";q=b[4];m[f++]=w;m[f++]=b[1]|0;m[f++]=b[2]|0;m[f++]=b[3];m[f++]=q}return m};f.cache={};d=function(a,b){var c,d,e,g,l,m,p,k,o,s,u;c=f.cache[a];
c==null&&(c=f.cache[a]=f(a));m=[c[0]];g=1;d=c.length;e=1;for(u=d-4;1<=u?e<u:e>u;e+=5){l=c[e];p=c[e+1];d=c[e+2];o=c[e+3];k=c[e+4];s=b[l];s==null&&(s="missing value: "+l);switch(o){case "d":m[g++]=""+parseInt(s,10);break;case "f":m[g++]=parseFloat(s).toFixed(d);break;case "s":m[g++]=""+s;break;default:m[g++]=""+s}p>0&&(m[g]=String.PadLeft(m[g],p));m[g++]=k}return m.join("")};b=function(b){var c,d,e,f,g,l,m,p,k,o,s,u,r,t;o=null;r=t=c=f=p=u="";d={};k=1;s=a([]);m=0;s.selector=b;l=function(){var b;b=a.HTML.parse(r);
o?o.appendChild(b):s.push(b);r="";return k=1};for(g=function(){var a,b;b=document.createElement(u);b.id=p||null;b.className=f||null;for(a in d)b.setAttribute(a,d[a]);o?o.appendChild(b):s.push(b);o=b;r=t=c=f=p=u="";d={};return k=1};e=b[m++];)if(e==="+"&&k===1){if(o)o=o.parentNode}else if(e==="#"&&(k===1||k===3||k===4))k=2;else if(e==="."&&(k===1||k===2||k===4))f.length>0&&(f+=" "),k=3;else if(e==="."&&f.length>0)f+=" ";else if(e==="["&&(k===1||k===2||k===3||k===4))k=4;else if(e==="="&&k===4)k=5;else if(e===
'"'&&k===1)k=6;else if(e==="'"&&k===1)k=7;else if(e==="]"&&(k===4||k===5))d[c]=t,t=c="",k=1;else if(e==='"'&&k===6)l();else if(e==="'"&&k===7)l();else if((e===" "||e===",")&&k!==5&&k!==4&&u.length>0)g(),e===","&&(o=null);else if(k===1)e!==" "&&(u+=e);else if(k===2)p+=e;else if(k===3)f+=e;else if(k===4)c+=e;else if(k===5)t+=e;else if(k===6||k===7)r+=e;else throw Error("Unknown input/state: '"+e+"'/"+k);u.length>0&&g();r.length>0&&l();return s};return{name:"Template",$:{render:d,synth:b},template:function(b){this.render=
function(c){return d(this.map(a.HTML.stringify).join(""),Object.Extend(b,c))};return this.remove()},render:function(b){return d(this.map(a.HTML.stringify).join(""),b)},synth:function(a){return b(a).appendTo(this)}}});a.plugin(function(){var g,f,e;e=function(a){var b,c,e,h;b=a.indexOf(":");if(b>0)return e=parseInt(a.slice(0,b),10),c=a.slice(b+1,b+1+e),h=a[b+1+e],a=a.slice(b+e+2),c=function(){switch(h){case "#":return Number(c);case "'":return String(c);case "!":return c==="true";case "~":return null;
case "]":return g(c);case "}":return f(c)}}(),[c,a]};g=function(a){var b,c;for(b=[];a.length>0;)a=e(a),c=a[0],a=a[1],b.push(c);return b};f=function(a){var b,c,f;for(b={};a.length>0;)f=e(a),c=f[0],a=f[1],a=e(a),f=a[0],a=a[1],b[c]=f;return b};return{name:"TNET",$:{TNET:{stringify:function(d){var b,c,e;e=function(){switch(Object.Type(d)){case "number":return[String(d),"#"];case "string":return[d,"'"];case "function":return[String(d),"'"];case "boolean":return[String(!!d),"!"];case "null":return["","~"];
case "undefined":return["","~"];case "array":return[function(){var b,e,f;f=[];b=0;for(e=d.length;b<e;b++)c=d[b],f.push(a.TNET.stringify(c));return f}().join(""),"]"];case "object":return[function(){var b;b=[];for(c in d)b.push(a.TNET.stringify(c)+a.TNET.stringify(d[c]));return b}().join(""),"}"]}}();b=e[0];return(b.length|0)+":"+b+e[1]},parse:function(a){var b;return(b=e(a))!=null?b[0]:void 0}}}}});return a.plugin(function(){return{name:"Promises"}})}(l))}).call(this);
