(function(){var s,y,z,G,E,A,H,F,C,v=Array.prototype.slice,J=Object.prototype.hasOwnProperty,K=function(e,j){function k(){this.constructor=e}for(var i in j)if(J.call(j,i))e[i]=j[i];k.prototype=j.prototype;e.prototype=new k;e.__super__=j.prototype;return e},I=function(e,j){return function(){return e.apply(j,arguments)}};if(false in document)alert("This browser is not supported");else{C=console&&console.log?function(){var e;e=1<=arguments.length?v.call(arguments,0):[];return console.log.apply(console,
e)}:function(){var e;e=1<=arguments.length?v.call(arguments,0):[];return alert(e.join(", "))};z=Math.min;y=Math.max;G=Math.sqrt;E=Object.prototype.toString;A=/,* +/;H=/^\s+/;F=/\[object (\w+)\]/;s=function(e,j){var k;if(j==null)j=document;k=Object.Type(e);if(k==="node"||k==="window"||k==="function")k=[e];else if(k==="number")k=Array(e);else if(k==="string"){e=e.trimLeft();if(e[0]==="<")k=[s.HTML.parse(e)];else if(j.querySelectorAll)k=j.querySelectorAll(e);else throw Error("invalid context: "+j+" (type: "+
Object.Type(j)+")");}else if(k==="array"||k==="bling"||k==="nodelist")k=e;else if(k==="undefined"||k==="null")k=[];else throw Error("invalid selector: "+e+" (type: "+Object.Type(e)+")");k.constructor=s;k.__proto__=s.fn;k.selector=e;k.context=j;return k};s.fn=[];Object.Keys=function(e,j){var k,i,b;if(j==null)j=false;b=[];i=0;for(k in e)if(j||e.hasOwnProperty(k))b[i++]=k;return b};Object.Extend=function(e,j,k){var i,b,g;if(E.apply(k)==="[object Array]")for(i in k){if(j[k[i]]!==void 0)e[k[i]]=j[k[i]]}else{g=
Object.Keys(j);k=0;for(b=g.length;k<b;k++){i=g[k];e[i]=j[i]}}return e};Object.Extend(Object,{Type:function(e){var j;switch(true){case e===void 0:return"undefined";case e===null:return"null";case Object.IsString(e):return"string";case Object.IsType(e,s):return"bling";case Object.IsType(e,NodeList):return"nodelist";case Object.IsArray(e):return"array";case Object.IsNumber(e):return"number";case Object.IsFragment(e):return"fragment";case Object.IsNode(e):return"node";case Object.IsFunc(e):return"function";
case Object.IsType(e,"RegExp"):return"regexp";case (j=String(e))==="true"||j==="false":return"boolean";case Object.IsObject(e):return"setInterval"in e?"window":"object"}},IsType:function(e,j){return e===null?e===j:e.constructor===j?true:typeof j==="string"?e.constructor.name===j||E.apply(e).replace(F,"$1")===j:Object.IsType(e.__proto__,j)},IsString:function(e){return e!=null&&(typeof e==="string"||Object.IsType(e,String))},IsNumber:function(e){return e!=null&&Object.IsType(e,Number)},IsBoolean:function(e){return typeof e===
"boolean"},IsFunc:function(e){return e!=null&&(typeof e==="function"||Object.IsType(e,Function))&&e.call!=null},IsNode:function(e){return e!=null&&e.nodeType>0},IsFragment:function(e){return e!=null&&e.nodeType===11},IsArray:function(e){return e!=null&&(Object.ToString(e)==="[object Array]"||Object.IsType(e,Array))},IsBling:function(e){return e!=null&&Object.IsType(e,s)},IsObject:function(e){return e!=null&&typeof e==="object"},IsDefined:function(e){return e!=null},Unbox:function(e){if(e!=null&&Object.IsObject(e)){if(Object.IsString(e))return e.toString();
if(Object.IsNumber(e))return Number(e)}return e},ToString:function(e){return E.apply(e)}});Object.Extend(Function,{Empty:function(){},Bound:function(e,j,k){var i;if(k==null)k=[];if("bind"in e){k.splice(0,0,j);i=e.bind.apply(e,k)}else i=function(){1<=arguments.length&&v.call(arguments,0);return e.apply(j,k)};i.toString=function(){return"bound-method of "+j+"."+e.name};return i},Trace:function(e,j,k){var i;if(k==null)k=C;i=function(){var b;b=1<=arguments.length?v.call(arguments,0):[];k(""+(j||"")+(this.name||
this)+"."+e.name+"(",b,")");return e.apply(this,b)};k("Function.Trace: "+(j||e.name)+" created.");i.toString=e.toString;return i},NotNull:function(e){return e!==null},IndexFound:function(e){return e>-1},ReduceAnd:function(e){return e&&this},UpperLimit:function(e){return function(j){return z(e,j)}},LowerLimit:function(e){return function(j){return y(e,j)}},Px:function(e){return function(){return Number.Px(this,e)}}});Object.Extend(Array,{Coalesce:function(){var e,j,k,i;e=1<=arguments.length?v.call(arguments,
0):[];if(Object.IsArray(e[0]))return Array.Coalesce.apply(Array,e[0]);else{k=0;for(i=e.length;k<i;k++){j=e[k];if(j!=null)return j}}},Extend:function(e,j){var k,i,b,g;i=e.length;b=0;for(g=j.length;b<g;b++){k=j[b];e[i++]=k}return e}});Object.Extend(Number,{Px:function(e,j){if(j==null)j=0;return e!=null&&parseInt(e,10)+(j|0)+"px"},AtLeast:function(e){return function(j){return y(parseFloat(j||0),e)}},AtMost:function(e){return function(j){return z(parseFloat(j||0),e)}}});Object.Extend(String,{PadLeft:function(e,
j,k){if(k==null)k=" ";for(;e.length<j;)e=k+e;return e},PadRight:function(e,j,k){if(k==null)k=" ";for(;e.length<j;)e+=k;return e},Splice:function(e,j,k,i){var b;b=e.length;if(k<0)k+=b;if(j<0)j+=b;return e.substring(0,j)+i+e.substring(k)},Checksum:function(e){var j,k,i;j=k=0;for(i=e.length;0<=i?j<i:j>i;0<=i?j++:j--)k+=e.charCodeAt(j);return k}});Object.Extend(Event,{Cancel:function(e){e.stopPropagation();e.preventDefault();e.cancelBubble=true;return e.returnValue=false},Prevent:function(e){return e.preventDefault()},
Stop:function(e){e.stopPropagation();return e.cancelBubble=true}});(function(e){e.plugins=[];e.plugin=function(j){var k,i,b,g,a,f,c;try{g=j.call(e,e);b=j.name||g.name;if(!b)throw Error("plugin requires a 'name'");i=function(h,l){return h[0]===s.symbol?s[h.substr(1)]=l:s.fn[h]=l};c=Object.Keys(g,true);a=0;for(f=c.length;a<f;a++){k=c[a];k!=="name"&&i(k,g[k])}e.plugins.push(b);return e.plugins[b]=g}catch(d){return console.log("failed to load plugin",d)}};e.plugin(function(){var j;j=null;s.__defineSetter__("symbol",
function(k){j in window&&delete window[j];j=k;return window[k]=s});s.__defineGetter__("symbol",function(){return j});s.symbol="$";window.Bling=e=s;return{name:"Symbol"}});e.plugin(function(){var j,k;String.prototype.trimLeft=Array.Coalesce(String.prototype.trimLeft,function(){return this.replace(H,"")});String.prototype.split=Array.Coalesce(String.prototype.split,function(i){var b,g,a,f;b=[];for(g=f=0;(a=this.indexOf(i,g))>-1;){b[f++]=this.substring(g+1,a+1);g=a+1}return b});Array.prototype.join=
Array.Coalesce(Array.prototype.join,function(i){var b,g;b=this.length;if(b===0)return"";for(g=this[b-1];--b>0;)g=this[b-1]+i+g;return g});Element.prototype.matchesSelector=Array.Coalesce(Element.prototype.webkitMatchesSelector,Element.prototype.mozMatchesSelector,Element.prototype.matchesSelector);k=Element.prototype.toString;Element.prototype.toString=function(i){if(i){i=this.nodeName.toLowerCase();if(this.id!=null)i+="#"+this.id;else if(this.className!=null)i+="."+this.className.split(" ").join(".");
return i}else return k.apply(this)};if(Element.prototype.cloneNode.length===0){j=Element.prototype.cloneNode;Element.prototype.cloneNode=function(i){var b,g,a,f;if(i==null)i=false;b=j.call(this);if(i){f=this.childNodes;g=0;for(a=f.length;g<a;g++){i=f[g];b.appendChild(i.cloneNode(true))}}return b}}return{name:"Compat"}});e.plugin(function(){var j,k,i;j=new (function(){function b(){var g;g=I(function(){if(this.length>0)return this.shift()()},this);this.schedule=I(function(a,f){var c,d;if(!Object.IsFunc(a))throw Error("function expected, got: "+
typeof a);d=this.length;a.order=f+(new Date).getTime();if(d===0||a.order>this[d-1].order)this[d]=a;else for(c=0;0<=d?c<d:c>d;0<=d?c++:c--)if(this[c].order>a.order){this.splice(c,0,a);break}setTimeout(g,f);return this},this)}K(b,Array);return b}());k=function(b){return function(){var g;g=this[b];if(Object.IsFunc(g))return Function.Bound(g,this);return g}};i=function(b){var g;g=b.indexOf(".");if(g>-1)return this.zip(b.substr(0,g)).zip(b.substr(g+1));return this.map(k(b))};return{name:"Core",querySelectorAll:function(b){return this.filter("*").reduce(function(g,
a){return Array.Extend(g,a.querySelectorAll(b))},e())},eq:function(b){var g;g=e([this[b]]);g.context=this;return g.selector=["eq",b]},each:function(b){var g,a,f;a=0;for(f=this.length;a<f;a++){g=this[a];b.call(g,g)}return this},map:function(b){var g,a,f,c;g=e();g.context=this;g.selector=["map",b];f=this.len();for(a=0;0<=f?a<f:a>f;0<=f?a++:a--){c=this[a];try{g[a]=b.call(c,c)}catch(d){g[a]=d}}return g},reduce:function(b,g){var a,f;a=g;f=this;if(g==null){a=this[0];f=this.skip(1)}f.each(function(){return a=
b.call(this,a,this)});return a},union:function(b,g){var a,f,c,d;c=e();a=f=0;c.context=[this,b];for(c.selector="union";d=this[f++];)c.contains(d,g)||(c[a++]=d);for(f=0;d=b[f++];)c.contains(d,g)||(c[a++]=d);return c},intersect:function(b){var g,a,f,c,d,h;h=e();f=0;c=this.len();d=Object.IsFunc(b.len)?b.len():b.length;h.context=[this,b];h.selector="intersect";for(g=0;0<=c?g<c:g>c;0<=c?g++:g--)for(a=0;0<=d?a<d:a>d;0<=d?a++:a--)if(this[g]===b[a]){h[f++]=this[g];break}return h},distinct:function(b){return this.union(this,
b)},contains:function(b,g){var a,f,c;f=0;for(c=this.length;f<c;f++){a=this[f];if(g&&a===b||!g&&a===b)return true}return false},count:function(b,g){var a;if(b===void 0)return this.len();a=0;this.each(function(f){if(g&&f===b||!g&&f===b)return a++});return a},zip:function(){var b,g,a,f,c,d,h,l;b=1<=arguments.length?v.call(arguments,0):[];d=b.length;switch(d){case 0:return e();case 1:return i.call(this,b[0]);default:l={};h=this.len();c=e();for(g=a=0;0<=d?g<d:g>d;0<=d?g++:g--)l[b[g]]=i.call(this,b[g]);
for(g=0;0<=h?g<h:g>h;0<=h?g++:g--){b={};for(f in l)b[f]=l[f].shift();c[a++]=b}return c}},zap:function(b,g){var a;a=b.indexOf(".");return a>-1?this.zip(b.substr(0,a)).zap(b.substr(a+1),g):Object.IsArray(g)?this.each(function(){return this[b]=g[++a]}):this.each(function(){return this[b]=g})},take:function(b){var g,a;b=z(b|0,this.len());g=e();g.context=this;g.selector=["take",b];for(a=0;0<=b?a<b:a>b;0<=b?a++:a--)g[a]=this[a];return g},skip:function(b){var g,a,f;if(b==null)b=0;b=z(this.len(),y(0,b|0));
f=this.len()-b;g=e();g.context=this.context;g.selector=this.selector;for(a=0;0<=f?a<f:a>f;0<=f?a++:a--)g[a]=this[a+b];return g},first:function(b){if(b==null)b=1;return b===1?this[0]:this.take(b)},last:function(b){if(b==null)b=1;return b===1?this[this.len()-1]:this.skip(this.len()-b)},slice:function(b,g){var a,f,c;if(b==null)b=0;if(g==null)g=this.len();a=e();c=0;f=this.len();if(b<0)b+=f;if(g<0)g+=f;a.context=this;a.selector=["slice",b,g];for(f=b;b<=g?f<g:f>g;b<=g?f++:f--)a[c++]=this[f];return a},concat:function(b){var g,
a,f;g=this.len()-1;a=-1;for(f=Object.IsFunc(b.len)?b.len():b.length;a<f-1;)this[++g]=b[++a];return this},push:function(b){Array.prototype.push.call(this,b);return this},filter:function(b){var g,a,f,c,d,h;g=e();g.context=this;g.selector=b;c=0;switch(Object.Type(b)){case "string":a=function(l){return l.matchesSelector(b)};break;case "regexp":a=function(l){return b.test(l)};break;case "function":a=b}d=0;for(h=this.length;d<h;d++){f=this[d];if(a.call(f,f))g[c++]=f}return g},test:function(b){return this.map(function(){return b.test(this)})},
matches:function(b){return this.zip("matchesSelector").call(b)},weave:function(b){var g,a,f,c;f=b.len();a=this.len();g=e();g.context=[this,b];g.selector="weave";for(a=c=a-1;c<=0?a<=0:a>=0;c<=0?a++:a--)g[a*2+1]=this[a];for(a=0;0<=f?a<f:a>f;0<=f?a++:a--)g[a*2]=b[a];return g},fold:function(b){var g,a,f,c,d;c=this.len();f=0;g=e();g.context=this;g.selector=["fold",b];a=0;for(d=c-1;0<=d?a<d:a>d;a+=2)g[f++]=b.call(this,this[a],this[a+1]);if(c%2===1)g[f++]=b.call(this,this[c-1],void 0);return g},flatten:function(){var b,
g,a,f,c,d,h;b=e();h=this.len();d=0;b.context=this;b.selector="flatten";for(f=0;0<=h?f<h:f>h;0<=h?f++:f--){g=this[f];a=Object.IsFunc(g.len)?g.len():g.length;for(c=0;0<=a?c<a:c>a;0<=a?c++:c--)b[d++]=g[c]}return b},call:function(){return this.apply(null,arguments)},apply:function(b,g){return this.map(function(){return Object.IsFunc(this)?this.apply(b,g):this})},toString:function(){return e.symbol+"(["+this.map(function(){switch(this){case void 0:return"undefined";case null:return"null";case window:return"window";
default:return this.toString().replace(F,"$1")}}).join(", ")+"])"},delay:function(b,g){g&&j.schedule(Function.Bound(g,this),b);return this},log:function(b){var g;g=this.len();b?C(b,this,g+" items"):C(this,g+" items");return this},len:function(){var b;for(b=this.length;this[b]!==void 0;)b++;for(;b>-1&&this[b]===void 0;)b--;return b+1}}});e.plugin(function(){var j,k,i,b,g;k=function(a,f){return a.parentNode.insertBefore(f,a)};j=function(a,f){return a.parentNode.insertBefore(f,a.nextSibling)};g=function(a){switch(Object.Type(a)){case "fragment":return a;
case "node":return a;case "bling":return a.toFragment();case "string":return e(a).toFragment();case "function":return e(a.toString()).toFragment();default:throw Error("toNode called with invalid argument: "+a+" (type: "+Object.Type(a)+")");}};i=null;b=function(a){return function(){return window.getComputedStyle(this,null).getPropertyValue(a)}};return{name:"Html",$HTML:{parse:function(a){var f,c,d,h;h=document.createElement("div");h.innerHTML=a;a=h.childNodes;d=a.length;if(d===1)return h.removeChild(a[0]);
f=document.createDocumentFragment();for(c=0;0<=d?c<d:c>d;0<=d?c++:c--)f.appendChild(h.removeChild(a[0]));return f},stringify:function(a){var f,c;switch(Object.Type(a)){case "string":return a;case "node":a=a.cloneNode(true);f=document.createElement("div");f.appendChild(a);c=f.innerHTML;f.removeChild(a);delete a;return c}},escape:function(a){i||(i=e("<div>&nbsp;</div>").child(0));a=i.zap("data",a).zip("parentNode.innerHTML").first();i.zap("data","");return a}},html:function(a){switch(Object.Type(a)){case "undefined":return this.zip("innerHTML");
case "string":return this.zap("innerHTML",a);case "bling":return this.html(a.toFragment());case "node":return this.each(function(){var f;this.replaceChild(this.childNodes[0],a);for(f=[];this.childNodes.length>1;)f.push(this.removeChild(this.childNodes[1]));return f})}},append:function(a){var f;a=g(a);f=this.zip("appendChild");f.take(1).call(a);f.skip(1).each(function(c){return c(a.cloneNode(true))});return this},appendTo:function(a){e(a).append(this);return this},prepend:function(a){if(a!=null){a=
g(a);this.take(1).each(function(){return k(this.childNodes[0],a)});this.skip(1).each(function(){return k(this.childNodes[0],a.cloneNode(true))})}return this},prependTo:function(a){a!=null&&e(a).prepend(this);return this},before:function(a){if(a!=null){a=g(a);this.take(1).each(function(){return k(this,a)});this.skip(1).each(function(){return k(this,a.cloneNode(true))})}return this},after:function(a){if(a!=null){a=g(a);this.take(1).each(function(){return j(this,a)});this.skip(1).each(function(){return j(this,
a.cloneNode(true))})}return this},wrap:function(a){a=g(a);if(Object.IsFragment(a))throw Error("cannot wrap with a fragment");return this.map(function(f){var c,d;if(Object.IsFragment(f))a.appendChild(f);else if(Object.IsNode(f))if(d=f.parentNode){c=document.createElement("dummy");a.appendChild(d.replaceChild(c,f));d.replaceChild(a,c)}else a.appendChild(f);return f})},unwrap:function(){return this.each(function(){if(this.parentNode&&this.parentNode.parentNode)return this.parentNode.parentNode.replaceChild(this,
this.parentNode)})},replace:function(a){var f,c;a=g(a);f=e();c=0;this.take(1).each(function(){if(this.parentNode){this.parentNode.replaceChild(a,this);return f[c++]=a}});this.skip(1).each(function(){var d;if(this.parentNode){d=a.cloneNode(true);this.parentNode.replaceChild(d,this);return f[c++]=d}});return f},attr:function(a,f){switch(f){case void 0:return this.zip("getAttribute").call(a,f);case null:return this.zip("removeAttribute").call(a,f);default:this.zip("setAttribute").call(a,f);return this}},
addClass:function(a){return this.removeClass(a).each(function(){var f;f=this.className.split(" ").filter(function(c){return c!==""});f.push(a);return this.className=f.join(" ")})},removeClass:function(a){var f;f=function(c){return c!==a};return this.each(function(){return this.className=this.className.split(" ").filter(f).join(" ")})},toggleClass:function(a){var f;f=function(c){return c!==a};return this.each(function(){var c;c=this.className.split(" ");if(c.indexOf(a)>-1)return this.className=c.filter(f).join(" ");
else{c.push(a);return this.className=c.join(" ")}})},hasClass:function(a){return this.zip("className.split").call(" ").zip("indexOf").call(a).map(Function.IndexFound)},text:function(a){if(a!=null)return this.zap("textContent",a);return this.zip("textContent")},val:function(a){if(a!=null)return this.zap("value",a);return this.zip("value")},css:function(a,f){var c,d,h,l;if(f!=null||Object.IsObject(a)){l=this.zip("style.setProperty");h=l.len();if(Object.IsObject(a))for(c in a)l.call(c,a[c],"");else if(Object.IsString(f))l.call(a,
f,"");else if(Object.IsArray(f)){d=y(f.length,h);for(c=0;0<=d?c<d:c>d;0<=d?c++:c--)l[c%h](a,f[c%d],"")}return this}else{c=this.map(b(a));d=this.zip("style").zip(a);return d.weave(c).fold(function(n,m){return n||m})}},defaultCss:function(a,f){var c,d,h;d=this.selector;h="";if(Object.IsString(a))if(Object.IsString(f))h+=""+d+" { "+a+": "+f+" } ";else throw Error("defaultCss requires a value with a string key");else if(Object.IsObject(a)){h+=""+d+" { ";for(c in a)h+=""+c+": "+a[c]+"; ";h+="} "}e.synth("style").text(h).appendTo("head");
return this},empty:function(){return this.html("")},rect:function(){return this.zip("getBoundingClientRect").call()},width:function(a){if(a===null)return this.rect().zip("width");return this.css("width",a)},height:function(a){if(a===null)return this.rect().zip("height");return this.css("height",a)},top:function(a){if(a===null)return this.rect().zip("top");return this.css("top",a)},left:function(a){if(a===null)return this.rect().zip("left");return this.css("left",a)},bottom:function(a){if(a===null)return this.rect().zip("bottom");
return this.css("bottom",a)},right:function(a){if(a===null)return this.rect().zip("right");return this.css("right",a)},position:function(a,f){if(a===null)return this.rect();if(f===null)return this.css("left",Number.Px(a));return this.css({top:Number.Px(f),left:Number.Px(a)})},center:function(a){var f,c,d;if(a==null)a="viewport";f=document.body;c=f.scrollTop+f.clientHeight/2;d=f.scrollLeft+f.clientWidth/2;return this.each(function(){var h,l,n;l=e(this);h=l.height().floats().first();n=l.width().floats().first();
n=a==="viewport"||a==="horizontal"?d-n/2:NaN;h=a==="viewport"||a==="vertical"?c-h/2:NaN;return l.css({position:"absolute",left:Number.Px(n),top:Number.Px(h)})})},scrollToCenter:function(){document.body.scrollTop=this.zip("offsetTop")[0]-window.innerHeight/2;return this},child:function(a){return this.zip("childNodes").map(function(){var f;f=a;if(f<0)f+=this.length;return this[f]})},children:function(){return this.map(function(){return e(this.childNodes,this)})},parent:function(){return this.zip("parentNode")},
parents:function(){return this.map(function(){var a,f,c;a=e();f=0;for(c=this;c=c.parentNode;)a[f++]=c;return a})},prev:function(){return this.map(function(){var a,f,c;a=e();f=0;for(c=this;c=c.previousSibling;)a[f++]=c;return a})},next:function(){return this.map(function(){var a,f,c;a=e();f=0;for(c=this;c=c.nextSibling;)a[f++]=c;return a})},remove:function(){return this.each(function(){if(this.parentNode)return this.parentNode.removeChild(this)})},find:function(a){return this.filter("*").map(function(){return e(a,
this)}).flatten()},clone:function(a){if(a==null)a=true;return this.map(function(){return Object.IsNode(this)?this.cloneNode(a):null})},toFragment:function(){var a,f;if(this.len()>1){f=document.createDocumentFragment();a=Function.Bound(f.appendChild,f);this.map(g).map(a);return f}return g(this[0])}}});e.plugin(function(){return{name:"Maths",floats:function(){return this.map(parseFloat)},ints:function(){return this.map(function(){return parseInt(this,10)})},px:function(j){if(j==null)j=0;return this.ints().map(Function.Px(j))},
min:function(){return this.reduce(function(j){return z(this,j)})},max:function(){return this.reduce(function(j){return y(this,j)})},average:function(){return this.sum()/this.len()},sum:function(){return this.reduce(function(j){return j+this})},squares:function(){return this.map(function(){return this*this})},magnitude:function(){return G(this.floats().squares().sum())},scale:function(j){return this.map(function(){return j*this})},normalize:function(){return this.scale(1/this.magnitude())}}});e.plugin(function(){var j,
k,i,b,g,a,f;j=function(c){return function(d){if(d==null)d={};if(Object.IsFunc(d))return this.bind(c,d);return this.trigger(c,d)}};b=function(c,d,h,l,n){return e(d).bind(h,n).each(function(){var m;m=this.__alive__||(this.__alive__={});m=m[c]||(m[c]={});return(m[h]||(m[h]={}))[l]=n})};f=function(c,d,h,l){var n;n=e(d);return n.each(function(){var m;m=this.__alive__||(this.__alive__={});m=m[c]||(m[c]={});m=m[h]||(m[h]={});n.unbind(h,m[l]);return delete m[l]})};k=i=0;a=function(){if(!i++){e(document).trigger("ready").unbind("ready");
typeof document.removeEventListener==="function"&&document.removeEventListener("DOMContentLoaded",a,false);return typeof window.removeEventListener==="function"?window.removeEventListener("load",a,false):void 0}};if(!k++){typeof document.addEventListener==="function"&&document.addEventListener("DOMContentLoaded",a,false);typeof window.addEventListener==="function"&&window.addEventListener("load",a,false)}g={name:"Events",bind:function(c,d){var h,l;h=(c||"").split(A);l=function(n){g=d.apply(this,arguments);
g===false&&Event.Prevent(n);return g};return this.each(function(){var n,m,p,q;q=[];m=0;for(p=h.length;m<p;m++){n=h[m];q.push(this.addEventListener(n,l,false))}return q})},unbind:function(c,d){var h;h=(c||"").split(A);return this.each(function(){var l,n,m,p;p=[];n=0;for(m=h.length;n<m;n++){l=h[n];p.push(this.removeEventListener(l,d,null))}return p})},once:function(c,d){var h,l,n,m,p;h=(c||"").split(A);p=[];n=0;for(m=h.length;n<m;n++){l=h[n];p.push(this.bind(l,function(q){d.call(this,q);return this.removeEventListener(q.type,
arguments.callee,null)}))}return p},cycle:function(){var c,d,h,l,n,m,p;c=arguments[0];h=2<=arguments.length?v.call(arguments,1):[];c=(c||"").split(A);n=h.length;d=function(){var q;q=0;return function(o){h[q].call(this,o);return q=++q%n}};m=0;for(p=c.length;m<p;m++){l=c[m];this.bind(l,d())}return this},trigger:function(c,d){var h,l,n,m,p;if(d==null)d={};n=(c||"").split(A);d=Object.Extend({bubbles:true,cancelable:true},d);m=0;for(p=n.length;m<p;m++){l=n[m];if(l==="click"||l==="mousemove"||l==="mousedown"||
l==="mouseup"||l==="mouseover"||l==="mouseout"){h=document.createEvent("MouseEvents");d=Object.Extend({detail:1,screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false,button:0,relatedTarget:null},d);h.initMouseEvent(l,d.bubbles,d.cancelable,window,d.detail,d.screenX,d.screenY,d.clientX,d.clientY,d.ctrlKey,d.altKey,d.shiftKey,d.metaKey,d.button,d.relatedTarget)}else if(l==="blur"||l==="focus"||l==="reset"||l==="submit"||l==="abort"||l==="change"||l==="load"||
l==="unload"){h=document.createEvent("UIEvents");h.initUIEvent(l,d.bubbles,d.cancelable,window,1)}else if(l==="touchstart"||l==="touchmove"||l==="touchend"||l==="touchcancel"){h=document.createEvent("TouchEvents");d=Object.Extend({detail:1,screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false,touches:[],targetTouches:[],changedTouches:[],scale:1,rotation:0},d);h.initTouchEvent(l,d.bubbles,d.cancelable,window,d.detail,d.screenX,d.screenY,d.clientX,d.clientY,
d.ctrlKey,d.altKey,d.shiftKey,d.metaKey,d.touches,d.targetTouches,d.changedTouches,d.scale,d.rotation)}else if(l==="gesturestart"||l==="gestureend"||l==="gesturecancel"){h=document.createEvent("GestureEvents");d=Object.Extend({detail:1,screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false,target:null,scale:1,rotation:0},d);h.initGestureEvent(l,d.bubbles,d.cancelable,window,d.detail,d.screenX,d.screenY,d.clientX,d.clientY,d.ctrlKey,d.altKey,d.shiftKey,d.metaKey,
d.target,d.scale,d.rotation)}else{h=document.createEvent("Events");h.initEvent(l,d.bubbles,d.cancelable);try{h=Object.Extend(h,d)}catch(q){}}if(h)try{this.each(function(){return this.dispatchEvent(h)})}catch(o){C("dispatchEvent error:",o)}}return this},live:function(c,d){var h,l;l=this.selector;h=this.context;b(l,h,c,d,function(n){return e(l,h).intersect(e(n.target).parents().first().union(e(n.target))).each(function(){n.target=this;return d.call(this,n)})});return this},die:function(c,d){var h,l;
l=this.selector;h=this.context;l=f(l,h,c,d);e(h).unbind(c,l);return this},liveCycle:function(){var c,d,h;c=arguments[0];d=2<=arguments.length?v.call(arguments,1):[];h=0;return this.live(c,function(l){d[h].call(this,l);return h=++h%d.length})},click:function(c){if(c==null)c={};this.css("cursor").intersect(["auto",""]).len()>0&&this.css("cursor","pointer");return Object.IsFunc(c)?this.bind("click",c):this.trigger("click",c)},ready:function(c){if(c==null)c={};return Object.IsFunc(c)?i?c.call(this):this.bind("ready",
c):this.trigger("ready",c)}};["mousemove","mousedown","mouseup","mouseover","mouseout","blur","focus","load","unload","reset","submit","keyup","keydown","change","abort","cut","copy","paste","selection","drag","drop","orientationchange","touchstart","touchmove","touchend","touchcancel","gesturestart","gestureend","gesturecancel","hashchange"].forEach(function(c){return g[c]=j(c)});return g});e.plugin(function(){var j,k,i,b,g,a,f;k={slow:700,medium:500,normal:300,fast:100,instant:0,now:0};j=/(?:scale(?:3d)*|translate(?:[XYZ]|3d)*|rotate(?:[XYZ]|3d)*)/;
i=document.createElement("div").style;if("WebkitTransform"in i){b="-webkit-transform";a="-webkit-transition-property";g="-webkit-transition-duration";f="-webkit-transition-timing-function"}else if("MozTransform"in i){b="-moz-transform";a="-moz-transition-property";g="-moz-transition-duration";f="-moz-transition-timing-function"}else if("OTransform"in i){b="-o-transform";a="-o-transition-property";g="-o-transition-duration";f="-o-transition-timing-function"}delete i;return{name:"Transform",$duration:function(c){var d;
d=k[c];if(d!=null)return d;return parseFloat(c)},transform:function(c,d,h,l){var n,m,p,q,o,r;if(Object.IsFunc(d)){l=d;h=d=null}else if(Object.IsFunc(h)){l=h;h=null}if(d==null)d="normal";h||(h="ease");n=e.duration(d)+"ms";o=[];q=0;r="";d={};for(m in c)if(j.test(m)){p=c[m];if(p.join)p=e(p).px().join(", ");else if(p.toString)p=p.toString();r+=" "+m+"("+p+")"}else d[m]=c[m];for(m in d)o[q++]=m;if(r)o[q++]=b;d[a]=o.join(", ");d[g]=o.map(function(){return n}).join(", ");d[f]=o.map(function(){return h}).join(", ");
if(r)d[b]=r;this.css(d);return this.delay(n,l)},hide:function(c){return this.each(function(){if(this.style){this._display="";if(this.style.display===false)this._display=this.syle.display;return this.style.display="none"}}).trigger("hide").delay(50,c)},show:function(c){return this.each(function(){if(this.style){this.style.display=this._display;return delete this._display}}).trigger("show").delay(50,c)},toggle:function(c){return this.weave(this.css("display")).fold(function(d,h){if(d==="none"){h.style.display=
h._display||"";delete h._display;e(h).trigger("show")}else{h._display=d;h.style.display="none";e(h).trigger("hide")}return h}).delay(50,c)},fadeIn:function(c,d){return this.css("opacity","0.0").show(function(){return this.transform({opacity:"1.0",translate3d:[0,0,0]},c,d)})},fadeOut:function(c,d,h,l){if(h==null)h=0;if(l==null)l=0;return this.transform({opacity:"0.0",translate3d:[h,l,0]},c,function(){return this.hide(d)})},fadeLeft:function(c,d){return this.fadeOut(c,d,"-"+this.width().first(),0)},
fadeRight:function(c,d){return this.fadeOut(c,d,this.width().first(),0)},fadeUp:function(c,d){return this.fadeOut(c,d,0,"-"+this.height().first())},fadeDown:function(c,d){return this.fadeOut(c,d,0,this.height().first())}}});e.plugin(function(){var j;j=function(k){var i,b,g;g=[];b=0;k=JSON.parse(JSON.stringify(k));for(i in k)g[b++]=""+i+"="+escape(k[i]);return g.join("&")};return{name:"Http",$http:function(k,i){var b;if(i==null)i={};b=new XMLHttpRequest;if(Object.IsFunc(i))i={success:Function.Bound(i,
b)};i=Object.Extend({method:"GET",data:null,state:Function.Empty,success:Function.Empty,error:Function.Empty,async:true,timeout:0,withCredentials:false,followRedirects:false,asBlob:false},i);i.state=Function.Bound(i.state,b);i.success=Function.Bound(i.success,b);i.error=Function.Bound(i.error,b);if(i.data&&i.method==="GET")k+="?"+j(i.data);else if(i.data&&i.method==="POST")i.data=j(i.data);b.open(i.method,k,i.async);b.withCredentials=i.withCredentials;b.asBlob=i.asBlob;b.timeout=i.timeout;b.followRedirects=
i.followRedirects;b.onreadystatechange=function(){i.state&&i.state();if(b.readyState===4)return b.status===200?i.success(b.responseText):i.error(b.status,b.statusText)};b.send(i.data);return e([b])},$post:function(k,i){if(i==null)i={};if(Object.IsFunc(i))i={success:i};i.method="POST";return e.http(k,i)},$get:function(k,i){if(i==null)i={};if(Object.IsFunc(i))i={success:i};i.method="GET";return e.http(k,i)}}});e.plugin(function(){var j,k,i,b,g,a;i=function(f,c,d,h,l){var n,m;n=1;if(l===null||l===-1)l=
f.length;for(m=h;h<=l?m<l:m>l;h<=l?m++:m--){if(f[m]===d)n+=1;else if(f[m]===c)n-=1;if(n===0)return m}return-1};a=/([0-9#0+-]*)\.*([0-9#+-]*)([diouxXeEfFgGcrsqm])((?:.|\n)*)/;j=/%[\(\/]/;k=function(f){var c,d,h,l,n,m,p;f=f.split(j);n=f.length;p=[f[0]];for(d=h=1;1<=n?d<n:d>n;1<=n?d++:d--){c=i(f[d],")","(",0,-1);if(c===-1)return"Template syntax error: unmatched '%(' starting at: "+f[d].substring(0,15);l=f[d].substring(0,c);m=f[d].substring(c);c=a.exec(m);if(c===null)return"Template syntax error: invalid type specifier starting at '"+
m+"'";m=c[4];p[h++]=l;p[h++]=c[1]|0;p[h++]=c[2]|0;p[h++]=c[3];p[h++]=m}return p};k.cache={};b=function(f,c){var d,h,l,n,m,p,q,o,r,t,u;d=k.cache[f];if(d==null)d=k.cache[f]=k(f);p=[d[0]];n=1;h=d.length;l=1;for(u=h-4;1<=u?l<u:l>u;l+=5){m=d[l];q=d[l+1];h=d[l+2];r=d[l+3];o=d[l+4];t=c[m];if(t==null)t="missing value: "+m;switch(r){case "d":p[n++]=""+parseInt(t,10);break;case "f":p[n++]=parseFloat(t).toFixed(h);break;case "s":p[n++]=""+t;break;default:p[n++]=""+t}if(q>0)p[n]=String.PadLeft(p[n],q);p[n++]=
o}return p.join("")};g=function(f){var c,d,h,l,n,m,p,q,o,r,t,u,B,D;r=null;B=D=c=l=q=u="";d={};o=1;t=e([]);p=0;t.selector=f;m=function(){var w;w=e.HTML.parse(B);r?r.appendChild(w):t.push(w);B="";return o=1};for(n=function(){var w,x;x=document.createElement(u);x.id=q||null;x.className=l||null;for(w in d)x.setAttribute(w,d[w]);r?r.appendChild(x):t.push(x);r=x;B=D=c=l=q=u="";d={};return o=1};h=f[p++];)if(h==="+"&&o===1){if(r)r=r.parentNode}else if(h==="#"&&(o===1||o===3||o===4))o=2;else if(h==="."&&(o===
1||o===2||o===4)){if(l.length>0)l+=" ";o=3}else if(h==="."&&l.length>0)l+=" ";else if(h==="["&&(o===1||o===2||o===3||o===4))o=4;else if(h==="="&&o===4)o=5;else if(h==='"'&&o===1)o=6;else if(h==="'"&&o===1)o=7;else if(h==="]"&&(o===4||o===5)){d[c]=D;D=c="";o=1}else if(h==='"'&&o===6)m();else if(h==="'"&&o===7)m();else if((h===" "||h===",")&&o!==5&&o!==4&&u.length>0){n();if(h===",")r=null}else if(o===1){if(h!==" ")u+=h}else if(o===2)q+=h;else if(o===3)l+=h;else if(o===4)c+=h;else if(o===5)D+=h;else if(o===
6||o===7)B+=h;else throw Error("Unknown input/state: '"+h+"'/"+o);u.length>0&&n();B.length>0&&m();return t};return{name:"Template",$render:b,$synth:g,template:function(f){this.render=function(c){return b(this.map(e.HTML.stringify).join(""),Object.Extend(f,c))};return this.remove()},render:function(f){return b(this.map(e.HTML.stringify).join(""),f)},synth:function(f){return g(f).appendTo(this)}}});return e.plugin(function(){var j,k,i;i=function(b){var g,a,f,c;g=b.indexOf(":");if(g>0){f=parseInt(b.slice(0,
g),10);a=b.slice(g+1,g+1+f);c=b[g+1+f];b=b.slice(g+f+2);a=function(){switch(c){case "#":return Number(a);case "'":return String(a);case "!":return a==="true";case "~":return null;case "]":return j(a);case "}":return k(a)}}();return[a,b]}};j=function(b){var g,a;for(g=[];b.length>0;){b=i(b);a=b[0];b=b[1];g.push(a)}return g};k=function(b){var g,a,f;for(g={};b.length>0;){f=i(b);a=f[0];b=f[1];b=i(b);f=b[0];b=b[1];g[a]=f}return g};return{name:"TNET",$TNET:{stringify:function(b){var g,a,f;f=function(){switch(Object.Type(b)){case "number":return[String(b),
"#"];case "string":return[b,"'"];case "function":return[String(b),"'"];case "boolean":return[String(!!b),"!"];case "null":return["","~"];case "undefined":return["","~"];case "array":return[function(){var c,d,h;h=[];c=0;for(d=b.length;c<d;c++){a=b[c];h.push(TNET.stringify(a))}return h}().join(""),"]"];case "object":return[function(){var c;c=[];for(a in b)c.push(TNET.stringify(a)+TNET.stringify(b[a]));return c}().join(""),"}"]}}();g=f[0];return(g.length|0)+":"+g+f[1]},parse:function(b){var g;return(g=
i(b))!=null?g[0]:void 0}}}})})(s)}}).call(this);
