
<html>
	<head>
		<!-- <script src="http://ajax.microsoft.com/ajax/jquery/jquery-1.4.2.min.js" type="text/javascript"></script> -->
		<script src="bling.js" type="text/javascript"> </script>
		<style type="text/css">
			body {
				font-family: Helvetica, sans;
				font-size: 14px;
				font-weight: normal;
				overflow:hidden;
				background-color:grey;
				display:block;
				width:320px;
				max-width:320px;
				border-right:1px dashed red;
				height:420px;
				max-height:420px;
				border-bottom:1px dashed red;
				padding:0;
				margin:0;
				overflow: hidden;
			}
			* {
				float: left;
			}
		</style>
	</head>
	<body>
		<input type="text" name="Email" id="Email" value="jesse.dailey@gmail.com">
		<input type="password" name="Passwd" id="Passwd" value="">
		<button id="submit">Submit</button>
		<button id="animate">Animate</button>
		<div id="read-items">
		</div>
		<script type="text/javascript">
			$("#animate").bind('click', function() {
				$("input").transform({width:"300px", "font-size":"20px"}, "slow");
			});

			$("#submit").bind('click', function() {
				var xhr = new XMLHttpRequest();
				xhr.open("POST", "https://www.google.com/accounts/ClientLogin");
				xhr.withCredentials = true;
				xhr.onreadystatechange = function() {
					console.log('ready state:', xhr.readyState, xhr.status, xhr);
				}
				xhr.onerror = function (err) {
					$("#read-items").html( $.dump(xhr) );
				}
				xhr.onload = function (evt, data) {
					console.log("onload", evt, "data", data);
				}
				var val = $("#Email, #Passwd")
					.zip('value')
					.map(escape)
					.mash(["&Email=","&Passwd="])
					.join('');
				var data = "accountType=HOSTED_OR_GOOGLE&service=reader&source=mobile-webkit-in-action-0.0" + val;
				console.log("val!",val);
				xhr.send(data);
			});
		</script>

	</body>
</html>
