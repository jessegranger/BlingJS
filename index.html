
<html>
	<head>
		<script src="bling.js" type="text/javascript"> </script>
		<script src="test.bling.js" type="text/javascript"></script>
		<style type="text/css">
			* {
				font-family: Helvetica, sans;
				font-size: 16px;
				font-weight: normal;
				margin: 0;
				padding: 0;
				border-collapse: all;
			}
			body {
				background-color:grey;
				width:320px;
				max-width:320px;
				height: auto;
				border-right:1px dashed #eaeaea;
				overflow: hidden;
			}
			button {
				padding: 4px;
				min-height:40px;
				min-width:120px;
				border-width:1px;
				-webkit-border-radius:5px;
				background: -webkit-gradient(linear, left top, left bottom,	
					from(buttonface), color-stop(.4,#bbb), to(#999));
				font-weight: bold;
				font-style: italic;
				color: #333;
				font-size: 20px;
				letter-spacing:1px;

			}
			input {
				font-size:18px;
				min-height:30px;
				line-height:30px;
				display: block;
				width: 300px;
				margin-left: auto;
				margin-right: auto;
				margin-top: 2px;
				margin-bottom: 2px;
				padding: 0px 6px;
				text-align: center;
				border-width: 1px;
				-webkit-border-radius: 5px;
			}
		</style>
	</head>
	<body>
		<input type="text" name="Email" id="Email" placeholder="username (email)" value="">
		<input type="password" name="Passwd" id="Passwd" placeholder="password" value="">
		<center>
			<button id="submit">Submit</button>
			<button id="animate">Animate</button>
		</center>
		<div id="read-items">
		</div>
		<script type="text/javascript">
			$.ready(function() { 
				$("#animate").bind('click', function() {
					$("input").transform({width:"300px", "font-size":"20px"}, "slow");
				});

				$("#submit").bind('click', function() {
					var xhr = new XMLHttpRequest();
					xhr.open("POST", "https://www.google.com/accounts/ClientLogin");
					xhr.withCredentials = true;
					xhr.onreadystatechange = function() {
						console.log('ready state:', xhr.readyState, xhr.status, xhr);
					}
					xhr.onerror = function (err) {
						$("#read-items").html( $.dump(xhr) );
					}
					xhr.onload = function (evt, data) {
						console.log("onload", evt, "data", data);
					}
					var val = $("#Email, #Passwd")
						.zip('value')
						.map(escape)
						.mash(["&Email=","&Passwd="])
						.join('');
					var data = "accountType=HOSTED_OR_GOOGLE&service=reader&source=mobile-webkit-in-action-0.0" + val;
					console.log("val!",val);
					xhr.send(data);
				});
			})
		</script>
	</body>
</html>
