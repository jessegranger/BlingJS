<html>
	<head>
		<title>BlingJS Framework.</title>
		<meta name="viewport" content="initial-scale=1.0, user-scalable=yes, width=device-width" />
		<link rel="icon" href="content/bling.png" type="image/png" />
		<link rel="stylesheet" href="content/prettify.css" type="text/css" />
		<script type="text/javascript" src="content/prettify.js"></script>
		<link href='http://fonts.googleapis.com/css?family=Nobile' rel='stylesheet' type='text/css'>
		<link href='http://fonts.googleapis.com/css?family=Inconsolata' rel='stylesheet' type='text/css'>
		<script src="bling.js" type="text/javascript"></script>
		<style type="text/css">
			body {
				font-family: 'Nobile', Verdana, sans;
				width:320px;
				padding:10px;
				margin-left:auto;
				margin-right:auto;
				border-right:1px dashed #ebebeb;
				border-left:1px dashed #ebebeb;
				background-color:white;
			}
			b { color:#911; }
			i { color:#822; }
			p {
				width:300px;
				text-align: justify;
				margin-left:auto;
				margin-right:auto;
			}
			pre {
				font-family: 'Inconsolata', courier, fixed, sans;
				font-size:0.9em;
				line-height:1.1em;
				padding:6px 0px 6px 4px;
				display: inline-block;
				border:1px dashed gray;
				background-color:#ffc;
				width:300px;
				margin:0px 0px 0px 10px;
			}
			ol.apilist {
				padding:0px 2em;
			}
			ol.apilist li {
				padding: 0px;
				margin:0px;
				border-bottom:1px solid black;
			}
			ol.apilist li pre {
				display: none;
				margin-left: -25px;
			}
			ol.apilist li > a, a[href^='#doc:Bling'] {
				font-size:1.2em;
				text-decoration:none;
				color:black;
			}
			ol.apilist li > a span {
				margin-right:.2em;
			}

			div.doc {
				position: absolute;
				display: block;
				padding: 0;
				margin: 0;
				z-index: 9001;
				left: 0px;
			}
			div.doc pre {
				font-size:0.8em;
				margin: 0px;
				border: 1px solid navy;
				background: #f0f0f0;
				-webkit-border-radius: 6px;
			}
			div.shadow {
				position: absolute;
				display: block;
				background-color: rgba(0,0,0,0.35);
				z-index: 9000;
			}
			div.shadow span {
				display:block;
				width: 200px;
				margin-left:auto;
				margin-right:auto;
				color:white;
				font-size:28px;
			}

			span.adv {
				color:blue;
			}
			span.footnote {
				font-size:0.7em;
			}

			div.dialog {
				padding:20px;
				min-width:200px;
				max-width:320px;
				min-height:60px;
				margin-left:auto;
				margin-right:auto;
				background-color: rgba(175,175,175,0.9);
				border-radius: 5px;
			}
			div.dialog pre {
				margin-left: auto;
				margin-right: auto;
			}
			div.dialog .buttons {
				position:absolute;
				bottom:1px;
				border-top:1px solid #ab7b7b;
				clear: both;
				padding:4px 10px;
			}
			div.dialog .buttons button {
				float:left;
				margin: 4px 3px;
			}

		</style>
	</head>
<body>
<script>

	$(window).ready(function(){
		$("h1").concat($("h3")).each(function() {
			$(this).wrap("<a name='"+this.innerText+"'></a>");
		})
		$("h3").skip(2).before($("<a href='#BlingJS'>&#171;Back to top</a>").css('font-size','0.9em').css('float','right'))
		$("pre").each(function(){
			this.innerText = this.innerText.replace(/\t/g,"  ");
		}).addClass("prettyprint")
		prettyPrint();
		$("a[href^='#doc:Bling']").click(function(e) {
			e.stopPropagation()
			e.preventDefault()
			doc(this,e);
		})

	})

	function doc(a,e) {
		var b = a.getAttribute("href").split("#doc:")[1]
		var d = a.__doc__
		if( d == undefined ) {
			var obj = eval(b)
			// get, clean, and color-code the source of the function
			obj = obj.toString().replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\t/g,"  ")
			obj = prettyPrintOne("<pre class='prettyprint'>"+obj+"</pre>")
			var ex = $(a.parentNode).find("pre")
			// prepend the example if there is one
			if( ex.length > 0 )
				obj = prettyPrintOne("<pre class='prettyprint'>" + ex.text().first() + "</pre>")
					+ obj
			// create and show the doc overlay
			d = $("<div class='doc'></div>")
				.html(obj)
				.css("top", e.pageY + 4 + "px")
				.bind('click', function() { d.shadow.remove(); $(this).unbind('click').remove() })
				.appendTo("body")
			// get size and position for the shadow
			var h = d.height().first()
			var w = d.width().first()
			// create the shadow
			d.shadow = $("<div class='shadow'>&nbsp;</div>")
				.css("height", h)
				.css("line-height", h)
				.css("width", w)
				.css("top", d.css("top").floats().first() + 6 + "px")
				.css("left", d.css("left").floats().first() + 6 + "px")
				.css("-webkit-border-radius", "6px")

			a.__doc__ = d
		}
		// show the shadow, with loading text
		a.__doc__.shadow.appendTo("body").html("<span>Loading...</span>")
		// show the dialog scaled instantly to 0.0
		a.__doc__.appendTo("body")
			.transform({scale:0.0,opacity:0},0,function(){
				// then scale it up to full size, for a 'zoom' effect
				this.transform({scale:1.0,opacity:1.0},"fast")
				// clear loading text
				a.__doc__.shadow.html("")
			})
	}

</script>
<h1><a name="top">BlingJS</a><h1>
<h2>A jQuery-like framework for WebKit.</h2>

<p>BlingJS is named after the bling operator ($) to which it is bound by default.
<pre>
$("body").append('&lt;div&gt;'); </pre>

<h3>Download</h3>
<p>Get the <a href="bling.js">latest BlingJS.</a> (<a href="content/min.bling.js">minified</a>).

<h3>Documentation</h3>
<p><i>A Bling</i> is an ordered set of items of any type.  This set defines functional operations to collect and manipulate the members.
<p>A Bling is a container, so you create them by wrapping up other items or sets:
<pre>
$("button") // css expressions
$("&lt;button&gt;") // or html
$([1, "foo", {a: 'b'}]) // or junk </pre>
<p>During all set-like operations, the context (the 'this' value) is equal to the item being iterated.
<p>While similar to jQuery, the biggest difference is that BlingJS methods always try to return sets,
rather than first elements, unless specifically requested by first(), or last().
Even methods that return values (like width() or height()) will return a set of values (one for each node in the source set), and if there is only one, you access it using first().
<h4>Core Module:</h4>
<ol class='apilist'>
<li><a name="#Bling.prototype.each" href="#doc:Bling.prototype.each"><span>.each(f)</span></a>&nbsp;&mdash;&nbsp;applies <b>f</b> to every <b>x</b> in <i>this</i>
	<pre>
	// hide all buttons (manually)
	$("button").each(function(){
		this.style.display = "none"
	}) </pre>
</li>
<li><a name="#Bling.prototype.map" href="#doc:Bling.prototype.map"><span>.map(f)</span></a>&nbsp;&mdash;&nbsp;collects the value of <b>f</b>(<b>x</b>) for <b>x</b> in <i>this</i>
	<pre>
	// get a list of hrefs
	$("a").map(function() {
		return this.getAttribute("href");
	}) </pre>
</li>
<li><a name="#Bling.prototype.reduce" href="#doc:Bling.prototype.reduce"><span>.reduce(f)</span></a>&nbsp;&mdash;&nbsp;accumulates <b>f</b>(a,<b>x</b>) to a single value.
	<pre>
	// compute the sum
	$([1, 2, 3, 4]).reduce(function(a) {
		return a + this;
	}) </pre>
</li>
<li><a name="#Bling.prototype.filter" href="#doc:Bling.prototype.filter"><span>.filter(f)</span></a>&nbsp;&mdash;&nbsp;collect all <b>x</b> from <i>this</i> where <b>f</b>(<b>x</b>) returns true.
	<pre>
	// return only elements that pass a test
	$([-1, 0, 1]).filter(function() {
		return this > 0;
	}) </pre>
</li>
<li><a name="#Bling.prototype.distinct" href="#doc:Bling.prototype.distinct"><span>.distinct()</span></a>&nbsp;&mdash;&nbsp;get a copy of <i>this</i> with duplicates removed.
	<pre>
	// reduce the set to only unique elements
	$([1,2,3,1,5,1]).distinct() </pre>
</li>
<li><a name="#Bling.prototype.take" href="#doc:Bling.prototype.take"><span>.take(n)</span></a>&nbsp;&mdash;&nbsp;a new set of at most <b>n</b> items from the front of <i>this</i>.
	<pre>
	// take the first n elements
	$([0,1,2,-1,-1]).take(3) </pre>
</li>
<li><a name="#Bling.prototype.skip" href="#doc:Bling.prototype.skip"><span>.skip(n)</span></a>&nbsp;&mdash;&nbsp;a new set of <i>this</i>'s items without the first <b>n</b>.
	<pre>
	// skip the first n, return the rest
	$([-1,-1,0,1,2]).skip(2) </pre>
</li>
<li><a name="#Bling.prototype.zip" href="#doc:Bling.prototype.zip"><span>.zip(p)</span></a>&nbsp;&mdash;&nbsp;collect the values of <b>x</b>.<b>p</b> for every <b>x</b> in <i>this</i>.
	<pre>
	// select the values of a property
	$("input").zip('offsetTop') </pre>
</li>
<li><a name="#Bling.prototype.zap" href="#doc:Bling.prototype.zap"><span>.zap(p,v)</span></a>&nbsp;&mdash;&nbsp;assign <b>x</b>.<b>p</b> = <b>v</b> for every <b>x</b> in <i>this</i>.
	<pre>
	// assign all properties at once
	$("input").zap("style.display", "none") </pre>
</li>
<li><a name="#Bling.prototype.last" href="#doc:Bling.prototype.last"><span>.last()</span></a>&nbsp;&mdash;&nbsp;return the last item in <i>this</i>, as itself.
	<pre>
	// returns the last item in the set, bare
	$("input").last().nodeName
	// or, if n > 0, a list </pre>
</li>
<li><a name="#Bling.prototype.first" href="#doc:Bling.prototype.first"><span>.first()</span></a>&nbsp;&mdash;&nbsp;return the first item in <i>this</i>, as itself.
	<pre>
	// return the first item in the set, bare
	$("input").first().nodeName
	// or, if n > 0, a list, like .take() </pre>
</li>
<li><a name="#Bling.prototype.join" href="#doc:Bling.prototype.join"><span>.join(s)</span></a>&nbsp;&mdash;&nbsp;concatenate all items in <i>this</i>, separated by <b>s</b>.
	<pre>
	// join all the items into a single string
	// separated by the given string
	$("input").zip("nodeName").join(", ") </pre>
</li>
<li><a name="#Bling.prototype.slice" href="#doc:Bling.prototype.slice"><span>.slice(i,j)</span></a>&nbsp;&mdash;&nbsp;get a subset of <i>this</i> from [<b>i</b>] to [<b>j</b>-1]
	<pre>
	// return a subset, given start and end indices
	// the end index is not included
	// negative indices count from the end, ala python
	$([0,1,2,3,4,5]).slice(3,-1)
		== [3, 4] </pre>
</li>
<li><a name="#Bling.prototype.concat" href="#doc:Bling.prototype.concat"><span>.concat(b)</span></a>&nbsp;&mdash;&nbsp;push all items from <b>b</b> on to the end of <i>this</i>.
	<pre>
	// puts all items from b into this
	$("input").concat($("select")) </pre>
</li>
<li><a name="#Bling.prototype.call" href="#doc:Bling.prototype.call"><span>.call(...)</span></a>&nbsp;&mdash;&nbsp;call every <b>x</b> in <i>this</i>, with the <b>...</b> arguments.
	<pre>
	// select a test node to use as argument
	var n = $("input").first()
	// select a group of functions
	$("input").zip("isSameNode")
		// and call each one
		.call(n);
	// returns [true, false ... ] </pre>
</li>
<li><a name="#Bling.prototype.apply" href="#doc:Bling.prototype.apply"><span>.apply(c, a)</span></a><span class='adv'>*</span>&nbsp;&mdash;&nbsp;apply all <b>x</b> in <i>this</i> to context <b>c</b>, with args <b>a</b>.
	<pre>
	// no example yet, see: .call() example </pre>
</li>
<li><a name="#Bling.prototype.future" href="#doc:Bling.prototype.future"><span>.future(n,f)</span></a>&nbsp;&mdash;&nbsp;apply <b>f</b> to <i>this</i>, approx. <b>n</b> ms in the future.
	<pre>
	// future resumes execution at a later time, bound to the current context
	$("input").show()
		// wait 3 seconds, and then run function bound to this
		.future(3000, function() {
			console.log("3 seconds later!:"+this.zip('value').join(", "))
		})
		// back in the past
		.zap('value','hamburger') </pre>
</li>
<li><a name="#Bling.prototype.weave" href="#doc:Bling.prototype.weave"><span>.weave(b)</span></a><span class='adv'>*</span>&nbsp;&mdash;&nbsp;interleave the items of <i>this</i> and the items of <b>b</b>.
	<pre>
	// interleaves the items from this bling
	// with the items from any other list
	$(["foo=","bar="]).weave($("input").val())
		== ["foo=","value1","bar=","value2"]
	$([1,1,1]).weave($([2,3,4]))
	 == [1,2,1,3,1,4] </pre>
</li>
<li><a name="#Bling.prototype.fold" href="#doc:Bling.prototype.fold"><span>.fold(f)</span></a><span class='adv'>*</span>&nbsp;&mdash;&nbsp;use <b>f</b> to reduce this to half as many values.
	<pre>
	// fold is like reduce only it iterates two items at a time
	// always returning a list about half the length of the input
	$([1,1,1]).weave([2,3,4]).fold(function(x) { return this + x })
		== $([3,4,5])
	// for a non-trival example see the source of .css() </pre>
</li>
</ol>
<span class='footnote'><span class='adv'>*</span> For advanced users: these are rarely needed by mortals.</span>
<div class='discussion'>
	<p>My favorite part of the Core Module is the pair of functions:
		<a href="#doc:Bling.prototype.zap" href="#doc:Bling.prototype.zip">.zip(p)</a>
		and <a href="#doc:Bling.prototype.zap">.zap(p,v)</a>.

	<p>The <a href="#Bling.prototype.zip">.zip(p)</a> method will extract a list of the values of a certain property.
	This is why later in the HTML Module, you will see <a href="#Bling.prototype.parent">.parent()</a>
	defined simply as <a href="#Bling.prototype.zip">.zip</a>('parentNode'), meaning,
	return a list of all the values of parentNode in <i>this</i>.

	<p>To illustrate, we get a parent three equivalent ways:
	<pre>
	$("button").parent().first()
	$("button").zip('parentNode').first()
	$("button").first().parentNode </pre>
	<p>The <a href="#Bling.prototype.zip">.zip(p)</a> method is different from <a href="#Bling.prototype.attr">.zip(p)</a> method is different from <a href="#Bling.prototype.attr">.attr(n)</a> in the HTML Module, which uses get/setAttribute, and only applies to DOM Nodes, not general objects.
	<p><a href="#Bling.prototype.zip">.zip(p)</a> also gives you some extra help if <b>x</b>.<b>p</b> results in a function, by automatically binding that function to it's original context.
	<p>For example, if you wanted to call the same function on every item:
	<pre>
	var x = $("input").first()
	$("input").zip('isSameNode').call( x ) </pre>
	<p>This will return a Bling{[true, false ...]} with only one true and the rest false. The <a href="#Bling.prototype.zip">.zip('isSameNode')</a> results in a set of bound functions,

	<p>The <a href="#Bling.prototype.zap">.zap(p,v)</a> method sets the value of the property <b>p</b> to <b>v</b>, returning the original set of nodes.
	<pre>
	// hide all buttons
	$("button").zap("style.display","none") </pre>
</div>

<h4>Html Module:</h4>
<ol class="apilist">
<li><a name="#Bling.prototype.html" href="#doc:Bling.prototype.html"><span>.html([h])</span></a>&nbsp;&mdash;&nbsp;collect [or set] the values of <b>x</b>.innerHTML [= <b>h</b>]
	<pre>
		$("#target").html("&amp;lt;p&amp;gt;Hello&amp;lt;/p&amp;gt;");
		$("#target").html() == "&amp;lt;p&amp;gt;Hello&amp;lt;/p&amp;gt;"; </pre>
</li>
<li><a name="#Bling.prototype.append" href="#doc:Bling.prototype.append"><span>.append(b)</span></a>&nbsp;&mdash;&nbsp;insert each <b>b</b> as the <u>last</u> child of each of <i>this</i>
	<pre>
		$("#target").html("&amp;lt;p&amp;gt;Hello&amp;lt;/p&amp;gt;").append("&amp;lt;hr&amp;gt;");
		$("#target").html() == "&amp;lt;p&amp;gt;Hello&amp;lt;hr&amp;gt;&amp;lt;/p&amp;gt;";
		</pre>
</li>
<li><a name="#Bling.prototype.appendTo" href="#doc:Bling.prototype.appendTo"><span>.appendTo(b)</span></a>&nbsp;&mdash;&nbsp;insert each of <i>this</i> as the <u>last</u> child of each <b>b</b>
	<pre>
		$("#target").html("&amp;lt;p&amp;gt;Hello&amp;lt;/p&amp;gt;").appendTo("&amp;lt;div&amp;gt;World&amp;lt;/div&amp;gt;");
		$("#target").html() == "&amp;lt;div&amp;gt;World&amp;lt;p&amp;gt;Hello&amp;lt;/p&amp;gt;&amp;lt;/div&amp;gt;";
	</pre>
</li>
<li><a name="#Bling.prototype.prepend" href="#doc:Bling.prototype.prepend"><span>.prepend(b)</span></a>&nbsp;&mdash;&nbsp;insert each <b>b</b> as the <u>first</u> child of each of <i>this</i>
	<pre>
		$("#target").html("&amp;lt;p&amp;gt;Hello&amp;lt;/p&amp;gt;").append("&amp;lt;hr&amp;gt;");
		$("#target").html() == "&amp;lt;p&amp;gt;&amp;lt;hr&amp;gt;Hello&amp;lt;/p&amp;gt;";
	</pre>
</li>
<li><a name="#Bling.prototype.prependTo" href="#doc:Bling.prototype.prependTo"><span>.prependTo(b)</span></a>&nbsp;&mdash;&nbsp;insert each of <i>this</i> as the <u>first</u> child of each <b>b</b>
	<pre>
		$("#target").html("&amp;lt;p&amp;gt;Hello&amp;lt;/p&amp;gt;").prependTo("&amp;lt;div&amp;gt;World&amp;lt;/div&amp;gt;");
		$("#target").html() == "&amp;lt;div&amp;gt;&amp;lt;p&amp;gt;Hello&amp;lt;/p&amp;gt;World&amp;lt;/div&amp;gt;";
	</pre>
</li>
<li><a name="#Bling.prototype.before" href="#doc:Bling.prototype.before"><span>.before(b)</span></a>&nbsp;&mdash;&nbsp;all nodes in <b>b</b> are inserted before each of <i>this</i>
	<pre>
		$("&amp;lt;p&amp;gt;Hello&amp;lt;/p&amp;gt;").before("&amp;lt;div&amp;gt;World&amp;lt;/div&amp;gt;")
			.html() == "&amp;lt;p&amp;gt;Hello&amp;lt;/p&amp;gt;&amp;lt;div&amp;gt;World&amp;lt;/div&amp;gt;";
	</pre>
</li>
<li><a name="#Bling.prototype.after" href="#doc:Bling.prototype.after"><span>.after(b)</span></a>&nbsp;&mdash;&nbsp;all nodes in <b>b</b> are inserted after each of <i>this</i>
	<pre>
		$("&amp;lt;p&amp;gt;Hello&amp;lt;/p&amp;gt;").after("&amp;lt;div&amp;gt;World&amp;lt;/div&amp;gt;")
			.html() == "&amp;lt;div&amp;gt;World&amp;lt;/div&amp;gt;&amp;lt;p&amp;gt;Hello&amp;lt;/p&amp;gt;";
	</pre>
</li>
<li><a name="#Bling.prototype.wrap" href="#doc:Bling.prototype.wrap"><span>.wrap(b)</span></a>&nbsp;&mdash;&nbsp;<b>b</b> becomes the new parent of each of <i>this</i>
	<pre>
		$("&amp;lt;p&amp;gt;Hello&amp;lt;/p&amp;gt;").wrap("&amp;lt;div&amp;gt;&amp;lt;/div&amp;gt;")
			.html() == "&amp;lt;div&amp;gt;&amp;lt;p&amp;gt;Hello&amp;lt;/p&amp;gt;&amp;lt;/div&amp;gt;"
	</pre>
</li>
<li><a name="#Bling.prototype.unwrap" href="#doc:Bling.prototype.unwrap"><span>.unwrap()</span></a>&nbsp;&mdash;&nbsp;each <b>x</b> in <i>this</i> replaces its parentNode
	<pre>
		$("&amp;lt;p&amp;gt;Hello&amp;lt;/p&amp;gt;").unwrap().html() == "Hello";
	</pre>
</li>
<li><a name="#Bling.prototype.attr" href="#doc:Bling.prototype.attr"><span>.attr(n,[v])</span></a>&nbsp;&mdash;&nbsp;collect [or set] with get/setAttribute(<b>n</b>,[<b>v</b>])
	<pre>
		$("&amp;lt;p nodenum=21&amp;gt;Hello&amp;lt;/p&amp;gt;").attr("nodenum") == 21;
	</pre>
</li>
<li><a name="#Bling.prototype.addClass" href="#doc:Bling.prototype.addClass"><span>.addClass(c)</span></a>&nbsp;&mdash;&nbsp;each of <i>this</i> has <b>c</b> added to it's className
	<pre>
		$("&amp;lt;p&amp;gt;Hello&amp;lt;/p&amp;gt;").addClass("para");
	</pre>
</li>
<li><a name="#Bling.prototype.removeClass" href="#doc:Bling.prototype.removeClass"><span>.removeClass(c)</span></a>&nbsp;&mdash;&nbsp;remove <b>c</b> from <b>x</b>.className for <b>x</b> in <i>this</i>
	<pre>
		$("&amp;lt;p class='para'&amp;gt;Hello&amp;lt;/p&amp;gt;").removeClass("para");
	</pre>
</li>
<li><a name="#Bling.prototype.toggleClass" href="#doc:Bling.prototype.toggleClass"><span>.toggleClass(c)</span></a>&nbsp;&mdash;&nbsp;add/remove class <b>c</b> from each of <i>this</i>
	<pre>
		$("&amp;lt;p class='para'&amp;gt;Hello&amp;lt;/p&amp;gt;").toggleClass("para");
	</pre>
</li>
<li><a name="#Bling.prototype.hasClass" href="#doc:Bling.prototype.hasClass"><span>.hasClass(c)</span></a>&nbsp;&mdash;&nbsp;collect true if <b>x</b>.className contains <b>c</b>, or false
	<pre>
		$("&amp;lt;p class='para'&amp;gt;Hello&amp;lt;/p&amp;gt;").hasClass("para");
	</pre>
</li>
<li><a name="#Bling.prototype.text" href="#doc:Bling.prototype.text"><span>.text([t])</span></a>&nbsp;&mdash;&nbsp;collect [or set] the value of <b>x</b>.innerText [= <b>t</b>]
	<pre>
		$("&amp;lt;p&amp;gt;Hello&amp;lt;hr&amp;gt;&amp;lt;/p&amp;gt;").text() == "Hello";
	</pre>
</li>
<li><a name="#Bling.prototype.val" href="#doc:Bling.prototype.val"><span>.val([v])</span></a>&nbsp;&mdash;&nbsp;collect [or set] the value of <b>x</b>.value [= <b>v</b>]
	<pre>
		// add one to the value of every text input
		$("input[type=text]").val( $("input[type=text]").val() + 1 )
	</pre>
</li>
<li><a name="#Bling.prototype.css" href="#doc:Bling.prototype.css"><span>.css(k,[v])</span></a>&nbsp;&mdash;&nbsp;collect computed [or set element] styles
	<pre>
		// set each input's line-height equal to it's height
		$("input[type=text]").each(function() {
			this.css('line-height', this.css('height').first())
		})
	</pre>
</li>
<li><a name="#Bling.prototype.width" href="#doc:Bling.prototype.width"><span>.width()</span></a>&nbsp;&mdash;&nbsp;collect the computed widths
	<pre>
		$("#target").css("width") == $("#target").width()
	</pre>
</li>
<li><a name="#Bling.prototype.height" href="#doc:Bling.prototype.height"><span>.height()</span></a>&nbsp;&mdash;&nbsp;collect the computed heights
	<pre>
		$("#target").css("height") == $("#target").height()
	</pre>
</li>
<li><a name="#Bling.prototype.toColors" href="#doc:Bling.prototype.toColors"><span>.toColors()</span></a>&nbsp;&mdash;&nbsp;convert a css string to a color value
	<pre>
		$("#target").css('color', "#fffefd")
			.css('color').toColors().first() == [255,254,253,1]
	</pre>
</li>
<li><a name="#Bling.prototype.toRGBAString" href="#doc:Bling.prototype.toRGBAString"><span>.toRGBAString()</span></a>&nbsp;&mdash;&nbsp;convert a color value to a css string
	<pre>
		$("#target").css('color', "#fffefd")
			.css('color').toColors().first() // see: .toColors() above
			.scale(.5) // see: .scale() in Math Module
			.toRGBAString() == "rgba(127.5, 127, 126.5, 0.5)";
	</pre>
</li>
<li><a name="#Bling.prototype.child" href="#doc:Bling.prototype.child"><span>.child(n)</span></a>&nbsp;&mdash;&nbsp;collect childNodes[<b>n</b>] from each of <i>this</i>
	<pre>
		$("&amp;lt;p&amp;gt;&amp;lt;span&amp;gt;1st&amp;lt;/span&amp;gt;&amp;lt;div&amp;gt;2nd&amp;lt;/div&amp;gt;&amp;lt;/p&gt;")
			.child(1).text() == "2nd"
	</pre>
</li>
<li><a name="#Bling.prototype.children" href="#doc:Bling.prototype.children"><span>.children()</span></a>&nbsp;&mdash;&nbsp;collect <u>all</u> childNodes from each of <i>this</i>
	<pre>
		$("&amp;lt;p&amp;gt;&amp;lt;span&amp;gt;1st&amp;lt;/span&amp;gt;&amp;lt;div&amp;gt;2nd&amp;lt;/div&amp;gt;&amp;lt;/p&amp;gt;")
			.children().first()
			.zip('nodeName').join(" ") == "SPAN DIV";
	</pre>
</li>
<li><a name="#Bling.prototype.parent" href="#doc:Bling.prototype.parent"><span>.parent()</span></a>&nbsp;&mdash;&nbsp;collect parentNode from each of <i>this</i>
	<pre>
		$("&amp;lt;p&amp;gt;&amp;lt;span&amp;gt;1st&amp;lt;/span&amp;gt;&amp;lt;div&amp;gt;2nd&amp;lt;/div&amp;gt;&amp;lt;/p&amp;gt;")
			.children().first()
			.parent()
			// one parent for each child
			// even if same parent twice
			.zip('nodeName').join(" ") == "P P";
	</pre>
</li>
<li><a name="#Bling.prototype.parents" href="#doc:Bling.prototype.parents"><span>.parents()</span></a>&nbsp;&mdash;&nbsp;collect a full ancestry from each of <i>this</i>
	<pre>
		$("&amp;lt;p&amp;gt;Hello&amp;lt;/p&amp;gt;").appendTo("body")
			.parents().first() == [&amp;lt;body&amp;gt;, &amp;lt;html&amp;gt;, #document]
	</pre>
</li>
<li><a name="#Bling.prototype.remove" href="#doc:Bling.prototype.remove"><span>.remove()</span></a>&nbsp;&mdash;&nbsp;detach each node in <i>this</i> from it's parent
	<pre>
		$("&amp;lt;p&amp;gt;Hello&amp;lt;/p&amp;gt;").appendTo("body")
			.remove()
			.parents().first() == []
	</pre>
</li>
<li><a name="#Bling.prototype.find" href="#doc:Bling.prototype.find"><span>.find(e)</span></a>&nbsp;&mdash;&nbsp;collect all nodes matching css expression e
	<pre>
		$("body").find(".foo") == $("body .foo")
	</pre>
</li>
<li><a name="#Bling.prototype.clone" href="#doc:Bling.prototype.clone"><span>.clone()</span></a>&nbsp;&mdash;&nbsp;collect a copy of each node in this (w/o events)
	<pre>
		$("&amp;lt;p class='hi'&amp;gt;Hello&amp;lt;/p&amp;gt;").appendTo("body")
			.clone().appendTo("body");
		$("body .hi").length == 2
	</pre>
</li>
<li><a name="#Bling.prototype.toFragment" href="#doc:Bling.prototype.toFragment"><span>.toFragment()</span></a><span class='adv'>*</span>&nbsp;&mdash;&nbsp;convert <i>this</i> to a Node (or Fragment)
	<pre>
		$("&amp;lt;b&amp;gt;Hello&amp;lt;/b&amp;gt;&amp;lt;p&amp;gt;I am not well-formed.&amp;lt;/p&amp;gt;")
			.toFragment().nodeType == 11
		$("&amp;lt;p&amp;gt;&amp;lt;b&amp;gt;I am&amp;lt;/b&amp;gt; well-formed.")
			.toFragment().nodeType == 1
	</pre>
</li>
</ol>
<span class='footnote'><span class='adv'>*</span> For advanced users: these are rarely needed by mortals.</span>
<p>Globals:
<ol class="apilist">
<li><a name="#Bling.rgb" href="#doc:Bling.rgb"><span>$.rgb(s)</span></a>&nbsp;&mdash;&nbsp;parses any CSS color string <b>s</b> to a color value
	<pre>
	</pre>
</li>
<li><a name="#Bling.HTML.parse" href="#doc:Bling.HTML.parse"><span>$.HTML.parse(s)</span></a>&nbsp;&mdash;&nbsp;parses HTML string <b>s</b> into a Node
	<pre>
	</pre>
</li>
<li><a name="#Bling.HTML.stringify" href="#doc:Bling.HTML.stringify"><span>$.HTML.stringify(n)</span></a>&nbsp;&mdash;&nbsp;reduce any Node <b>n</b> to an HTML string
	<pre>
	</pre>
</li>
</ol>
<div class='discussion'>
	<p>The HTML Module mirrors virtually all of jQuery's functionality for collecting and manipulating DOM Nodes,
as well as adding in a couple tricks along the way.  Keep in mind that BlingJS methods return sets, and you get single items using first() and friends.
</div>


<h4>Math Module</h4>
<ol class="apilist">
<li><a name="#Bling.prototype.floats" href="#doc:Bling.prototype.floats"><span>.floats()</span></a>&nbsp;&mdash;&nbsp;convert each of this to a float value
	<pre>
	</pre>
</li>
<li><a name="#Bling.prototype.ints" href="#doc:Bling.prototype.ints"><span>.ints()</span></a>&nbsp;&mdash;&nbsp;convert each of this to an int value
	<pre>
	</pre>
</li>
<li><a name="#Bling.prototype.min" href="#doc:Bling.prototype.min"><span>.min()</span></a>&nbsp;&mdash;&nbsp;collect the smallest x in this
	<pre>
	</pre>
</li>
<li><a name="#Bling.prototype.max" href="#doc:Bling.prototype.max"><span>.max()</span></a>&nbsp;&mdash;&nbsp;collect the largest x in this
	<pre>
	</pre>
</li>
<li><a name="#Bling.prototype.average" href="#doc:Bling.prototype.average"><span>.average()</span></a>&nbsp;&mdash;&nbsp;compute the average of all x in this
	<pre>
	</pre>
</li>
<li><a name="#Bling.prototype.sum" href="#doc:Bling.prototype.sum"><span>.sum()</span></a>&nbsp;&mdash;&nbsp;compute the sum of all x in this
	<pre>
	</pre>
</li>
<li><a name="#Bling.prototype.squares" href="#doc:Bling.prototype.squares"><span>.squares()</span></a>&nbsp;&mdash;&nbsp;compute x*x for all x in this
	<pre>
	</pre>
</li>
<li><a name="#Bling.prototype.magnitude" href="#doc:Bling.prototype.magnitude"><span>.magnitude()</span></a>&nbsp;&mdash;&nbsp;compute the vector length of this
	<pre>
	</pre>
</li>
<li><a name="#Bling.prototype.scale" href="#doc:Bling.prototype.scale"><span>.scale(r)</span></a>&nbsp;&mdash;&nbsp;scale each x in this to x * r
	<pre>
	</pre>
</li>
<li><a name="#Bling.prototype.normalize" href="#doc:Bling.prototype.normalize"><span>.normalize()</span></a>&nbsp;&mdash;&nbsp;scale each x in this, so that magnitude == 1.0
	<pre>
	</pre>
</li>
</ol>

<p class='disc'>If you are coming from the world of jQuery, these functions might seem useless.
But you can often use them to accomplish interesting things with a little know-how.
<p>For instance, here's how to use the rgb() method, to produce a real color palette for the current page.
<p>Then we can use the Math Module to produce procedural variants of these colors.</p>
<pre class="prettyprint" id="palette">
var palette = {};
// create a new div
var block = $("&lt;div id='palette'/&gt;")
	.text("Calculating...")
	// open it as a dialog
	.dialog().show(function() {
		// touch every element
		$("*").each(function() {
			var t = $(this),
				fg = t.css('color').first(),
				bg = t.trueColor().first(),
				key = bg + ":" + fg
			palette[key] = true
		})
		// create a label generator
		function label() {
			return String.fromCharCode( label.c++ )
		}
		label.c = ('A').charCodeAt(0)
		$(this.contentNode).text("");
		// generate swatches
		for(var bf in palette) {
			bf = bf.split(':')
			$("&lt;div/&gt;")
				.css({
					"background-color": bf[0],
					color: bf[1],
					float: "left",
					width: "20px", height: "20px"
				})
				.text(label())
				.appendTo(this.contentNode)
		}
	}).center()
</pre>
<button id="try-palette">Try It!</button>
<button id="edit-palette">Edit It!</button>
<script type="text/javascript">
	$("#try-palette").click(function(){
		eval(unescape($("pre#palette").text().first()));
	})
	$("#edit-palette").cycle('click',function EditIt(){
		var b = $(this),
			p = $("pre#palette"),
			text = p.text().first(),
			w = p.width(), h = p.height(),
			input = $("<textarea id='palette'>")
				.css({ width: w + "px", height: h + "px" })
				.val(text);
		p.replace(input);
		b.text("Save It!")
	}, function SaveIt() {
		var b = $(this),
			t = $("textarea#palette"),
			p = prettyPrintOne("<pre id='palette' class='prettyprint'>" + $.escapeHTML(t.val().first()) + "</pre>")
		t.replace(p)
		b.text("Edit It!")
	})
</script>

<h4>Events Module</h4>
<ol class="apilist">
<li><a name="#Bling.prototype.bind" href="#doc:Bling.prototype.bind"><span>.bind(e, f)</span></a>&nbsp;&mdash;&nbsp;add f as a listener for event e, e.g. 'click'
	<pre>
	</pre>
</li>
<li><a name="#Bling.prototype.once" href="#doc:Bling.prototype.once"><span>.once(e, f)</span></a>&nbsp;&mdash;&nbsp;add f as a listener that will only fire once
	<pre>
	</pre>
</li>
<li><a name="#Bling.prototype.cycle" href="#doc:Bling.prototype.cycle"><span>.cycle(e, [...])</span></a>&nbsp;&mdash;&nbsp;each trigger of e, executes the next handler
	<pre>
	</pre>
</li>
</ol>
<h4>Transform Module</h4>
<ol class="apilist">
	<li>TODO</li>
</ol>

<h3>Extending the API</h3>
<p>Extending the Bling API is very easy: you use two methods addGlobals, and addMethods.
<h4>Bling.addMethods:</h4>
<p>In a plugin file/script:
<pre>
Bling.addMethods({ "echo": function() {
	console.log("context: "+this
		+" arguments: "+arguments)
}) </pre>
<p>On a page:
<pre>
$("body").echo() </pre>
<p>This would log all of the selected nodes, and the arguments of a standard Bling method invocation.

<p>But, always try to return either a new context or the existing one.
<p>The better way:
<pre>
Bling.addMethods({
	"echo": function(){
		console.log("context: "+this
			+" arguments: "+arguments);
		return this // the better way
	},
}) </pre>
<pre>
$("body").echo()
	.css('color','yellow')
	.fadeOut() </pre>
<p>This will log the same thing to the console, and still allow you to chain other methods.
<p>If you modify the set, try to return a new set equivalent in all other ways except your desired change.
See <a href="#Bling.prototype.map">.map()</a>for an example.
<h4>Bling.addGlobals:</h4>
<p>addGlobals is simpler, because it is not expected to be part of the chain, it will just add something available as Bling.XXX
<pre>
Bling.addGlobals("break", function() {
	debugger;
}) </pre>
<pre>
$.break() </pre>

		<h3>Unit tests</h3>
		<p>You can run the <a href="content/test.bling.html">BlingJS unit tests</a> in your browser.
		<h3>jQuery</h3>
		<p>BlingJS is very much like jQuery, and you can do just about anything in it that you can do in jQuery.  If you know jQuery, then in general you can use BlingJS by writing what you would expect to work in jQuery, then assume everything you get is a list, and end your expressions with things like .first()
	</body>
</html>
